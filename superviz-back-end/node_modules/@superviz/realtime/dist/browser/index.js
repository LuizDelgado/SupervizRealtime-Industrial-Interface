var t0=Object.create;var ca=Object.defineProperty;var n0=Object.getOwnPropertyDescriptor;var r0=Object.getOwnPropertyNames,zl=Object.getOwnPropertySymbols,i0=Object.getPrototypeOf,Hl=Object.prototype.hasOwnProperty,s0=Object.prototype.propertyIsEnumerable;var Kl=(t,n,r)=>n in t?ca(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Gl=(t,n)=>{for(var r in n||(n={}))Hl.call(n,r)&&Kl(t,r,n[r]);if(zl)for(var r of zl(n))s0.call(n,r)&&Kl(t,r,n[r]);return t};var Re=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var o0=(t,n,r,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of r0(n))!Hl.call(t,a)&&a!==r&&ca(t,a,{get:()=>n[a],enumerable:!(s=n0(n,a))||s.enumerable});return t};var Yi=(t,n,r)=>(r=t!=null?t0(i0(t)):{},o0(n||!t||!t.__esModule?ca(r,"default",{value:t,enumerable:!0}):r,t));var xe=(t,n,r)=>new Promise((s,a)=>{var l=v=>{try{m(r.next(v))}catch(C){a(C)}},p=v=>{try{m(r.throw(v))}catch(C){a(C)}},m=v=>v.done?s(v.value):Promise.resolve(v.value).then(l,p);m((r=r.apply(t,n)).next())});var sh=Re((AE,ih)=>{var Gn=1e3,Vn=Gn*60,Yn=Vn*60,Cn=Yn*24,Nx=Cn*7,Px=Cn*365.25;ih.exports=function(t,n){n=n||{};var r=typeof t;if(r==="string"&&t.length>0)return Lx(t);if(r==="number"&&isFinite(t))return n.long?Dx(t):Fx(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Lx(t){if(t=String(t),!(t.length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(n){var r=parseFloat(n[1]),s=(n[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*Px;case"weeks":case"week":case"w":return r*Nx;case"days":case"day":case"d":return r*Cn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Yn;case"minutes":case"minute":case"mins":case"min":case"m":return r*Vn;case"seconds":case"second":case"secs":case"sec":case"s":return r*Gn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Fx(t){var n=Math.abs(t);return n>=Cn?Math.round(t/Cn)+"d":n>=Yn?Math.round(t/Yn)+"h":n>=Vn?Math.round(t/Vn)+"m":n>=Gn?Math.round(t/Gn)+"s":t+"ms"}function Dx(t){var n=Math.abs(t);return n>=Cn?Ss(t,n,Cn,"day"):n>=Yn?Ss(t,n,Yn,"hour"):n>=Vn?Ss(t,n,Vn,"minute"):n>=Gn?Ss(t,n,Gn,"second"):t+" ms"}function Ss(t,n,r,s){var a=n>=r*1.5;return Math.round(t/r)+" "+s+(a?"s":"")}});var ah=Re((kE,oh)=>{function Mx(t){r.debug=r,r.default=r,r.coerce=v,r.disable=l,r.enable=a,r.enabled=p,r.humanize=sh(),r.destroy=C,Object.keys(t).forEach(A=>{r[A]=t[A]}),r.names=[],r.skips=[],r.formatters={};function n(A){let I=0;for(let R=0;R<A.length;R++)I=(I<<5)-I+A.charCodeAt(R),I|=0;return r.colors[Math.abs(I)%r.colors.length]}r.selectColor=n;function r(A){let I,R=null,k,M;function F(...he){if(!F.enabled)return;let le=F,pe=Number(new Date),ue=pe-(I||pe);le.diff=ue,le.prev=I,le.curr=pe,I=pe,he[0]=r.coerce(he[0]),typeof he[0]!="string"&&he.unshift("%O");let _e=0;he[0]=he[0].replace(/%([a-zA-Z%])/g,(ie,Te)=>{if(ie==="%%")return"%";_e++;let Ue=r.formatters[Te];if(typeof Ue=="function"){let $t=he[_e];ie=Ue.call(le,$t),he.splice(_e,1),_e--}return ie}),r.formatArgs.call(le,he),(le.log||r.log).apply(le,he)}return F.namespace=A,F.useColors=r.useColors(),F.color=r.selectColor(A),F.extend=s,F.destroy=r.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>R!==null?R:(k!==r.namespaces&&(k=r.namespaces,M=r.enabled(A)),M),set:he=>{R=he}}),typeof r.init=="function"&&r.init(F),F}function s(A,I){let R=r(this.namespace+(typeof I=="undefined"?":":I)+A);return R.log=this.log,R}function a(A){r.save(A),r.namespaces=A,r.names=[],r.skips=[];let I,R=(typeof A=="string"?A:"").split(/[\s,]+/),k=R.length;for(I=0;I<k;I++)R[I]&&(A=R[I].replace(/\*/g,".*?"),A[0]==="-"?r.skips.push(new RegExp("^"+A.slice(1)+"$")):r.names.push(new RegExp("^"+A+"$")))}function l(){let A=[...r.names.map(m),...r.skips.map(m).map(I=>"-"+I)].join(",");return r.enable(""),A}function p(A){if(A[A.length-1]==="*")return!0;let I,R;for(I=0,R=r.skips.length;I<R;I++)if(r.skips[I].test(A))return!1;for(I=0,R=r.names.length;I<R;I++)if(r.names[I].test(A))return!0;return!1}function m(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}function v(A){return A instanceof Error?A.stack||A.message:A}function C(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}oh.exports=Mx});var Va=Re((Ye,Os)=>{Ye.formatArgs=Bx;Ye.save=Zx;Ye.load=jx;Ye.useColors=Ux;Ye.storage=Wx();Ye.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ye.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ux(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Bx(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Os.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(r++,a==="%c"&&(s=r))}),t.splice(s,0,n)}Ye.log=console.debug||console.log||(()=>{});function Zx(t){try{t?Ye.storage.setItem("debug",t):Ye.storage.removeItem("debug")}catch(n){}}function jx(){let t;try{t=Ye.storage.getItem("debug")}catch(n){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Wx(){try{return localStorage}catch(t){}}Os.exports=ah()(Ye);var{formatters:$x}=Os.exports;$x.j=function(t){try{return JSON.stringify(t)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}});var Rs=Re((NE,ch)=>{function qx(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}ch.exports=qx});var fh=Re((PE,lh)=>{var zx=typeof global=="object"&&global&&global.Object===Object&&global;lh.exports=zx});var Ya=Re((LE,hh)=>{var Kx=fh(),Hx=typeof self=="object"&&self&&self.Object===Object&&self,Gx=Kx||Hx||Function("return this")();hh.exports=Gx});var dh=Re((FE,ph)=>{var Vx=Ya(),Yx=function(){return Vx.Date.now()};ph.exports=Yx});var gh=Re((DE,mh)=>{var Jx=/\s/;function Xx(t){for(var n=t.length;n--&&Jx.test(t.charAt(n)););return n}mh.exports=Xx});var yh=Re((ME,vh)=>{var Qx=gh(),eC=/^\s+/;function tC(t){return t&&t.slice(0,Qx(t)+1).replace(eC,"")}vh.exports=tC});var Ja=Re((UE,_h)=>{var nC=Ya(),rC=nC.Symbol;_h.exports=rC});var Ch=Re((BE,xh)=>{var bh=Ja(),wh=Object.prototype,iC=wh.hasOwnProperty,sC=wh.toString,Gr=bh?bh.toStringTag:void 0;function oC(t){var n=iC.call(t,Gr),r=t[Gr];try{t[Gr]=void 0;var s=!0}catch(l){}var a=sC.call(t);return s&&(n?t[Gr]=r:delete t[Gr]),a}xh.exports=oC});var Th=Re((ZE,Eh)=>{var aC=Object.prototype,uC=aC.toString;function cC(t){return uC.call(t)}Eh.exports=cC});var Ah=Re((jE,Rh)=>{var Sh=Ja(),lC=Ch(),fC=Th(),hC="[object Null]",pC="[object Undefined]",Oh=Sh?Sh.toStringTag:void 0;function dC(t){return t==null?t===void 0?pC:hC:Oh&&Oh in Object(t)?lC(t):fC(t)}Rh.exports=dC});var Ih=Re((WE,kh)=>{function mC(t){return t!=null&&typeof t=="object"}kh.exports=mC});var Ph=Re(($E,Nh)=>{var gC=Ah(),vC=Ih(),yC="[object Symbol]";function _C(t){return typeof t=="symbol"||vC(t)&&gC(t)==yC}Nh.exports=_C});var Mh=Re((qE,Dh)=>{var bC=yh(),Lh=Rs(),wC=Ph(),Fh=NaN,xC=/^[-+]0x[0-9a-f]+$/i,CC=/^0b[01]+$/i,EC=/^0o[0-7]+$/i,TC=parseInt;function SC(t){if(typeof t=="number")return t;if(wC(t))return Fh;if(Lh(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Lh(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=bC(t);var r=CC.test(t);return r||EC.test(t)?TC(t.slice(2),r?2:8):xC.test(t)?Fh:+t}Dh.exports=SC});var Zh=Re((zE,Bh)=>{var OC=Rs(),Xa=dh(),Uh=Mh(),RC="Expected a function",AC=Math.max,kC=Math.min;function IC(t,n,r){var s,a,l,p,m,v,C=0,A=!1,I=!1,R=!0;if(typeof t!="function")throw new TypeError(RC);n=Uh(n)||0,OC(r)&&(A=!!r.leading,I="maxWait"in r,l=I?AC(Uh(r.maxWait)||0,n):l,R="trailing"in r?!!r.trailing:R);function k(ie){var Te=s,Ue=a;return s=a=void 0,C=ie,p=t.apply(Ue,Te),p}function M(ie){return C=ie,m=setTimeout(le,n),A?k(ie):p}function F(ie){var Te=ie-v,Ue=ie-C,$t=n-Te;return I?kC($t,l-Ue):$t}function he(ie){var Te=ie-v,Ue=ie-C;return v===void 0||Te>=n||Te<0||I&&Ue>=l}function le(){var ie=Xa();if(he(ie))return pe(ie);m=setTimeout(le,F(ie))}function pe(ie){return m=void 0,R&&s?k(ie):(s=a=void 0,p)}function ue(){m!==void 0&&clearTimeout(m),C=0,s=v=a=m=void 0}function _e(){return m===void 0?p:pe(Xa())}function Ee(){var ie=Xa(),Te=he(ie);if(s=arguments,a=this,v=ie,Te){if(m===void 0)return M(v);if(I)return clearTimeout(m),m=setTimeout(le,n),k(v)}return m===void 0&&(m=setTimeout(le,n)),p}return Ee.cancel=ue,Ee.flush=_e,Ee}Bh.exports=IC});var Wh=Re((KE,jh)=>{var NC=Zh(),PC=Rs(),LC="Expected a function";function FC(t,n,r){var s=!0,a=!0;if(typeof t!="function")throw new TypeError(LC);return PC(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),NC(t,n,{leading:s,maxWait:n,trailing:a})}jh.exports=FC});var op=Re((rr,Qr)=>{(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",m=500,v="__lodash_placeholder__",C=1,A=2,I=4,R=1,k=2,M=1,F=2,he=4,le=8,pe=16,ue=32,_e=64,Ee=128,ie=256,Te=512,Ue=30,$t="...",ni=800,Zs=16,pu=1,lp=2,fp=3,cn=1/0,qt=9007199254740991,hp=17976931348623157e292,ri=NaN,wt=4294967295,pp=wt-1,dp=wt>>>1,mp=[["ary",Ee],["bind",M],["bindKey",F],["curry",le],["curryRight",pe],["flip",Te],["partial",ue],["partialRight",_e],["rearg",ie]],Tn="[object Arguments]",ii="[object Array]",gp="[object AsyncFunction]",ir="[object Boolean]",sr="[object Date]",vp="[object DOMException]",si="[object Error]",oi="[object Function]",du="[object GeneratorFunction]",ut="[object Map]",or="[object Number]",yp="[object Null]",At="[object Object]",mu="[object Promise]",_p="[object Proxy]",ar="[object RegExp]",ct="[object Set]",ur="[object String]",ai="[object Symbol]",bp="[object Undefined]",cr="[object WeakMap]",wp="[object WeakSet]",lr="[object ArrayBuffer]",Sn="[object DataView]",js="[object Float32Array]",Ws="[object Float64Array]",$s="[object Int8Array]",qs="[object Int16Array]",zs="[object Int32Array]",Ks="[object Uint8Array]",Hs="[object Uint8ClampedArray]",Gs="[object Uint16Array]",Vs="[object Uint32Array]",xp=/\b__p \+= '';/g,Cp=/\b(__p \+=) '' \+/g,Ep=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gu=/&(?:amp|lt|gt|quot|#39);/g,vu=/[&<>"']/g,Tp=RegExp(gu.source),Sp=RegExp(vu.source),Op=/<%-([\s\S]+?)%>/g,Rp=/<%([\s\S]+?)%>/g,yu=/<%=([\s\S]+?)%>/g,Ap=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kp=/^\w*$/,Ip=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ys=/[\\^$.*+?()[\]{}|]/g,Np=RegExp(Ys.source),Js=/^\s+/,Pp=/\s/,Lp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fp=/\{\n\/\* \[wrapped with (.+)\] \*/,Dp=/,? & /,Mp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Up=/[()=,{}\[\]\/\s]/,Bp=/\\(\\)?/g,Zp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_u=/\w*$/,jp=/^[-+]0x[0-9a-f]+$/i,Wp=/^0b[01]+$/i,$p=/^\[object .+?Constructor\]$/,qp=/^0o[0-7]+$/i,zp=/^(?:0|[1-9]\d*)$/,Kp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ui=/($^)/,Hp=/['\n\r\u2028\u2029\\]/g,ci="\\ud800-\\udfff",Gp="\\u0300-\\u036f",Vp="\\ufe20-\\ufe2f",Yp="\\u20d0-\\u20ff",bu=Gp+Vp+Yp,wu="\\u2700-\\u27bf",xu="a-z\\xdf-\\xf6\\xf8-\\xff",Jp="\\xac\\xb1\\xd7\\xf7",Xp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qp="\\u2000-\\u206f",ed=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cu="A-Z\\xc0-\\xd6\\xd8-\\xde",Eu="\\ufe0e\\ufe0f",Tu=Jp+Xp+Qp+ed,Xs="['\u2019]",td="["+ci+"]",Su="["+Tu+"]",li="["+bu+"]",Ou="\\d+",nd="["+wu+"]",Ru="["+xu+"]",Au="[^"+ci+Tu+Ou+wu+xu+Cu+"]",Qs="\\ud83c[\\udffb-\\udfff]",rd="(?:"+li+"|"+Qs+")",ku="[^"+ci+"]",eo="(?:\\ud83c[\\udde6-\\uddff]){2}",to="[\\ud800-\\udbff][\\udc00-\\udfff]",On="["+Cu+"]",Iu="\\u200d",Nu="(?:"+Ru+"|"+Au+")",id="(?:"+On+"|"+Au+")",Pu="(?:"+Xs+"(?:d|ll|m|re|s|t|ve))?",Lu="(?:"+Xs+"(?:D|LL|M|RE|S|T|VE))?",Fu=rd+"?",Du="["+Eu+"]?",sd="(?:"+Iu+"(?:"+[ku,eo,to].join("|")+")"+Du+Fu+")*",od="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ad="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mu=Du+Fu+sd,ud="(?:"+[nd,eo,to].join("|")+")"+Mu,cd="(?:"+[ku+li+"?",li,eo,to,td].join("|")+")",ld=RegExp(Xs,"g"),fd=RegExp(li,"g"),no=RegExp(Qs+"(?="+Qs+")|"+cd+Mu,"g"),hd=RegExp([On+"?"+Ru+"+"+Pu+"(?="+[Su,On,"$"].join("|")+")",id+"+"+Lu+"(?="+[Su,On+Nu,"$"].join("|")+")",On+"?"+Nu+"+"+Pu,On+"+"+Lu,ad,od,Ou,ud].join("|"),"g"),pd=RegExp("["+Iu+ci+bu+Eu+"]"),dd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,md=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gd=-1,de={};de[js]=de[Ws]=de[$s]=de[qs]=de[zs]=de[Ks]=de[Hs]=de[Gs]=de[Vs]=!0,de[Tn]=de[ii]=de[lr]=de[ir]=de[Sn]=de[sr]=de[si]=de[oi]=de[ut]=de[or]=de[At]=de[ar]=de[ct]=de[ur]=de[cr]=!1;var fe={};fe[Tn]=fe[ii]=fe[lr]=fe[Sn]=fe[ir]=fe[sr]=fe[js]=fe[Ws]=fe[$s]=fe[qs]=fe[zs]=fe[ut]=fe[or]=fe[At]=fe[ar]=fe[ct]=fe[ur]=fe[ai]=fe[Ks]=fe[Hs]=fe[Gs]=fe[Vs]=!0,fe[si]=fe[oi]=fe[cr]=!1;var vd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wd=parseFloat,xd=parseInt,Uu=typeof global=="object"&&global&&global.Object===Object&&global,Cd=typeof self=="object"&&self&&self.Object===Object&&self,Ae=Uu||Cd||Function("return this")(),ro=typeof rr=="object"&&rr&&!rr.nodeType&&rr,ln=ro&&typeof Qr=="object"&&Qr&&!Qr.nodeType&&Qr,Bu=ln&&ln.exports===ro,io=Bu&&Uu.process,Je=function(){try{var y=ln&&ln.require&&ln.require("util").types;return y||io&&io.binding&&io.binding("util")}catch(w){}}(),Zu=Je&&Je.isArrayBuffer,ju=Je&&Je.isDate,Wu=Je&&Je.isMap,$u=Je&&Je.isRegExp,qu=Je&&Je.isSet,zu=Je&&Je.isTypedArray;function qe(y,w,b){switch(b.length){case 0:return y.call(w);case 1:return y.call(w,b[0]);case 2:return y.call(w,b[0],b[1]);case 3:return y.call(w,b[0],b[1],b[2])}return y.apply(w,b)}function Ed(y,w,b,D){for(var K=-1,se=y==null?0:y.length;++K<se;){var Se=y[K];w(D,Se,b(Se),y)}return D}function Xe(y,w){for(var b=-1,D=y==null?0:y.length;++b<D&&w(y[b],b,y)!==!1;);return y}function Td(y,w){for(var b=y==null?0:y.length;b--&&w(y[b],b,y)!==!1;);return y}function Ku(y,w){for(var b=-1,D=y==null?0:y.length;++b<D;)if(!w(y[b],b,y))return!1;return!0}function zt(y,w){for(var b=-1,D=y==null?0:y.length,K=0,se=[];++b<D;){var Se=y[b];w(Se,b,y)&&(se[K++]=Se)}return se}function fi(y,w){var b=y==null?0:y.length;return!!b&&Rn(y,w,0)>-1}function so(y,w,b){for(var D=-1,K=y==null?0:y.length;++D<K;)if(b(w,y[D]))return!0;return!1}function ge(y,w){for(var b=-1,D=y==null?0:y.length,K=Array(D);++b<D;)K[b]=w(y[b],b,y);return K}function Kt(y,w){for(var b=-1,D=w.length,K=y.length;++b<D;)y[K+b]=w[b];return y}function oo(y,w,b,D){var K=-1,se=y==null?0:y.length;for(D&&se&&(b=y[++K]);++K<se;)b=w(b,y[K],K,y);return b}function Sd(y,w,b,D){var K=y==null?0:y.length;for(D&&K&&(b=y[--K]);K--;)b=w(b,y[K],K,y);return b}function ao(y,w){for(var b=-1,D=y==null?0:y.length;++b<D;)if(w(y[b],b,y))return!0;return!1}var Od=uo("length");function Rd(y){return y.split("")}function Ad(y){return y.match(Mp)||[]}function Hu(y,w,b){var D;return b(y,function(K,se,Se){if(w(K,se,Se))return D=se,!1}),D}function hi(y,w,b,D){for(var K=y.length,se=b+(D?1:-1);D?se--:++se<K;)if(w(y[se],se,y))return se;return-1}function Rn(y,w,b){return w===w?jd(y,w,b):hi(y,Gu,b)}function kd(y,w,b,D){for(var K=b-1,se=y.length;++K<se;)if(D(y[K],w))return K;return-1}function Gu(y){return y!==y}function Vu(y,w){var b=y==null?0:y.length;return b?lo(y,w)/b:ri}function uo(y){return function(w){return w==null?t:w[y]}}function co(y){return function(w){return y==null?t:y[w]}}function Yu(y,w,b,D,K){return K(y,function(se,Se,ce){b=D?(D=!1,se):w(b,se,Se,ce)}),b}function Id(y,w){var b=y.length;for(y.sort(w);b--;)y[b]=y[b].value;return y}function lo(y,w){for(var b,D=-1,K=y.length;++D<K;){var se=w(y[D]);se!==t&&(b=b===t?se:b+se)}return b}function fo(y,w){for(var b=-1,D=Array(y);++b<y;)D[b]=w(b);return D}function Nd(y,w){return ge(w,function(b){return[b,y[b]]})}function Ju(y){return y&&y.slice(0,tc(y)+1).replace(Js,"")}function ze(y){return function(w){return y(w)}}function ho(y,w){return ge(w,function(b){return y[b]})}function fr(y,w){return y.has(w)}function Xu(y,w){for(var b=-1,D=y.length;++b<D&&Rn(w,y[b],0)>-1;);return b}function Qu(y,w){for(var b=y.length;b--&&Rn(w,y[b],0)>-1;);return b}function Pd(y,w){for(var b=y.length,D=0;b--;)y[b]===w&&++D;return D}var Ld=co(vd),Fd=co(yd);function Dd(y){return"\\"+bd[y]}function Md(y,w){return y==null?t:y[w]}function An(y){return pd.test(y)}function Ud(y){return dd.test(y)}function Bd(y){for(var w,b=[];!(w=y.next()).done;)b.push(w.value);return b}function po(y){var w=-1,b=Array(y.size);return y.forEach(function(D,K){b[++w]=[K,D]}),b}function ec(y,w){return function(b){return y(w(b))}}function Ht(y,w){for(var b=-1,D=y.length,K=0,se=[];++b<D;){var Se=y[b];(Se===w||Se===v)&&(y[b]=v,se[K++]=b)}return se}function pi(y){var w=-1,b=Array(y.size);return y.forEach(function(D){b[++w]=D}),b}function Zd(y){var w=-1,b=Array(y.size);return y.forEach(function(D){b[++w]=[D,D]}),b}function jd(y,w,b){for(var D=b-1,K=y.length;++D<K;)if(y[D]===w)return D;return-1}function Wd(y,w,b){for(var D=b+1;D--;)if(y[D]===w)return D;return D}function kn(y){return An(y)?qd(y):Od(y)}function lt(y){return An(y)?zd(y):Rd(y)}function tc(y){for(var w=y.length;w--&&Pp.test(y.charAt(w)););return w}var $d=co(_d);function qd(y){for(var w=no.lastIndex=0;no.test(y);)++w;return w}function zd(y){return y.match(no)||[]}function Kd(y){return y.match(hd)||[]}var Hd=function y(w){w=w==null?Ae:Gt.defaults(Ae.Object(),w,Gt.pick(Ae,md));var b=w.Array,D=w.Date,K=w.Error,se=w.Function,Se=w.Math,ce=w.Object,mo=w.RegExp,Gd=w.String,Qe=w.TypeError,di=b.prototype,Vd=se.prototype,In=ce.prototype,mi=w["__core-js_shared__"],gi=Vd.toString,ae=In.hasOwnProperty,Yd=0,nc=function(){var e=/[^.]+$/.exec(mi&&mi.keys&&mi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),vi=In.toString,Jd=gi.call(ce),Xd=Ae._,Qd=mo("^"+gi.call(ae).replace(Ys,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yi=Bu?w.Buffer:t,Vt=w.Symbol,_i=w.Uint8Array,rc=yi?yi.allocUnsafe:t,bi=ec(ce.getPrototypeOf,ce),ic=ce.create,sc=In.propertyIsEnumerable,wi=di.splice,oc=Vt?Vt.isConcatSpreadable:t,hr=Vt?Vt.iterator:t,fn=Vt?Vt.toStringTag:t,xi=function(){try{var e=gn(ce,"defineProperty");return e({},"",{}),e}catch(i){}}(),em=w.clearTimeout!==Ae.clearTimeout&&w.clearTimeout,tm=D&&D.now!==Ae.Date.now&&D.now,nm=w.setTimeout!==Ae.setTimeout&&w.setTimeout,Ci=Se.ceil,Ei=Se.floor,go=ce.getOwnPropertySymbols,rm=yi?yi.isBuffer:t,ac=w.isFinite,im=di.join,sm=ec(ce.keys,ce),Oe=Se.max,Ne=Se.min,om=D.now,am=w.parseInt,uc=Se.random,um=di.reverse,vo=gn(w,"DataView"),pr=gn(w,"Map"),yo=gn(w,"Promise"),Nn=gn(w,"Set"),dr=gn(w,"WeakMap"),mr=gn(ce,"create"),Ti=dr&&new dr,Pn={},cm=vn(vo),lm=vn(pr),fm=vn(yo),hm=vn(Nn),pm=vn(dr),Si=Vt?Vt.prototype:t,gr=Si?Si.valueOf:t,cc=Si?Si.toString:t;function f(e){if(ye(e)&&!H(e)&&!(e instanceof ee)){if(e instanceof et)return e;if(ae.call(e,"__wrapped__"))return ll(e)}return new et(e)}var Ln=function(){function e(){}return function(i){if(!ve(i))return{};if(ic)return ic(i);e.prototype=i;var o=new e;return e.prototype=t,o}}();function Oi(){}function et(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=t}f.templateSettings={escape:Op,evaluate:Rp,interpolate:yu,variable:"",imports:{_:f}},f.prototype=Oi.prototype,f.prototype.constructor=f,et.prototype=Ln(Oi.prototype),et.prototype.constructor=et;function ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wt,this.__views__=[]}function dm(){var e=new ee(this.__wrapped__);return e.__actions__=Be(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Be(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Be(this.__views__),e}function mm(){if(this.__filtered__){var e=new ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function gm(){var e=this.__wrapped__.value(),i=this.__dir__,o=H(e),u=i<0,c=o?e.length:0,h=Rg(0,c,this.__views__),d=h.start,g=h.end,_=g-d,E=u?g:d-1,T=this.__iteratees__,S=T.length,N=0,U=Ne(_,this.__takeCount__);if(!o||!u&&c==_&&U==_)return Pc(e,this.__actions__);var j=[];e:for(;_--&&N<U;){E+=i;for(var Y=-1,W=e[E];++Y<S;){var Q=T[Y],te=Q.iteratee,Ge=Q.type,De=te(W);if(Ge==lp)W=De;else if(!De){if(Ge==pu)continue e;break e}}j[N++]=W}return j}ee.prototype=Ln(Oi.prototype),ee.prototype.constructor=ee;function hn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function vm(){this.__data__=mr?mr(null):{},this.size=0}function ym(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}function _m(e){var i=this.__data__;if(mr){var o=i[e];return o===p?t:o}return ae.call(i,e)?i[e]:t}function bm(e){var i=this.__data__;return mr?i[e]!==t:ae.call(i,e)}function wm(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=mr&&i===t?p:i,this}hn.prototype.clear=vm,hn.prototype.delete=ym,hn.prototype.get=_m,hn.prototype.has=bm,hn.prototype.set=wm;function kt(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function xm(){this.__data__=[],this.size=0}function Cm(e){var i=this.__data__,o=Ri(i,e);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():wi.call(i,o,1),--this.size,!0}function Em(e){var i=this.__data__,o=Ri(i,e);return o<0?t:i[o][1]}function Tm(e){return Ri(this.__data__,e)>-1}function Sm(e,i){var o=this.__data__,u=Ri(o,e);return u<0?(++this.size,o.push([e,i])):o[u][1]=i,this}kt.prototype.clear=xm,kt.prototype.delete=Cm,kt.prototype.get=Em,kt.prototype.has=Tm,kt.prototype.set=Sm;function It(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var u=e[i];this.set(u[0],u[1])}}function Om(){this.size=0,this.__data__={hash:new hn,map:new(pr||kt),string:new hn}}function Rm(e){var i=Zi(this,e).delete(e);return this.size-=i?1:0,i}function Am(e){return Zi(this,e).get(e)}function km(e){return Zi(this,e).has(e)}function Im(e,i){var o=Zi(this,e),u=o.size;return o.set(e,i),this.size+=o.size==u?0:1,this}It.prototype.clear=Om,It.prototype.delete=Rm,It.prototype.get=Am,It.prototype.has=km,It.prototype.set=Im;function pn(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new It;++i<o;)this.add(e[i])}function Nm(e){return this.__data__.set(e,p),this}function Pm(e){return this.__data__.has(e)}pn.prototype.add=pn.prototype.push=Nm,pn.prototype.has=Pm;function ft(e){var i=this.__data__=new kt(e);this.size=i.size}function Lm(){this.__data__=new kt,this.size=0}function Fm(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o}function Dm(e){return this.__data__.get(e)}function Mm(e){return this.__data__.has(e)}function Um(e,i){var o=this.__data__;if(o instanceof kt){var u=o.__data__;if(!pr||u.length<r-1)return u.push([e,i]),this.size=++o.size,this;o=this.__data__=new It(u)}return o.set(e,i),this.size=o.size,this}ft.prototype.clear=Lm,ft.prototype.delete=Fm,ft.prototype.get=Dm,ft.prototype.has=Mm,ft.prototype.set=Um;function lc(e,i){var o=H(e),u=!o&&yn(e),c=!o&&!u&&en(e),h=!o&&!u&&!c&&Un(e),d=o||u||c||h,g=d?fo(e.length,Gd):[],_=g.length;for(var E in e)(i||ae.call(e,E))&&!(d&&(E=="length"||c&&(E=="offset"||E=="parent")||h&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Ft(E,_)))&&g.push(E);return g}function fc(e){var i=e.length;return i?e[Ao(0,i-1)]:t}function Bm(e,i){return ji(Be(e),dn(i,0,e.length))}function Zm(e){return ji(Be(e))}function _o(e,i,o){(o!==t&&!ht(e[i],o)||o===t&&!(i in e))&&Nt(e,i,o)}function vr(e,i,o){var u=e[i];(!(ae.call(e,i)&&ht(u,o))||o===t&&!(i in e))&&Nt(e,i,o)}function Ri(e,i){for(var o=e.length;o--;)if(ht(e[o][0],i))return o;return-1}function jm(e,i,o,u){return Yt(e,function(c,h,d){i(u,c,o(c),d)}),u}function hc(e,i){return e&&Ct(i,ke(i),e)}function Wm(e,i){return e&&Ct(i,je(i),e)}function Nt(e,i,o){i=="__proto__"&&xi?xi(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function bo(e,i){for(var o=-1,u=i.length,c=b(u),h=e==null;++o<u;)c[o]=h?t:ea(e,i[o]);return c}function dn(e,i,o){return e===e&&(o!==t&&(e=e<=o?e:o),i!==t&&(e=e>=i?e:i)),e}function tt(e,i,o,u,c,h){var d,g=i&C,_=i&A,E=i&I;if(o&&(d=c?o(e,u,c,h):o(e)),d!==t)return d;if(!ve(e))return e;var T=H(e);if(T){if(d=kg(e),!g)return Be(e,d)}else{var S=Pe(e),N=S==oi||S==du;if(en(e))return Dc(e,g);if(S==At||S==Tn||N&&!c){if(d=_||N?{}:tl(e),!g)return _?_g(e,Wm(d,e)):yg(e,hc(d,e))}else{if(!fe[S])return c?e:{};d=Ig(e,S,g)}}h||(h=new ft);var U=h.get(e);if(U)return U;h.set(e,d),kl(e)?e.forEach(function(W){d.add(tt(W,i,o,W,e,h))}):Rl(e)&&e.forEach(function(W,Q){d.set(Q,tt(W,i,o,Q,e,h))});var j=E?_?Zo:Bo:_?je:ke,Y=T?t:j(e);return Xe(Y||e,function(W,Q){Y&&(Q=W,W=e[Q]),vr(d,Q,tt(W,i,o,Q,e,h))}),d}function $m(e){var i=ke(e);return function(o){return pc(o,e,i)}}function pc(e,i,o){var u=o.length;if(e==null)return!u;for(e=ce(e);u--;){var c=o[u],h=i[c],d=e[c];if(d===t&&!(c in e)||!h(d))return!1}return!0}function dc(e,i,o){if(typeof e!="function")throw new Qe(a);return Er(function(){e.apply(t,o)},i)}function yr(e,i,o,u){var c=-1,h=fi,d=!0,g=e.length,_=[],E=i.length;if(!g)return _;o&&(i=ge(i,ze(o))),u?(h=so,d=!1):i.length>=r&&(h=fr,d=!1,i=new pn(i));e:for(;++c<g;){var T=e[c],S=o==null?T:o(T);if(T=u||T!==0?T:0,d&&S===S){for(var N=E;N--;)if(i[N]===S)continue e;_.push(T)}else h(i,S,u)||_.push(T)}return _}var Yt=jc(xt),mc=jc(xo,!0);function qm(e,i){var o=!0;return Yt(e,function(u,c,h){return o=!!i(u,c,h),o}),o}function Ai(e,i,o){for(var u=-1,c=e.length;++u<c;){var h=e[u],d=i(h);if(d!=null&&(g===t?d===d&&!He(d):o(d,g)))var g=d,_=h}return _}function zm(e,i,o,u){var c=e.length;for(o=V(o),o<0&&(o=-o>c?0:c+o),u=u===t||u>c?c:V(u),u<0&&(u+=c),u=o>u?0:Nl(u);o<u;)e[o++]=i;return e}function gc(e,i){var o=[];return Yt(e,function(u,c,h){i(u,c,h)&&o.push(u)}),o}function Ie(e,i,o,u,c){var h=-1,d=e.length;for(o||(o=Pg),c||(c=[]);++h<d;){var g=e[h];i>0&&o(g)?i>1?Ie(g,i-1,o,u,c):Kt(c,g):u||(c[c.length]=g)}return c}var wo=Wc(),vc=Wc(!0);function xt(e,i){return e&&wo(e,i,ke)}function xo(e,i){return e&&vc(e,i,ke)}function ki(e,i){return zt(i,function(o){return Dt(e[o])})}function mn(e,i){i=Xt(i,e);for(var o=0,u=i.length;e!=null&&o<u;)e=e[Et(i[o++])];return o&&o==u?e:t}function yc(e,i,o){var u=i(e);return H(e)?u:Kt(u,o(e))}function Le(e){return e==null?e===t?bp:yp:fn&&fn in ce(e)?Og(e):Zg(e)}function Co(e,i){return e>i}function Km(e,i){return e!=null&&ae.call(e,i)}function Hm(e,i){return e!=null&&i in ce(e)}function Gm(e,i,o){return e>=Ne(i,o)&&e<Oe(i,o)}function Eo(e,i,o){for(var u=o?so:fi,c=e[0].length,h=e.length,d=h,g=b(h),_=1/0,E=[];d--;){var T=e[d];d&&i&&(T=ge(T,ze(i))),_=Ne(T.length,_),g[d]=!o&&(i||c>=120&&T.length>=120)?new pn(d&&T):t}T=e[0];var S=-1,N=g[0];e:for(;++S<c&&E.length<_;){var U=T[S],j=i?i(U):U;if(U=o||U!==0?U:0,!(N?fr(N,j):u(E,j,o))){for(d=h;--d;){var Y=g[d];if(!(Y?fr(Y,j):u(e[d],j,o)))continue e}N&&N.push(j),E.push(U)}}return E}function Vm(e,i,o,u){return xt(e,function(c,h,d){i(u,o(c),h,d)}),u}function _r(e,i,o){i=Xt(i,e),e=sl(e,i);var u=e==null?e:e[Et(rt(i))];return u==null?t:qe(u,e,o)}function _c(e){return ye(e)&&Le(e)==Tn}function Ym(e){return ye(e)&&Le(e)==lr}function Jm(e){return ye(e)&&Le(e)==sr}function br(e,i,o,u,c){return e===i?!0:e==null||i==null||!ye(e)&&!ye(i)?e!==e&&i!==i:Xm(e,i,o,u,br,c)}function Xm(e,i,o,u,c,h){var d=H(e),g=H(i),_=d?ii:Pe(e),E=g?ii:Pe(i);_=_==Tn?At:_,E=E==Tn?At:E;var T=_==At,S=E==At,N=_==E;if(N&&en(e)){if(!en(i))return!1;d=!0,T=!1}if(N&&!T)return h||(h=new ft),d||Un(e)?Xc(e,i,o,u,c,h):Tg(e,i,_,o,u,c,h);if(!(o&R)){var U=T&&ae.call(e,"__wrapped__"),j=S&&ae.call(i,"__wrapped__");if(U||j){var Y=U?e.value():e,W=j?i.value():i;return h||(h=new ft),c(Y,W,o,u,h)}}return N?(h||(h=new ft),Sg(e,i,o,u,c,h)):!1}function Qm(e){return ye(e)&&Pe(e)==ut}function To(e,i,o,u){var c=o.length,h=c,d=!u;if(e==null)return!h;for(e=ce(e);c--;){var g=o[c];if(d&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++c<h;){g=o[c];var _=g[0],E=e[_],T=g[1];if(d&&g[2]){if(E===t&&!(_ in e))return!1}else{var S=new ft;if(u)var N=u(E,T,_,e,i,S);if(!(N===t?br(T,E,R|k,u,S):N))return!1}}return!0}function bc(e){if(!ve(e)||Fg(e))return!1;var i=Dt(e)?Qd:$p;return i.test(vn(e))}function eg(e){return ye(e)&&Le(e)==ar}function tg(e){return ye(e)&&Pe(e)==ct}function ng(e){return ye(e)&&Hi(e.length)&&!!de[Le(e)]}function wc(e){return typeof e=="function"?e:e==null?We:typeof e=="object"?H(e)?Ec(e[0],e[1]):Cc(e):$l(e)}function So(e){if(!Cr(e))return sm(e);var i=[];for(var o in ce(e))ae.call(e,o)&&o!="constructor"&&i.push(o);return i}function rg(e){if(!ve(e))return Bg(e);var i=Cr(e),o=[];for(var u in e)u=="constructor"&&(i||!ae.call(e,u))||o.push(u);return o}function Oo(e,i){return e<i}function xc(e,i){var o=-1,u=Ze(e)?b(e.length):[];return Yt(e,function(c,h,d){u[++o]=i(c,h,d)}),u}function Cc(e){var i=Wo(e);return i.length==1&&i[0][2]?rl(i[0][0],i[0][1]):function(o){return o===e||To(o,e,i)}}function Ec(e,i){return qo(e)&&nl(i)?rl(Et(e),i):function(o){var u=ea(o,e);return u===t&&u===i?ta(o,e):br(i,u,R|k)}}function Ii(e,i,o,u,c){e!==i&&wo(i,function(h,d){if(c||(c=new ft),ve(h))ig(e,i,d,o,Ii,u,c);else{var g=u?u(Ko(e,d),h,d+"",e,i,c):t;g===t&&(g=h),_o(e,d,g)}},je)}function ig(e,i,o,u,c,h,d){var g=Ko(e,o),_=Ko(i,o),E=d.get(_);if(E){_o(e,o,E);return}var T=h?h(g,_,o+"",e,i,d):t,S=T===t;if(S){var N=H(_),U=!N&&en(_),j=!N&&!U&&Un(_);T=_,N||U||j?H(g)?T=g:be(g)?T=Be(g):U?(S=!1,T=Dc(_,!0)):j?(S=!1,T=Mc(_,!0)):T=[]:Tr(_)||yn(_)?(T=g,yn(g)?T=Pl(g):(!ve(g)||Dt(g))&&(T=tl(_))):S=!1}S&&(d.set(_,T),c(T,_,u,h,d),d.delete(_)),_o(e,o,T)}function Tc(e,i){var o=e.length;if(o)return i+=i<0?o:0,Ft(i,o)?e[i]:t}function Sc(e,i,o){i.length?i=ge(i,function(h){return H(h)?function(d){return mn(d,h.length===1?h[0]:h)}:h}):i=[We];var u=-1;i=ge(i,ze(Z()));var c=xc(e,function(h,d,g){var _=ge(i,function(E){return E(h)});return{criteria:_,index:++u,value:h}});return Id(c,function(h,d){return vg(h,d,o)})}function sg(e,i){return Oc(e,i,function(o,u){return ta(e,u)})}function Oc(e,i,o){for(var u=-1,c=i.length,h={};++u<c;){var d=i[u],g=mn(e,d);o(g,d)&&wr(h,Xt(d,e),g)}return h}function og(e){return function(i){return mn(i,e)}}function Ro(e,i,o,u){var c=u?kd:Rn,h=-1,d=i.length,g=e;for(e===i&&(i=Be(i)),o&&(g=ge(e,ze(o)));++h<d;)for(var _=0,E=i[h],T=o?o(E):E;(_=c(g,T,_,u))>-1;)g!==e&&wi.call(g,_,1),wi.call(e,_,1);return e}function Rc(e,i){for(var o=e?i.length:0,u=o-1;o--;){var c=i[o];if(o==u||c!==h){var h=c;Ft(c)?wi.call(e,c,1):No(e,c)}}return e}function Ao(e,i){return e+Ei(uc()*(i-e+1))}function ag(e,i,o,u){for(var c=-1,h=Oe(Ci((i-e)/(o||1)),0),d=b(h);h--;)d[u?h:++c]=e,e+=o;return d}function ko(e,i){var o="";if(!e||i<1||i>qt)return o;do i%2&&(o+=e),i=Ei(i/2),i&&(e+=e);while(i);return o}function X(e,i){return Ho(il(e,i,We),e+"")}function ug(e){return fc(Bn(e))}function cg(e,i){var o=Bn(e);return ji(o,dn(i,0,o.length))}function wr(e,i,o,u){if(!ve(e))return e;i=Xt(i,e);for(var c=-1,h=i.length,d=h-1,g=e;g!=null&&++c<h;){var _=Et(i[c]),E=o;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(c!=d){var T=g[_];E=u?u(T,_,g):t,E===t&&(E=ve(T)?T:Ft(i[c+1])?[]:{})}vr(g,_,E),g=g[_]}return e}var Ac=Ti?function(e,i){return Ti.set(e,i),e}:We,lg=xi?function(e,i){return xi(e,"toString",{configurable:!0,enumerable:!1,value:ra(i),writable:!0})}:We;function fg(e){return ji(Bn(e))}function nt(e,i,o){var u=-1,c=e.length;i<0&&(i=-i>c?0:c+i),o=o>c?c:o,o<0&&(o+=c),c=i>o?0:o-i>>>0,i>>>=0;for(var h=b(c);++u<c;)h[u]=e[u+i];return h}function hg(e,i){var o;return Yt(e,function(u,c,h){return o=i(u,c,h),!o}),!!o}function Ni(e,i,o){var u=0,c=e==null?u:e.length;if(typeof i=="number"&&i===i&&c<=dp){for(;u<c;){var h=u+c>>>1,d=e[h];d!==null&&!He(d)&&(o?d<=i:d<i)?u=h+1:c=h}return c}return Io(e,i,We,o)}function Io(e,i,o,u){var c=0,h=e==null?0:e.length;if(h===0)return 0;i=o(i);for(var d=i!==i,g=i===null,_=He(i),E=i===t;c<h;){var T=Ei((c+h)/2),S=o(e[T]),N=S!==t,U=S===null,j=S===S,Y=He(S);if(d)var W=u||j;else E?W=j&&(u||N):g?W=j&&N&&(u||!U):_?W=j&&N&&!U&&(u||!Y):U||Y?W=!1:W=u?S<=i:S<i;W?c=T+1:h=T}return Ne(h,pp)}function kc(e,i){for(var o=-1,u=e.length,c=0,h=[];++o<u;){var d=e[o],g=i?i(d):d;if(!o||!ht(g,_)){var _=g;h[c++]=d===0?0:d}}return h}function Ic(e){return typeof e=="number"?e:He(e)?ri:+e}function Ke(e){if(typeof e=="string")return e;if(H(e))return ge(e,Ke)+"";if(He(e))return cc?cc.call(e):"";var i=e+"";return i=="0"&&1/e==-cn?"-0":i}function Jt(e,i,o){var u=-1,c=fi,h=e.length,d=!0,g=[],_=g;if(o)d=!1,c=so;else if(h>=r){var E=i?null:Cg(e);if(E)return pi(E);d=!1,c=fr,_=new pn}else _=i?[]:g;e:for(;++u<h;){var T=e[u],S=i?i(T):T;if(T=o||T!==0?T:0,d&&S===S){for(var N=_.length;N--;)if(_[N]===S)continue e;i&&_.push(S),g.push(T)}else c(_,S,o)||(_!==g&&_.push(S),g.push(T))}return g}function No(e,i){return i=Xt(i,e),e=sl(e,i),e==null||delete e[Et(rt(i))]}function Nc(e,i,o,u){return wr(e,i,o(mn(e,i)),u)}function Pi(e,i,o,u){for(var c=e.length,h=u?c:-1;(u?h--:++h<c)&&i(e[h],h,e););return o?nt(e,u?0:h,u?h+1:c):nt(e,u?h+1:0,u?c:h)}function Pc(e,i){var o=e;return o instanceof ee&&(o=o.value()),oo(i,function(u,c){return c.func.apply(c.thisArg,Kt([u],c.args))},o)}function Po(e,i,o){var u=e.length;if(u<2)return u?Jt(e[0]):[];for(var c=-1,h=b(u);++c<u;)for(var d=e[c],g=-1;++g<u;)g!=c&&(h[c]=yr(h[c]||d,e[g],i,o));return Jt(Ie(h,1),i,o)}function Lc(e,i,o){for(var u=-1,c=e.length,h=i.length,d={};++u<c;){var g=u<h?i[u]:t;o(d,e[u],g)}return d}function Lo(e){return be(e)?e:[]}function Fo(e){return typeof e=="function"?e:We}function Xt(e,i){return H(e)?e:qo(e,i)?[e]:cl(oe(e))}var pg=X;function Qt(e,i,o){var u=e.length;return o=o===t?u:o,!i&&o>=u?e:nt(e,i,o)}var Fc=em||function(e){return Ae.clearTimeout(e)};function Dc(e,i){if(i)return e.slice();var o=e.length,u=rc?rc(o):new e.constructor(o);return e.copy(u),u}function Do(e){var i=new e.constructor(e.byteLength);return new _i(i).set(new _i(e)),i}function dg(e,i){var o=i?Do(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function mg(e){var i=new e.constructor(e.source,_u.exec(e));return i.lastIndex=e.lastIndex,i}function gg(e){return gr?ce(gr.call(e)):{}}function Mc(e,i){var o=i?Do(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Uc(e,i){if(e!==i){var o=e!==t,u=e===null,c=e===e,h=He(e),d=i!==t,g=i===null,_=i===i,E=He(i);if(!g&&!E&&!h&&e>i||h&&d&&_&&!g&&!E||u&&d&&_||!o&&_||!c)return 1;if(!u&&!h&&!E&&e<i||E&&o&&c&&!u&&!h||g&&o&&c||!d&&c||!_)return-1}return 0}function vg(e,i,o){for(var u=-1,c=e.criteria,h=i.criteria,d=c.length,g=o.length;++u<d;){var _=Uc(c[u],h[u]);if(_){if(u>=g)return _;var E=o[u];return _*(E=="desc"?-1:1)}}return e.index-i.index}function Bc(e,i,o,u){for(var c=-1,h=e.length,d=o.length,g=-1,_=i.length,E=Oe(h-d,0),T=b(_+E),S=!u;++g<_;)T[g]=i[g];for(;++c<d;)(S||c<h)&&(T[o[c]]=e[c]);for(;E--;)T[g++]=e[c++];return T}function Zc(e,i,o,u){for(var c=-1,h=e.length,d=-1,g=o.length,_=-1,E=i.length,T=Oe(h-g,0),S=b(T+E),N=!u;++c<T;)S[c]=e[c];for(var U=c;++_<E;)S[U+_]=i[_];for(;++d<g;)(N||c<h)&&(S[U+o[d]]=e[c++]);return S}function Be(e,i){var o=-1,u=e.length;for(i||(i=b(u));++o<u;)i[o]=e[o];return i}function Ct(e,i,o,u){var c=!o;o||(o={});for(var h=-1,d=i.length;++h<d;){var g=i[h],_=u?u(o[g],e[g],g,o,e):t;_===t&&(_=e[g]),c?Nt(o,g,_):vr(o,g,_)}return o}function yg(e,i){return Ct(e,$o(e),i)}function _g(e,i){return Ct(e,Qc(e),i)}function Li(e,i){return function(o,u){var c=H(o)?Ed:jm,h=i?i():{};return c(o,e,Z(u,2),h)}}function Fn(e){return X(function(i,o){var u=-1,c=o.length,h=c>1?o[c-1]:t,d=c>2?o[2]:t;for(h=e.length>3&&typeof h=="function"?(c--,h):t,d&&Fe(o[0],o[1],d)&&(h=c<3?t:h,c=1),i=ce(i);++u<c;){var g=o[u];g&&e(i,g,u,h)}return i})}function jc(e,i){return function(o,u){if(o==null)return o;if(!Ze(o))return e(o,u);for(var c=o.length,h=i?c:-1,d=ce(o);(i?h--:++h<c)&&u(d[h],h,d)!==!1;);return o}}function Wc(e){return function(i,o,u){for(var c=-1,h=ce(i),d=u(i),g=d.length;g--;){var _=d[e?g:++c];if(o(h[_],_,h)===!1)break}return i}}function bg(e,i,o){var u=i&M,c=xr(e);function h(){var d=this&&this!==Ae&&this instanceof h?c:e;return d.apply(u?o:this,arguments)}return h}function $c(e){return function(i){i=oe(i);var o=An(i)?lt(i):t,u=o?o[0]:i.charAt(0),c=o?Qt(o,1).join(""):i.slice(1);return u[e]()+c}}function Dn(e){return function(i){return oo(jl(Zl(i).replace(ld,"")),e,"")}}function xr(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=Ln(e.prototype),u=e.apply(o,i);return ve(u)?u:o}}function wg(e,i,o){var u=xr(e);function c(){for(var h=arguments.length,d=b(h),g=h,_=Mn(c);g--;)d[g]=arguments[g];var E=h<3&&d[0]!==_&&d[h-1]!==_?[]:Ht(d,_);if(h-=E.length,h<o)return Gc(e,i,Fi,c.placeholder,t,d,E,t,t,o-h);var T=this&&this!==Ae&&this instanceof c?u:e;return qe(T,this,d)}return c}function qc(e){return function(i,o,u){var c=ce(i);if(!Ze(i)){var h=Z(o,3);i=ke(i),o=function(g){return h(c[g],g,c)}}var d=e(i,o,u);return d>-1?c[h?i[d]:d]:t}}function zc(e){return Lt(function(i){var o=i.length,u=o,c=et.prototype.thru;for(e&&i.reverse();u--;){var h=i[u];if(typeof h!="function")throw new Qe(a);if(c&&!d&&Bi(h)=="wrapper")var d=new et([],!0)}for(u=d?u:o;++u<o;){h=i[u];var g=Bi(h),_=g=="wrapper"?jo(h):t;_&&zo(_[0])&&_[1]==(Ee|le|ue|ie)&&!_[4].length&&_[9]==1?d=d[Bi(_[0])].apply(d,_[3]):d=h.length==1&&zo(h)?d[g]():d.thru(h)}return function(){var E=arguments,T=E[0];if(d&&E.length==1&&H(T))return d.plant(T).value();for(var S=0,N=o?i[S].apply(this,E):T;++S<o;)N=i[S].call(this,N);return N}})}function Fi(e,i,o,u,c,h,d,g,_,E){var T=i&Ee,S=i&M,N=i&F,U=i&(le|pe),j=i&Te,Y=N?t:xr(e);function W(){for(var Q=arguments.length,te=b(Q),Ge=Q;Ge--;)te[Ge]=arguments[Ge];if(U)var De=Mn(W),Ve=Pd(te,De);if(u&&(te=Bc(te,u,c,U)),h&&(te=Zc(te,h,d,U)),Q-=Ve,U&&Q<E){var we=Ht(te,De);return Gc(e,i,Fi,W.placeholder,o,te,we,g,_,E-Q)}var pt=S?o:this,Ut=N?pt[e]:e;return Q=te.length,g?te=jg(te,g):j&&Q>1&&te.reverse(),T&&_<Q&&(te.length=_),this&&this!==Ae&&this instanceof W&&(Ut=Y||xr(Ut)),Ut.apply(pt,te)}return W}function Kc(e,i){return function(o,u){return Vm(o,e,i(u),{})}}function Di(e,i){return function(o,u){var c;if(o===t&&u===t)return i;if(o!==t&&(c=o),u!==t){if(c===t)return u;typeof o=="string"||typeof u=="string"?(o=Ke(o),u=Ke(u)):(o=Ic(o),u=Ic(u)),c=e(o,u)}return c}}function Mo(e){return Lt(function(i){return i=ge(i,ze(Z())),X(function(o){var u=this;return e(i,function(c){return qe(c,u,o)})})})}function Mi(e,i){i=i===t?" ":Ke(i);var o=i.length;if(o<2)return o?ko(i,e):i;var u=ko(i,Ci(e/kn(i)));return An(i)?Qt(lt(u),0,e).join(""):u.slice(0,e)}function xg(e,i,o,u){var c=i&M,h=xr(e);function d(){for(var g=-1,_=arguments.length,E=-1,T=u.length,S=b(T+_),N=this&&this!==Ae&&this instanceof d?h:e;++E<T;)S[E]=u[E];for(;_--;)S[E++]=arguments[++g];return qe(N,c?o:this,S)}return d}function Hc(e){return function(i,o,u){return u&&typeof u!="number"&&Fe(i,o,u)&&(o=u=t),i=Mt(i),o===t?(o=i,i=0):o=Mt(o),u=u===t?i<o?1:-1:Mt(u),ag(i,o,u,e)}}function Ui(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=it(i),o=it(o)),e(i,o)}}function Gc(e,i,o,u,c,h,d,g,_,E){var T=i&le,S=T?d:t,N=T?t:d,U=T?h:t,j=T?t:h;i|=T?ue:_e,i&=~(T?_e:ue),i&he||(i&=~(M|F));var Y=[e,i,c,U,S,j,N,g,_,E],W=o.apply(t,Y);return zo(e)&&ol(W,Y),W.placeholder=u,al(W,e,i)}function Uo(e){var i=Se[e];return function(o,u){if(o=it(o),u=u==null?0:Ne(V(u),292),u&&ac(o)){var c=(oe(o)+"e").split("e"),h=i(c[0]+"e"+(+c[1]+u));return c=(oe(h)+"e").split("e"),+(c[0]+"e"+(+c[1]-u))}return i(o)}}var Cg=Nn&&1/pi(new Nn([,-0]))[1]==cn?function(e){return new Nn(e)}:oa;function Vc(e){return function(i){var o=Pe(i);return o==ut?po(i):o==ct?Zd(i):Nd(i,e(i))}}function Pt(e,i,o,u,c,h,d,g){var _=i&F;if(!_&&typeof e!="function")throw new Qe(a);var E=u?u.length:0;if(E||(i&=~(ue|_e),u=c=t),d=d===t?d:Oe(V(d),0),g=g===t?g:V(g),E-=c?c.length:0,i&_e){var T=u,S=c;u=c=t}var N=_?t:jo(e),U=[e,i,o,u,c,T,S,h,d,g];if(N&&Ug(U,N),e=U[0],i=U[1],o=U[2],u=U[3],c=U[4],g=U[9]=U[9]===t?_?0:e.length:Oe(U[9]-E,0),!g&&i&(le|pe)&&(i&=~(le|pe)),!i||i==M)var j=bg(e,i,o);else i==le||i==pe?j=wg(e,i,g):(i==ue||i==(M|ue))&&!c.length?j=xg(e,i,o,u):j=Fi.apply(t,U);var Y=N?Ac:ol;return al(Y(j,U),e,i)}function Yc(e,i,o,u){return e===t||ht(e,In[o])&&!ae.call(u,o)?i:e}function Jc(e,i,o,u,c,h){return ve(e)&&ve(i)&&(h.set(i,e),Ii(e,i,t,Jc,h),h.delete(i)),e}function Eg(e){return Tr(e)?t:e}function Xc(e,i,o,u,c,h){var d=o&R,g=e.length,_=i.length;if(g!=_&&!(d&&_>g))return!1;var E=h.get(e),T=h.get(i);if(E&&T)return E==i&&T==e;var S=-1,N=!0,U=o&k?new pn:t;for(h.set(e,i),h.set(i,e);++S<g;){var j=e[S],Y=i[S];if(u)var W=d?u(Y,j,S,i,e,h):u(j,Y,S,e,i,h);if(W!==t){if(W)continue;N=!1;break}if(U){if(!ao(i,function(Q,te){if(!fr(U,te)&&(j===Q||c(j,Q,o,u,h)))return U.push(te)})){N=!1;break}}else if(!(j===Y||c(j,Y,o,u,h))){N=!1;break}}return h.delete(e),h.delete(i),N}function Tg(e,i,o,u,c,h,d){switch(o){case Sn:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case lr:return!(e.byteLength!=i.byteLength||!h(new _i(e),new _i(i)));case ir:case sr:case or:return ht(+e,+i);case si:return e.name==i.name&&e.message==i.message;case ar:case ur:return e==i+"";case ut:var g=po;case ct:var _=u&R;if(g||(g=pi),e.size!=i.size&&!_)return!1;var E=d.get(e);if(E)return E==i;u|=k,d.set(e,i);var T=Xc(g(e),g(i),u,c,h,d);return d.delete(e),T;case ai:if(gr)return gr.call(e)==gr.call(i)}return!1}function Sg(e,i,o,u,c,h){var d=o&R,g=Bo(e),_=g.length,E=Bo(i),T=E.length;if(_!=T&&!d)return!1;for(var S=_;S--;){var N=g[S];if(!(d?N in i:ae.call(i,N)))return!1}var U=h.get(e),j=h.get(i);if(U&&j)return U==i&&j==e;var Y=!0;h.set(e,i),h.set(i,e);for(var W=d;++S<_;){N=g[S];var Q=e[N],te=i[N];if(u)var Ge=d?u(te,Q,N,i,e,h):u(Q,te,N,e,i,h);if(!(Ge===t?Q===te||c(Q,te,o,u,h):Ge)){Y=!1;break}W||(W=N=="constructor")}if(Y&&!W){var De=e.constructor,Ve=i.constructor;De!=Ve&&"constructor"in e&&"constructor"in i&&!(typeof De=="function"&&De instanceof De&&typeof Ve=="function"&&Ve instanceof Ve)&&(Y=!1)}return h.delete(e),h.delete(i),Y}function Lt(e){return Ho(il(e,t,pl),e+"")}function Bo(e){return yc(e,ke,$o)}function Zo(e){return yc(e,je,Qc)}var jo=Ti?function(e){return Ti.get(e)}:oa;function Bi(e){for(var i=e.name+"",o=Pn[i],u=ae.call(Pn,i)?o.length:0;u--;){var c=o[u],h=c.func;if(h==null||h==e)return c.name}return i}function Mn(e){var i=ae.call(f,"placeholder")?f:e;return i.placeholder}function Z(){var e=f.iteratee||ia;return e=e===ia?wc:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,i){var o=e.__data__;return Lg(i)?o[typeof i=="string"?"string":"hash"]:o.map}function Wo(e){for(var i=ke(e),o=i.length;o--;){var u=i[o],c=e[u];i[o]=[u,c,nl(c)]}return i}function gn(e,i){var o=Md(e,i);return bc(o)?o:t}function Og(e){var i=ae.call(e,fn),o=e[fn];try{e[fn]=t;var u=!0}catch(h){}var c=vi.call(e);return u&&(i?e[fn]=o:delete e[fn]),c}var $o=go?function(e){return e==null?[]:(e=ce(e),zt(go(e),function(i){return sc.call(e,i)}))}:aa,Qc=go?function(e){for(var i=[];e;)Kt(i,$o(e)),e=bi(e);return i}:aa,Pe=Le;(vo&&Pe(new vo(new ArrayBuffer(1)))!=Sn||pr&&Pe(new pr)!=ut||yo&&Pe(yo.resolve())!=mu||Nn&&Pe(new Nn)!=ct||dr&&Pe(new dr)!=cr)&&(Pe=function(e){var i=Le(e),o=i==At?e.constructor:t,u=o?vn(o):"";if(u)switch(u){case cm:return Sn;case lm:return ut;case fm:return mu;case hm:return ct;case pm:return cr}return i});function Rg(e,i,o){for(var u=-1,c=o.length;++u<c;){var h=o[u],d=h.size;switch(h.type){case"drop":e+=d;break;case"dropRight":i-=d;break;case"take":i=Ne(i,e+d);break;case"takeRight":e=Oe(e,i-d);break}}return{start:e,end:i}}function Ag(e){var i=e.match(Fp);return i?i[1].split(Dp):[]}function el(e,i,o){i=Xt(i,e);for(var u=-1,c=i.length,h=!1;++u<c;){var d=Et(i[u]);if(!(h=e!=null&&o(e,d)))break;e=e[d]}return h||++u!=c?h:(c=e==null?0:e.length,!!c&&Hi(c)&&Ft(d,c)&&(H(e)||yn(e)))}function kg(e){var i=e.length,o=new e.constructor(i);return i&&typeof e[0]=="string"&&ae.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function tl(e){return typeof e.constructor=="function"&&!Cr(e)?Ln(bi(e)):{}}function Ig(e,i,o){var u=e.constructor;switch(i){case lr:return Do(e);case ir:case sr:return new u(+e);case Sn:return dg(e,o);case js:case Ws:case $s:case qs:case zs:case Ks:case Hs:case Gs:case Vs:return Mc(e,o);case ut:return new u;case or:case ur:return new u(e);case ar:return mg(e);case ct:return new u;case ai:return gg(e)}}function Ng(e,i){var o=i.length;if(!o)return e;var u=o-1;return i[u]=(o>1?"& ":"")+i[u],i=i.join(o>2?", ":" "),e.replace(Lp,`{
/* [wrapped with `+i+`] */
`)}function Pg(e){return H(e)||yn(e)||!!(oc&&e&&e[oc])}function Ft(e,i){var o=typeof e;return i=i==null?qt:i,!!i&&(o=="number"||o!="symbol"&&zp.test(e))&&e>-1&&e%1==0&&e<i}function Fe(e,i,o){if(!ve(o))return!1;var u=typeof i;return(u=="number"?Ze(o)&&Ft(i,o.length):u=="string"&&i in o)?ht(o[i],e):!1}function qo(e,i){if(H(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||He(e)?!0:kp.test(e)||!Ap.test(e)||i!=null&&e in ce(i)}function Lg(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function zo(e){var i=Bi(e),o=f[i];if(typeof o!="function"||!(i in ee.prototype))return!1;if(e===o)return!0;var u=jo(o);return!!u&&e===u[0]}function Fg(e){return!!nc&&nc in e}var Dg=mi?Dt:ua;function Cr(e){var i=e&&e.constructor,o=typeof i=="function"&&i.prototype||In;return e===o}function nl(e){return e===e&&!ve(e)}function rl(e,i){return function(o){return o==null?!1:o[e]===i&&(i!==t||e in ce(o))}}function Mg(e){var i=zi(e,function(u){return o.size===m&&o.clear(),u}),o=i.cache;return i}function Ug(e,i){var o=e[1],u=i[1],c=o|u,h=c<(M|F|Ee),d=u==Ee&&o==le||u==Ee&&o==ie&&e[7].length<=i[8]||u==(Ee|ie)&&i[7].length<=i[8]&&o==le;if(!(h||d))return e;u&M&&(e[2]=i[2],c|=o&M?0:he);var g=i[3];if(g){var _=e[3];e[3]=_?Bc(_,g,i[4]):g,e[4]=_?Ht(e[3],v):i[4]}return g=i[5],g&&(_=e[5],e[5]=_?Zc(_,g,i[6]):g,e[6]=_?Ht(e[5],v):i[6]),g=i[7],g&&(e[7]=g),u&Ee&&(e[8]=e[8]==null?i[8]:Ne(e[8],i[8])),e[9]==null&&(e[9]=i[9]),e[0]=i[0],e[1]=c,e}function Bg(e){var i=[];if(e!=null)for(var o in ce(e))i.push(o);return i}function Zg(e){return vi.call(e)}function il(e,i,o){return i=Oe(i===t?e.length-1:i,0),function(){for(var u=arguments,c=-1,h=Oe(u.length-i,0),d=b(h);++c<h;)d[c]=u[i+c];c=-1;for(var g=b(i+1);++c<i;)g[c]=u[c];return g[i]=o(d),qe(e,this,g)}}function sl(e,i){return i.length<2?e:mn(e,nt(i,0,-1))}function jg(e,i){for(var o=e.length,u=Ne(i.length,o),c=Be(e);u--;){var h=i[u];e[u]=Ft(h,o)?c[h]:t}return e}function Ko(e,i){if(!(i==="constructor"&&typeof e[i]=="function")&&i!="__proto__")return e[i]}var ol=ul(Ac),Er=nm||function(e,i){return Ae.setTimeout(e,i)},Ho=ul(lg);function al(e,i,o){var u=i+"";return Ho(e,Ng(u,Wg(Ag(u),o)))}function ul(e){var i=0,o=0;return function(){var u=om(),c=Zs-(u-o);if(o=u,c>0){if(++i>=ni)return arguments[0]}else i=0;return e.apply(t,arguments)}}function ji(e,i){var o=-1,u=e.length,c=u-1;for(i=i===t?u:i;++o<i;){var h=Ao(o,c),d=e[h];e[h]=e[o],e[o]=d}return e.length=i,e}var cl=Mg(function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(Ip,function(o,u,c,h){i.push(c?h.replace(Bp,"$1"):u||o)}),i});function Et(e){if(typeof e=="string"||He(e))return e;var i=e+"";return i=="0"&&1/e==-cn?"-0":i}function vn(e){if(e!=null){try{return gi.call(e)}catch(i){}try{return e+""}catch(i){}}return""}function Wg(e,i){return Xe(mp,function(o){var u="_."+o[0];i&o[1]&&!fi(e,u)&&e.push(u)}),e.sort()}function ll(e){if(e instanceof ee)return e.clone();var i=new et(e.__wrapped__,e.__chain__);return i.__actions__=Be(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}function $g(e,i,o){(o?Fe(e,i,o):i===t)?i=1:i=Oe(V(i),0);var u=e==null?0:e.length;if(!u||i<1)return[];for(var c=0,h=0,d=b(Ci(u/i));c<u;)d[h++]=nt(e,c,c+=i);return d}function qg(e){for(var i=-1,o=e==null?0:e.length,u=0,c=[];++i<o;){var h=e[i];h&&(c[u++]=h)}return c}function zg(){var e=arguments.length;if(!e)return[];for(var i=b(e-1),o=arguments[0],u=e;u--;)i[u-1]=arguments[u];return Kt(H(o)?Be(o):[o],Ie(i,1))}var Kg=X(function(e,i){return be(e)?yr(e,Ie(i,1,be,!0)):[]}),Hg=X(function(e,i){var o=rt(i);return be(o)&&(o=t),be(e)?yr(e,Ie(i,1,be,!0),Z(o,2)):[]}),Gg=X(function(e,i){var o=rt(i);return be(o)&&(o=t),be(e)?yr(e,Ie(i,1,be,!0),t,o):[]});function Vg(e,i,o){var u=e==null?0:e.length;return u?(i=o||i===t?1:V(i),nt(e,i<0?0:i,u)):[]}function Yg(e,i,o){var u=e==null?0:e.length;return u?(i=o||i===t?1:V(i),i=u-i,nt(e,0,i<0?0:i)):[]}function Jg(e,i){return e&&e.length?Pi(e,Z(i,3),!0,!0):[]}function Xg(e,i){return e&&e.length?Pi(e,Z(i,3),!0):[]}function Qg(e,i,o,u){var c=e==null?0:e.length;return c?(o&&typeof o!="number"&&Fe(e,i,o)&&(o=0,u=c),zm(e,i,o,u)):[]}function fl(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var c=o==null?0:V(o);return c<0&&(c=Oe(u+c,0)),hi(e,Z(i,3),c)}function hl(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var c=u-1;return o!==t&&(c=V(o),c=o<0?Oe(u+c,0):Ne(c,u-1)),hi(e,Z(i,3),c,!0)}function pl(e){var i=e==null?0:e.length;return i?Ie(e,1):[]}function ev(e){var i=e==null?0:e.length;return i?Ie(e,cn):[]}function tv(e,i){var o=e==null?0:e.length;return o?(i=i===t?1:V(i),Ie(e,i)):[]}function nv(e){for(var i=-1,o=e==null?0:e.length,u={};++i<o;){var c=e[i];u[c[0]]=c[1]}return u}function dl(e){return e&&e.length?e[0]:t}function rv(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var c=o==null?0:V(o);return c<0&&(c=Oe(u+c,0)),Rn(e,i,c)}function iv(e){var i=e==null?0:e.length;return i?nt(e,0,-1):[]}var sv=X(function(e){var i=ge(e,Lo);return i.length&&i[0]===e[0]?Eo(i):[]}),ov=X(function(e){var i=rt(e),o=ge(e,Lo);return i===rt(o)?i=t:o.pop(),o.length&&o[0]===e[0]?Eo(o,Z(i,2)):[]}),av=X(function(e){var i=rt(e),o=ge(e,Lo);return i=typeof i=="function"?i:t,i&&o.pop(),o.length&&o[0]===e[0]?Eo(o,t,i):[]});function uv(e,i){return e==null?"":im.call(e,i)}function rt(e){var i=e==null?0:e.length;return i?e[i-1]:t}function cv(e,i,o){var u=e==null?0:e.length;if(!u)return-1;var c=u;return o!==t&&(c=V(o),c=c<0?Oe(u+c,0):Ne(c,u-1)),i===i?Wd(e,i,c):hi(e,Gu,c,!0)}function lv(e,i){return e&&e.length?Tc(e,V(i)):t}var fv=X(ml);function ml(e,i){return e&&e.length&&i&&i.length?Ro(e,i):e}function hv(e,i,o){return e&&e.length&&i&&i.length?Ro(e,i,Z(o,2)):e}function pv(e,i,o){return e&&e.length&&i&&i.length?Ro(e,i,t,o):e}var dv=Lt(function(e,i){var o=e==null?0:e.length,u=bo(e,i);return Rc(e,ge(i,function(c){return Ft(c,o)?+c:c}).sort(Uc)),u});function mv(e,i){var o=[];if(!(e&&e.length))return o;var u=-1,c=[],h=e.length;for(i=Z(i,3);++u<h;){var d=e[u];i(d,u,e)&&(o.push(d),c.push(u))}return Rc(e,c),o}function Go(e){return e==null?e:um.call(e)}function gv(e,i,o){var u=e==null?0:e.length;return u?(o&&typeof o!="number"&&Fe(e,i,o)?(i=0,o=u):(i=i==null?0:V(i),o=o===t?u:V(o)),nt(e,i,o)):[]}function vv(e,i){return Ni(e,i)}function yv(e,i,o){return Io(e,i,Z(o,2))}function _v(e,i){var o=e==null?0:e.length;if(o){var u=Ni(e,i);if(u<o&&ht(e[u],i))return u}return-1}function bv(e,i){return Ni(e,i,!0)}function wv(e,i,o){return Io(e,i,Z(o,2),!0)}function xv(e,i){var o=e==null?0:e.length;if(o){var u=Ni(e,i,!0)-1;if(ht(e[u],i))return u}return-1}function Cv(e){return e&&e.length?kc(e):[]}function Ev(e,i){return e&&e.length?kc(e,Z(i,2)):[]}function Tv(e){var i=e==null?0:e.length;return i?nt(e,1,i):[]}function Sv(e,i,o){return e&&e.length?(i=o||i===t?1:V(i),nt(e,0,i<0?0:i)):[]}function Ov(e,i,o){var u=e==null?0:e.length;return u?(i=o||i===t?1:V(i),i=u-i,nt(e,i<0?0:i,u)):[]}function Rv(e,i){return e&&e.length?Pi(e,Z(i,3),!1,!0):[]}function Av(e,i){return e&&e.length?Pi(e,Z(i,3)):[]}var kv=X(function(e){return Jt(Ie(e,1,be,!0))}),Iv=X(function(e){var i=rt(e);return be(i)&&(i=t),Jt(Ie(e,1,be,!0),Z(i,2))}),Nv=X(function(e){var i=rt(e);return i=typeof i=="function"?i:t,Jt(Ie(e,1,be,!0),t,i)});function Pv(e){return e&&e.length?Jt(e):[]}function Lv(e,i){return e&&e.length?Jt(e,Z(i,2)):[]}function Fv(e,i){return i=typeof i=="function"?i:t,e&&e.length?Jt(e,t,i):[]}function Vo(e){if(!(e&&e.length))return[];var i=0;return e=zt(e,function(o){if(be(o))return i=Oe(o.length,i),!0}),fo(i,function(o){return ge(e,uo(o))})}function gl(e,i){if(!(e&&e.length))return[];var o=Vo(e);return i==null?o:ge(o,function(u){return qe(i,t,u)})}var Dv=X(function(e,i){return be(e)?yr(e,i):[]}),Mv=X(function(e){return Po(zt(e,be))}),Uv=X(function(e){var i=rt(e);return be(i)&&(i=t),Po(zt(e,be),Z(i,2))}),Bv=X(function(e){var i=rt(e);return i=typeof i=="function"?i:t,Po(zt(e,be),t,i)}),Zv=X(Vo);function jv(e,i){return Lc(e||[],i||[],vr)}function Wv(e,i){return Lc(e||[],i||[],wr)}var $v=X(function(e){var i=e.length,o=i>1?e[i-1]:t;return o=typeof o=="function"?(e.pop(),o):t,gl(e,o)});function vl(e){var i=f(e);return i.__chain__=!0,i}function qv(e,i){return i(e),e}function Wi(e,i){return i(e)}var zv=Lt(function(e){var i=e.length,o=i?e[0]:0,u=this.__wrapped__,c=function(h){return bo(h,e)};return i>1||this.__actions__.length||!(u instanceof ee)||!Ft(o)?this.thru(c):(u=u.slice(o,+o+(i?1:0)),u.__actions__.push({func:Wi,args:[c],thisArg:t}),new et(u,this.__chain__).thru(function(h){return i&&!h.length&&h.push(t),h}))});function Kv(){return vl(this)}function Hv(){return new et(this.value(),this.__chain__)}function Gv(){this.__values__===t&&(this.__values__=Il(this.value()));var e=this.__index__>=this.__values__.length,i=e?t:this.__values__[this.__index__++];return{done:e,value:i}}function Vv(){return this}function Yv(e){for(var i,o=this;o instanceof Oi;){var u=ll(o);u.__index__=0,u.__values__=t,i?c.__wrapped__=u:i=u;var c=u;o=o.__wrapped__}return c.__wrapped__=e,i}function Jv(){var e=this.__wrapped__;if(e instanceof ee){var i=e;return this.__actions__.length&&(i=new ee(this)),i=i.reverse(),i.__actions__.push({func:Wi,args:[Go],thisArg:t}),new et(i,this.__chain__)}return this.thru(Go)}function Xv(){return Pc(this.__wrapped__,this.__actions__)}var Qv=Li(function(e,i,o){ae.call(e,o)?++e[o]:Nt(e,o,1)});function ey(e,i,o){var u=H(e)?Ku:qm;return o&&Fe(e,i,o)&&(i=t),u(e,Z(i,3))}function ty(e,i){var o=H(e)?zt:gc;return o(e,Z(i,3))}var ny=qc(fl),ry=qc(hl);function iy(e,i){return Ie($i(e,i),1)}function sy(e,i){return Ie($i(e,i),cn)}function oy(e,i,o){return o=o===t?1:V(o),Ie($i(e,i),o)}function yl(e,i){var o=H(e)?Xe:Yt;return o(e,Z(i,3))}function _l(e,i){var o=H(e)?Td:mc;return o(e,Z(i,3))}var ay=Li(function(e,i,o){ae.call(e,o)?e[o].push(i):Nt(e,o,[i])});function uy(e,i,o,u){e=Ze(e)?e:Bn(e),o=o&&!u?V(o):0;var c=e.length;return o<0&&(o=Oe(c+o,0)),Gi(e)?o<=c&&e.indexOf(i,o)>-1:!!c&&Rn(e,i,o)>-1}var cy=X(function(e,i,o){var u=-1,c=typeof i=="function",h=Ze(e)?b(e.length):[];return Yt(e,function(d){h[++u]=c?qe(i,d,o):_r(d,i,o)}),h}),ly=Li(function(e,i,o){Nt(e,o,i)});function $i(e,i){var o=H(e)?ge:xc;return o(e,Z(i,3))}function fy(e,i,o,u){return e==null?[]:(H(i)||(i=i==null?[]:[i]),o=u?t:o,H(o)||(o=o==null?[]:[o]),Sc(e,i,o))}var hy=Li(function(e,i,o){e[o?0:1].push(i)},function(){return[[],[]]});function py(e,i,o){var u=H(e)?oo:Yu,c=arguments.length<3;return u(e,Z(i,4),o,c,Yt)}function dy(e,i,o){var u=H(e)?Sd:Yu,c=arguments.length<3;return u(e,Z(i,4),o,c,mc)}function my(e,i){var o=H(e)?zt:gc;return o(e,Ki(Z(i,3)))}function gy(e){var i=H(e)?fc:ug;return i(e)}function vy(e,i,o){(o?Fe(e,i,o):i===t)?i=1:i=V(i);var u=H(e)?Bm:cg;return u(e,i)}function yy(e){var i=H(e)?Zm:fg;return i(e)}function _y(e){if(e==null)return 0;if(Ze(e))return Gi(e)?kn(e):e.length;var i=Pe(e);return i==ut||i==ct?e.size:So(e).length}function by(e,i,o){var u=H(e)?ao:hg;return o&&Fe(e,i,o)&&(i=t),u(e,Z(i,3))}var wy=X(function(e,i){if(e==null)return[];var o=i.length;return o>1&&Fe(e,i[0],i[1])?i=[]:o>2&&Fe(i[0],i[1],i[2])&&(i=[i[0]]),Sc(e,Ie(i,1),[])}),qi=tm||function(){return Ae.Date.now()};function xy(e,i){if(typeof i!="function")throw new Qe(a);return e=V(e),function(){if(--e<1)return i.apply(this,arguments)}}function bl(e,i,o){return i=o?t:i,i=e&&i==null?e.length:i,Pt(e,Ee,t,t,t,t,i)}function wl(e,i){var o;if(typeof i!="function")throw new Qe(a);return e=V(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=t),o}}var Yo=X(function(e,i,o){var u=M;if(o.length){var c=Ht(o,Mn(Yo));u|=ue}return Pt(e,u,i,o,c)}),xl=X(function(e,i,o){var u=M|F;if(o.length){var c=Ht(o,Mn(xl));u|=ue}return Pt(i,u,e,o,c)});function Cl(e,i,o){i=o?t:i;var u=Pt(e,le,t,t,t,t,t,i);return u.placeholder=Cl.placeholder,u}function El(e,i,o){i=o?t:i;var u=Pt(e,pe,t,t,t,t,t,i);return u.placeholder=El.placeholder,u}function Tl(e,i,o){var u,c,h,d,g,_,E=0,T=!1,S=!1,N=!0;if(typeof e!="function")throw new Qe(a);i=it(i)||0,ve(o)&&(T=!!o.leading,S="maxWait"in o,h=S?Oe(it(o.maxWait)||0,i):h,N="trailing"in o?!!o.trailing:N);function U(we){var pt=u,Ut=c;return u=c=t,E=we,d=e.apply(Ut,pt),d}function j(we){return E=we,g=Er(Q,i),T?U(we):d}function Y(we){var pt=we-_,Ut=we-E,ql=i-pt;return S?Ne(ql,h-Ut):ql}function W(we){var pt=we-_,Ut=we-E;return _===t||pt>=i||pt<0||S&&Ut>=h}function Q(){var we=qi();if(W(we))return te(we);g=Er(Q,Y(we))}function te(we){return g=t,N&&u?U(we):(u=c=t,d)}function Ge(){g!==t&&Fc(g),E=0,u=_=c=g=t}function De(){return g===t?d:te(qi())}function Ve(){var we=qi(),pt=W(we);if(u=arguments,c=this,_=we,pt){if(g===t)return j(_);if(S)return Fc(g),g=Er(Q,i),U(_)}return g===t&&(g=Er(Q,i)),d}return Ve.cancel=Ge,Ve.flush=De,Ve}var Cy=X(function(e,i){return dc(e,1,i)}),Ey=X(function(e,i,o){return dc(e,it(i)||0,o)});function Ty(e){return Pt(e,Te)}function zi(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new Qe(a);var o=function(){var u=arguments,c=i?i.apply(this,u):u[0],h=o.cache;if(h.has(c))return h.get(c);var d=e.apply(this,u);return o.cache=h.set(c,d)||h,d};return o.cache=new(zi.Cache||It),o}zi.Cache=It;function Ki(e){if(typeof e!="function")throw new Qe(a);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}function Sy(e){return wl(2,e)}var Oy=pg(function(e,i){i=i.length==1&&H(i[0])?ge(i[0],ze(Z())):ge(Ie(i,1),ze(Z()));var o=i.length;return X(function(u){for(var c=-1,h=Ne(u.length,o);++c<h;)u[c]=i[c].call(this,u[c]);return qe(e,this,u)})}),Jo=X(function(e,i){var o=Ht(i,Mn(Jo));return Pt(e,ue,t,i,o)}),Sl=X(function(e,i){var o=Ht(i,Mn(Sl));return Pt(e,_e,t,i,o)}),Ry=Lt(function(e,i){return Pt(e,ie,t,t,t,i)});function Ay(e,i){if(typeof e!="function")throw new Qe(a);return i=i===t?i:V(i),X(e,i)}function ky(e,i){if(typeof e!="function")throw new Qe(a);return i=i==null?0:Oe(V(i),0),X(function(o){var u=o[i],c=Qt(o,0,i);return u&&Kt(c,u),qe(e,this,c)})}function Iy(e,i,o){var u=!0,c=!0;if(typeof e!="function")throw new Qe(a);return ve(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),Tl(e,i,{leading:u,maxWait:i,trailing:c})}function Ny(e){return bl(e,1)}function Py(e,i){return Jo(Fo(i),e)}function Ly(){if(!arguments.length)return[];var e=arguments[0];return H(e)?e:[e]}function Fy(e){return tt(e,I)}function Dy(e,i){return i=typeof i=="function"?i:t,tt(e,I,i)}function My(e){return tt(e,C|I)}function Uy(e,i){return i=typeof i=="function"?i:t,tt(e,C|I,i)}function By(e,i){return i==null||pc(e,i,ke(i))}function ht(e,i){return e===i||e!==e&&i!==i}var Zy=Ui(Co),jy=Ui(function(e,i){return e>=i}),yn=_c(function(){return arguments}())?_c:function(e){return ye(e)&&ae.call(e,"callee")&&!sc.call(e,"callee")},H=b.isArray,Wy=Zu?ze(Zu):Ym;function Ze(e){return e!=null&&Hi(e.length)&&!Dt(e)}function be(e){return ye(e)&&Ze(e)}function $y(e){return e===!0||e===!1||ye(e)&&Le(e)==ir}var en=rm||ua,qy=ju?ze(ju):Jm;function zy(e){return ye(e)&&e.nodeType===1&&!Tr(e)}function Ky(e){if(e==null)return!0;if(Ze(e)&&(H(e)||typeof e=="string"||typeof e.splice=="function"||en(e)||Un(e)||yn(e)))return!e.length;var i=Pe(e);if(i==ut||i==ct)return!e.size;if(Cr(e))return!So(e).length;for(var o in e)if(ae.call(e,o))return!1;return!0}function Hy(e,i){return br(e,i)}function Gy(e,i,o){o=typeof o=="function"?o:t;var u=o?o(e,i):t;return u===t?br(e,i,t,o):!!u}function Xo(e){if(!ye(e))return!1;var i=Le(e);return i==si||i==vp||typeof e.message=="string"&&typeof e.name=="string"&&!Tr(e)}function Vy(e){return typeof e=="number"&&ac(e)}function Dt(e){if(!ve(e))return!1;var i=Le(e);return i==oi||i==du||i==gp||i==_p}function Ol(e){return typeof e=="number"&&e==V(e)}function Hi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qt}function ve(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function ye(e){return e!=null&&typeof e=="object"}var Rl=Wu?ze(Wu):Qm;function Yy(e,i){return e===i||To(e,i,Wo(i))}function Jy(e,i,o){return o=typeof o=="function"?o:t,To(e,i,Wo(i),o)}function Xy(e){return Al(e)&&e!=+e}function Qy(e){if(Dg(e))throw new K(s);return bc(e)}function e_(e){return e===null}function t_(e){return e==null}function Al(e){return typeof e=="number"||ye(e)&&Le(e)==or}function Tr(e){if(!ye(e)||Le(e)!=At)return!1;var i=bi(e);if(i===null)return!0;var o=ae.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&gi.call(o)==Jd}var Qo=$u?ze($u):eg;function n_(e){return Ol(e)&&e>=-qt&&e<=qt}var kl=qu?ze(qu):tg;function Gi(e){return typeof e=="string"||!H(e)&&ye(e)&&Le(e)==ur}function He(e){return typeof e=="symbol"||ye(e)&&Le(e)==ai}var Un=zu?ze(zu):ng;function r_(e){return e===t}function i_(e){return ye(e)&&Pe(e)==cr}function s_(e){return ye(e)&&Le(e)==wp}var o_=Ui(Oo),a_=Ui(function(e,i){return e<=i});function Il(e){if(!e)return[];if(Ze(e))return Gi(e)?lt(e):Be(e);if(hr&&e[hr])return Bd(e[hr]());var i=Pe(e),o=i==ut?po:i==ct?pi:Bn;return o(e)}function Mt(e){if(!e)return e===0?e:0;if(e=it(e),e===cn||e===-cn){var i=e<0?-1:1;return i*hp}return e===e?e:0}function V(e){var i=Mt(e),o=i%1;return i===i?o?i-o:i:0}function Nl(e){return e?dn(V(e),0,wt):0}function it(e){if(typeof e=="number")return e;if(He(e))return ri;if(ve(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=ve(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=Ju(e);var o=Wp.test(e);return o||qp.test(e)?xd(e.slice(2),o?2:8):jp.test(e)?ri:+e}function Pl(e){return Ct(e,je(e))}function u_(e){return e?dn(V(e),-qt,qt):e===0?e:0}function oe(e){return e==null?"":Ke(e)}var c_=Fn(function(e,i){if(Cr(i)||Ze(i)){Ct(i,ke(i),e);return}for(var o in i)ae.call(i,o)&&vr(e,o,i[o])}),Ll=Fn(function(e,i){Ct(i,je(i),e)}),Vi=Fn(function(e,i,o,u){Ct(i,je(i),e,u)}),l_=Fn(function(e,i,o,u){Ct(i,ke(i),e,u)}),f_=Lt(bo);function h_(e,i){var o=Ln(e);return i==null?o:hc(o,i)}var p_=X(function(e,i){e=ce(e);var o=-1,u=i.length,c=u>2?i[2]:t;for(c&&Fe(i[0],i[1],c)&&(u=1);++o<u;)for(var h=i[o],d=je(h),g=-1,_=d.length;++g<_;){var E=d[g],T=e[E];(T===t||ht(T,In[E])&&!ae.call(e,E))&&(e[E]=h[E])}return e}),d_=X(function(e){return e.push(t,Jc),qe(Fl,t,e)});function m_(e,i){return Hu(e,Z(i,3),xt)}function g_(e,i){return Hu(e,Z(i,3),xo)}function v_(e,i){return e==null?e:wo(e,Z(i,3),je)}function y_(e,i){return e==null?e:vc(e,Z(i,3),je)}function __(e,i){return e&&xt(e,Z(i,3))}function b_(e,i){return e&&xo(e,Z(i,3))}function w_(e){return e==null?[]:ki(e,ke(e))}function x_(e){return e==null?[]:ki(e,je(e))}function ea(e,i,o){var u=e==null?t:mn(e,i);return u===t?o:u}function C_(e,i){return e!=null&&el(e,i,Km)}function ta(e,i){return e!=null&&el(e,i,Hm)}var E_=Kc(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=vi.call(i)),e[i]=o},ra(We)),T_=Kc(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=vi.call(i)),ae.call(e,i)?e[i].push(o):e[i]=[o]},Z),S_=X(_r);function ke(e){return Ze(e)?lc(e):So(e)}function je(e){return Ze(e)?lc(e,!0):rg(e)}function O_(e,i){var o={};return i=Z(i,3),xt(e,function(u,c,h){Nt(o,i(u,c,h),u)}),o}function R_(e,i){var o={};return i=Z(i,3),xt(e,function(u,c,h){Nt(o,c,i(u,c,h))}),o}var A_=Fn(function(e,i,o){Ii(e,i,o)}),Fl=Fn(function(e,i,o,u){Ii(e,i,o,u)}),k_=Lt(function(e,i){var o={};if(e==null)return o;var u=!1;i=ge(i,function(h){return h=Xt(h,e),u||(u=h.length>1),h}),Ct(e,Zo(e),o),u&&(o=tt(o,C|A|I,Eg));for(var c=i.length;c--;)No(o,i[c]);return o});function I_(e,i){return Dl(e,Ki(Z(i)))}var N_=Lt(function(e,i){return e==null?{}:sg(e,i)});function Dl(e,i){if(e==null)return{};var o=ge(Zo(e),function(u){return[u]});return i=Z(i),Oc(e,o,function(u,c){return i(u,c[0])})}function P_(e,i,o){i=Xt(i,e);var u=-1,c=i.length;for(c||(c=1,e=t);++u<c;){var h=e==null?t:e[Et(i[u])];h===t&&(u=c,h=o),e=Dt(h)?h.call(e):h}return e}function L_(e,i,o){return e==null?e:wr(e,i,o)}function F_(e,i,o,u){return u=typeof u=="function"?u:t,e==null?e:wr(e,i,o,u)}var Ml=Vc(ke),Ul=Vc(je);function D_(e,i,o){var u=H(e),c=u||en(e)||Un(e);if(i=Z(i,4),o==null){var h=e&&e.constructor;c?o=u?new h:[]:ve(e)?o=Dt(h)?Ln(bi(e)):{}:o={}}return(c?Xe:xt)(e,function(d,g,_){return i(o,d,g,_)}),o}function M_(e,i){return e==null?!0:No(e,i)}function U_(e,i,o){return e==null?e:Nc(e,i,Fo(o))}function B_(e,i,o,u){return u=typeof u=="function"?u:t,e==null?e:Nc(e,i,Fo(o),u)}function Bn(e){return e==null?[]:ho(e,ke(e))}function Z_(e){return e==null?[]:ho(e,je(e))}function j_(e,i,o){return o===t&&(o=i,i=t),o!==t&&(o=it(o),o=o===o?o:0),i!==t&&(i=it(i),i=i===i?i:0),dn(it(e),i,o)}function W_(e,i,o){return i=Mt(i),o===t?(o=i,i=0):o=Mt(o),e=it(e),Gm(e,i,o)}function $_(e,i,o){if(o&&typeof o!="boolean"&&Fe(e,i,o)&&(i=o=t),o===t&&(typeof i=="boolean"?(o=i,i=t):typeof e=="boolean"&&(o=e,e=t)),e===t&&i===t?(e=0,i=1):(e=Mt(e),i===t?(i=e,e=0):i=Mt(i)),e>i){var u=e;e=i,i=u}if(o||e%1||i%1){var c=uc();return Ne(e+c*(i-e+wd("1e-"+((c+"").length-1))),i)}return Ao(e,i)}var q_=Dn(function(e,i,o){return i=i.toLowerCase(),e+(o?Bl(i):i)});function Bl(e){return na(oe(e).toLowerCase())}function Zl(e){return e=oe(e),e&&e.replace(Kp,Ld).replace(fd,"")}function z_(e,i,o){e=oe(e),i=Ke(i);var u=e.length;o=o===t?u:dn(V(o),0,u);var c=o;return o-=i.length,o>=0&&e.slice(o,c)==i}function K_(e){return e=oe(e),e&&Sp.test(e)?e.replace(vu,Fd):e}function H_(e){return e=oe(e),e&&Np.test(e)?e.replace(Ys,"\\$&"):e}var G_=Dn(function(e,i,o){return e+(o?"-":"")+i.toLowerCase()}),V_=Dn(function(e,i,o){return e+(o?" ":"")+i.toLowerCase()}),Y_=$c("toLowerCase");function J_(e,i,o){e=oe(e),i=V(i);var u=i?kn(e):0;if(!i||u>=i)return e;var c=(i-u)/2;return Mi(Ei(c),o)+e+Mi(Ci(c),o)}function X_(e,i,o){e=oe(e),i=V(i);var u=i?kn(e):0;return i&&u<i?e+Mi(i-u,o):e}function Q_(e,i,o){e=oe(e),i=V(i);var u=i?kn(e):0;return i&&u<i?Mi(i-u,o)+e:e}function eb(e,i,o){return o||i==null?i=0:i&&(i=+i),am(oe(e).replace(Js,""),i||0)}function tb(e,i,o){return(o?Fe(e,i,o):i===t)?i=1:i=V(i),ko(oe(e),i)}function nb(){var e=arguments,i=oe(e[0]);return e.length<3?i:i.replace(e[1],e[2])}var rb=Dn(function(e,i,o){return e+(o?"_":"")+i.toLowerCase()});function ib(e,i,o){return o&&typeof o!="number"&&Fe(e,i,o)&&(i=o=t),o=o===t?wt:o>>>0,o?(e=oe(e),e&&(typeof i=="string"||i!=null&&!Qo(i))&&(i=Ke(i),!i&&An(e))?Qt(lt(e),0,o):e.split(i,o)):[]}var sb=Dn(function(e,i,o){return e+(o?" ":"")+na(i)});function ob(e,i,o){return e=oe(e),o=o==null?0:dn(V(o),0,e.length),i=Ke(i),e.slice(o,o+i.length)==i}function ab(e,i,o){var u=f.templateSettings;o&&Fe(e,i,o)&&(i=t),e=oe(e),i=Vi({},i,u,Yc);var c=Vi({},i.imports,u.imports,Yc),h=ke(c),d=ho(c,h),g,_,E=0,T=i.interpolate||ui,S="__p += '",N=mo((i.escape||ui).source+"|"+T.source+"|"+(T===yu?Zp:ui).source+"|"+(i.evaluate||ui).source+"|$","g"),U="//# sourceURL="+(ae.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gd+"]")+`
`;e.replace(N,function(W,Q,te,Ge,De,Ve){return te||(te=Ge),S+=e.slice(E,Ve).replace(Hp,Dd),Q&&(g=!0,S+=`' +
__e(`+Q+`) +
'`),De&&(_=!0,S+=`';
`+De+`;
__p += '`),te&&(S+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),E=Ve+W.length,W}),S+=`';
`;var j=ae.call(i,"variable")&&i.variable;if(!j)S=`with (obj) {
`+S+`
}
`;else if(Up.test(j))throw new K(l);S=(_?S.replace(xp,""):S).replace(Cp,"$1").replace(Ep,"$1;"),S="function("+(j||"obj")+`) {
`+(j?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(g?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var Y=Wl(function(){return se(h,U+"return "+S).apply(t,d)});if(Y.source=S,Xo(Y))throw Y;return Y}function ub(e){return oe(e).toLowerCase()}function cb(e){return oe(e).toUpperCase()}function lb(e,i,o){if(e=oe(e),e&&(o||i===t))return Ju(e);if(!e||!(i=Ke(i)))return e;var u=lt(e),c=lt(i),h=Xu(u,c),d=Qu(u,c)+1;return Qt(u,h,d).join("")}function fb(e,i,o){if(e=oe(e),e&&(o||i===t))return e.slice(0,tc(e)+1);if(!e||!(i=Ke(i)))return e;var u=lt(e),c=Qu(u,lt(i))+1;return Qt(u,0,c).join("")}function hb(e,i,o){if(e=oe(e),e&&(o||i===t))return e.replace(Js,"");if(!e||!(i=Ke(i)))return e;var u=lt(e),c=Xu(u,lt(i));return Qt(u,c).join("")}function pb(e,i){var o=Ue,u=$t;if(ve(i)){var c="separator"in i?i.separator:c;o="length"in i?V(i.length):o,u="omission"in i?Ke(i.omission):u}e=oe(e);var h=e.length;if(An(e)){var d=lt(e);h=d.length}if(o>=h)return e;var g=o-kn(u);if(g<1)return u;var _=d?Qt(d,0,g).join(""):e.slice(0,g);if(c===t)return _+u;if(d&&(g+=_.length-g),Qo(c)){if(e.slice(g).search(c)){var E,T=_;for(c.global||(c=mo(c.source,oe(_u.exec(c))+"g")),c.lastIndex=0;E=c.exec(T);)var S=E.index;_=_.slice(0,S===t?g:S)}}else if(e.indexOf(Ke(c),g)!=g){var N=_.lastIndexOf(c);N>-1&&(_=_.slice(0,N))}return _+u}function db(e){return e=oe(e),e&&Tp.test(e)?e.replace(gu,$d):e}var mb=Dn(function(e,i,o){return e+(o?" ":"")+i.toUpperCase()}),na=$c("toUpperCase");function jl(e,i,o){return e=oe(e),i=o?t:i,i===t?Ud(e)?Kd(e):Ad(e):e.match(i)||[]}var Wl=X(function(e,i){try{return qe(e,t,i)}catch(o){return Xo(o)?o:new K(o)}}),gb=Lt(function(e,i){return Xe(i,function(o){o=Et(o),Nt(e,o,Yo(e[o],e))}),e});function vb(e){var i=e==null?0:e.length,o=Z();return e=i?ge(e,function(u){if(typeof u[1]!="function")throw new Qe(a);return[o(u[0]),u[1]]}):[],X(function(u){for(var c=-1;++c<i;){var h=e[c];if(qe(h[0],this,u))return qe(h[1],this,u)}})}function yb(e){return $m(tt(e,C))}function ra(e){return function(){return e}}function _b(e,i){return e==null||e!==e?i:e}var bb=zc(),wb=zc(!0);function We(e){return e}function ia(e){return wc(typeof e=="function"?e:tt(e,C))}function xb(e){return Cc(tt(e,C))}function Cb(e,i){return Ec(e,tt(i,C))}var Eb=X(function(e,i){return function(o){return _r(o,e,i)}}),Tb=X(function(e,i){return function(o){return _r(e,o,i)}});function sa(e,i,o){var u=ke(i),c=ki(i,u);o==null&&!(ve(i)&&(c.length||!u.length))&&(o=i,i=e,e=this,c=ki(i,ke(i)));var h=!(ve(o)&&"chain"in o)||!!o.chain,d=Dt(e);return Xe(c,function(g){var _=i[g];e[g]=_,d&&(e.prototype[g]=function(){var E=this.__chain__;if(h||E){var T=e(this.__wrapped__),S=T.__actions__=Be(this.__actions__);return S.push({func:_,args:arguments,thisArg:e}),T.__chain__=E,T}return _.apply(e,Kt([this.value()],arguments))})}),e}function Sb(){return Ae._===this&&(Ae._=Xd),this}function oa(){}function Ob(e){return e=V(e),X(function(i){return Tc(i,e)})}var Rb=Mo(ge),Ab=Mo(Ku),kb=Mo(ao);function $l(e){return qo(e)?uo(Et(e)):og(e)}function Ib(e){return function(i){return e==null?t:mn(e,i)}}var Nb=Hc(),Pb=Hc(!0);function aa(){return[]}function ua(){return!1}function Lb(){return{}}function Fb(){return""}function Db(){return!0}function Mb(e,i){if(e=V(e),e<1||e>qt)return[];var o=wt,u=Ne(e,wt);i=Z(i),e-=wt;for(var c=fo(u,i);++o<e;)i(o);return c}function Ub(e){return H(e)?ge(e,Et):He(e)?[e]:Be(cl(oe(e)))}function Bb(e){var i=++Yd;return oe(e)+i}var Zb=Di(function(e,i){return e+i},0),jb=Uo("ceil"),Wb=Di(function(e,i){return e/i},1),$b=Uo("floor");function qb(e){return e&&e.length?Ai(e,We,Co):t}function zb(e,i){return e&&e.length?Ai(e,Z(i,2),Co):t}function Kb(e){return Vu(e,We)}function Hb(e,i){return Vu(e,Z(i,2))}function Gb(e){return e&&e.length?Ai(e,We,Oo):t}function Vb(e,i){return e&&e.length?Ai(e,Z(i,2),Oo):t}var Yb=Di(function(e,i){return e*i},1),Jb=Uo("round"),Xb=Di(function(e,i){return e-i},0);function Qb(e){return e&&e.length?lo(e,We):0}function e0(e,i){return e&&e.length?lo(e,Z(i,2)):0}return f.after=xy,f.ary=bl,f.assign=c_,f.assignIn=Ll,f.assignInWith=Vi,f.assignWith=l_,f.at=f_,f.before=wl,f.bind=Yo,f.bindAll=gb,f.bindKey=xl,f.castArray=Ly,f.chain=vl,f.chunk=$g,f.compact=qg,f.concat=zg,f.cond=vb,f.conforms=yb,f.constant=ra,f.countBy=Qv,f.create=h_,f.curry=Cl,f.curryRight=El,f.debounce=Tl,f.defaults=p_,f.defaultsDeep=d_,f.defer=Cy,f.delay=Ey,f.difference=Kg,f.differenceBy=Hg,f.differenceWith=Gg,f.drop=Vg,f.dropRight=Yg,f.dropRightWhile=Jg,f.dropWhile=Xg,f.fill=Qg,f.filter=ty,f.flatMap=iy,f.flatMapDeep=sy,f.flatMapDepth=oy,f.flatten=pl,f.flattenDeep=ev,f.flattenDepth=tv,f.flip=Ty,f.flow=bb,f.flowRight=wb,f.fromPairs=nv,f.functions=w_,f.functionsIn=x_,f.groupBy=ay,f.initial=iv,f.intersection=sv,f.intersectionBy=ov,f.intersectionWith=av,f.invert=E_,f.invertBy=T_,f.invokeMap=cy,f.iteratee=ia,f.keyBy=ly,f.keys=ke,f.keysIn=je,f.map=$i,f.mapKeys=O_,f.mapValues=R_,f.matches=xb,f.matchesProperty=Cb,f.memoize=zi,f.merge=A_,f.mergeWith=Fl,f.method=Eb,f.methodOf=Tb,f.mixin=sa,f.negate=Ki,f.nthArg=Ob,f.omit=k_,f.omitBy=I_,f.once=Sy,f.orderBy=fy,f.over=Rb,f.overArgs=Oy,f.overEvery=Ab,f.overSome=kb,f.partial=Jo,f.partialRight=Sl,f.partition=hy,f.pick=N_,f.pickBy=Dl,f.property=$l,f.propertyOf=Ib,f.pull=fv,f.pullAll=ml,f.pullAllBy=hv,f.pullAllWith=pv,f.pullAt=dv,f.range=Nb,f.rangeRight=Pb,f.rearg=Ry,f.reject=my,f.remove=mv,f.rest=Ay,f.reverse=Go,f.sampleSize=vy,f.set=L_,f.setWith=F_,f.shuffle=yy,f.slice=gv,f.sortBy=wy,f.sortedUniq=Cv,f.sortedUniqBy=Ev,f.split=ib,f.spread=ky,f.tail=Tv,f.take=Sv,f.takeRight=Ov,f.takeRightWhile=Rv,f.takeWhile=Av,f.tap=qv,f.throttle=Iy,f.thru=Wi,f.toArray=Il,f.toPairs=Ml,f.toPairsIn=Ul,f.toPath=Ub,f.toPlainObject=Pl,f.transform=D_,f.unary=Ny,f.union=kv,f.unionBy=Iv,f.unionWith=Nv,f.uniq=Pv,f.uniqBy=Lv,f.uniqWith=Fv,f.unset=M_,f.unzip=Vo,f.unzipWith=gl,f.update=U_,f.updateWith=B_,f.values=Bn,f.valuesIn=Z_,f.without=Dv,f.words=jl,f.wrap=Py,f.xor=Mv,f.xorBy=Uv,f.xorWith=Bv,f.zip=Zv,f.zipObject=jv,f.zipObjectDeep=Wv,f.zipWith=$v,f.entries=Ml,f.entriesIn=Ul,f.extend=Ll,f.extendWith=Vi,sa(f,f),f.add=Zb,f.attempt=Wl,f.camelCase=q_,f.capitalize=Bl,f.ceil=jb,f.clamp=j_,f.clone=Fy,f.cloneDeep=My,f.cloneDeepWith=Uy,f.cloneWith=Dy,f.conformsTo=By,f.deburr=Zl,f.defaultTo=_b,f.divide=Wb,f.endsWith=z_,f.eq=ht,f.escape=K_,f.escapeRegExp=H_,f.every=ey,f.find=ny,f.findIndex=fl,f.findKey=m_,f.findLast=ry,f.findLastIndex=hl,f.findLastKey=g_,f.floor=$b,f.forEach=yl,f.forEachRight=_l,f.forIn=v_,f.forInRight=y_,f.forOwn=__,f.forOwnRight=b_,f.get=ea,f.gt=Zy,f.gte=jy,f.has=C_,f.hasIn=ta,f.head=dl,f.identity=We,f.includes=uy,f.indexOf=rv,f.inRange=W_,f.invoke=S_,f.isArguments=yn,f.isArray=H,f.isArrayBuffer=Wy,f.isArrayLike=Ze,f.isArrayLikeObject=be,f.isBoolean=$y,f.isBuffer=en,f.isDate=qy,f.isElement=zy,f.isEmpty=Ky,f.isEqual=Hy,f.isEqualWith=Gy,f.isError=Xo,f.isFinite=Vy,f.isFunction=Dt,f.isInteger=Ol,f.isLength=Hi,f.isMap=Rl,f.isMatch=Yy,f.isMatchWith=Jy,f.isNaN=Xy,f.isNative=Qy,f.isNil=t_,f.isNull=e_,f.isNumber=Al,f.isObject=ve,f.isObjectLike=ye,f.isPlainObject=Tr,f.isRegExp=Qo,f.isSafeInteger=n_,f.isSet=kl,f.isString=Gi,f.isSymbol=He,f.isTypedArray=Un,f.isUndefined=r_,f.isWeakMap=i_,f.isWeakSet=s_,f.join=uv,f.kebabCase=G_,f.last=rt,f.lastIndexOf=cv,f.lowerCase=V_,f.lowerFirst=Y_,f.lt=o_,f.lte=a_,f.max=qb,f.maxBy=zb,f.mean=Kb,f.meanBy=Hb,f.min=Gb,f.minBy=Vb,f.stubArray=aa,f.stubFalse=ua,f.stubObject=Lb,f.stubString=Fb,f.stubTrue=Db,f.multiply=Yb,f.nth=lv,f.noConflict=Sb,f.noop=oa,f.now=qi,f.pad=J_,f.padEnd=X_,f.padStart=Q_,f.parseInt=eb,f.random=$_,f.reduce=py,f.reduceRight=dy,f.repeat=tb,f.replace=nb,f.result=P_,f.round=Jb,f.runInContext=y,f.sample=gy,f.size=_y,f.snakeCase=rb,f.some=by,f.sortedIndex=vv,f.sortedIndexBy=yv,f.sortedIndexOf=_v,f.sortedLastIndex=bv,f.sortedLastIndexBy=wv,f.sortedLastIndexOf=xv,f.startCase=sb,f.startsWith=ob,f.subtract=Xb,f.sum=Qb,f.sumBy=e0,f.template=ab,f.times=Mb,f.toFinite=Mt,f.toInteger=V,f.toLength=Nl,f.toLower=ub,f.toNumber=it,f.toSafeInteger=u_,f.toString=oe,f.toUpper=cb,f.trim=lb,f.trimEnd=fb,f.trimStart=hb,f.truncate=pb,f.unescape=db,f.uniqueId=Bb,f.upperCase=mb,f.upperFirst=na,f.each=yl,f.eachRight=_l,f.first=dl,sa(f,function(){var e={};return xt(f,function(i,o){ae.call(f.prototype,o)||(e[o]=i)}),e}(),{chain:!1}),f.VERSION=n,Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),Xe(["drop","take"],function(e,i){ee.prototype[e]=function(o){o=o===t?1:Oe(V(o),0);var u=this.__filtered__&&!i?new ee(this):this.clone();return u.__filtered__?u.__takeCount__=Ne(o,u.__takeCount__):u.__views__.push({size:Ne(o,wt),type:e+(u.__dir__<0?"Right":"")}),u},ee.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),Xe(["filter","map","takeWhile"],function(e,i){var o=i+1,u=o==pu||o==fp;ee.prototype[e]=function(c){var h=this.clone();return h.__iteratees__.push({iteratee:Z(c,3),type:o}),h.__filtered__=h.__filtered__||u,h}}),Xe(["head","last"],function(e,i){var o="take"+(i?"Right":"");ee.prototype[e]=function(){return this[o](1).value()[0]}}),Xe(["initial","tail"],function(e,i){var o="drop"+(i?"":"Right");ee.prototype[e]=function(){return this.__filtered__?new ee(this):this[o](1)}}),ee.prototype.compact=function(){return this.filter(We)},ee.prototype.find=function(e){return this.filter(e).head()},ee.prototype.findLast=function(e){return this.reverse().find(e)},ee.prototype.invokeMap=X(function(e,i){return typeof e=="function"?new ee(this):this.map(function(o){return _r(o,e,i)})}),ee.prototype.reject=function(e){return this.filter(Ki(Z(e)))},ee.prototype.slice=function(e,i){e=V(e);var o=this;return o.__filtered__&&(e>0||i<0)?new ee(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==t&&(i=V(i),o=i<0?o.dropRight(-i):o.take(i-e)),o)},ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ee.prototype.toArray=function(){return this.take(wt)},xt(ee.prototype,function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),u=/^(?:head|last)$/.test(i),c=f[u?"take"+(i=="last"?"Right":""):i],h=u||/^find/.test(i);c&&(f.prototype[i]=function(){var d=this.__wrapped__,g=u?[1]:arguments,_=d instanceof ee,E=g[0],T=_||H(d),S=function(Q){var te=c.apply(f,Kt([Q],g));return u&&N?te[0]:te};T&&o&&typeof E=="function"&&E.length!=1&&(_=T=!1);var N=this.__chain__,U=!!this.__actions__.length,j=h&&!N,Y=_&&!U;if(!h&&T){d=Y?d:new ee(this);var W=e.apply(d,g);return W.__actions__.push({func:Wi,args:[S],thisArg:t}),new et(W,N)}return j&&Y?e.apply(this,g):(W=this.thru(S),j?u?W.value()[0]:W.value():W)})}),Xe(["pop","push","shift","sort","splice","unshift"],function(e){var i=di[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var c=arguments;if(u&&!this.__chain__){var h=this.value();return i.apply(H(h)?h:[],c)}return this[o](function(d){return i.apply(H(d)?d:[],c)})}}),xt(ee.prototype,function(e,i){var o=f[i];if(o){var u=o.name+"";ae.call(Pn,u)||(Pn[u]=[]),Pn[u].push({name:i,func:o})}}),Pn[Fi(t,F).name]=[{name:"wrapper",func:t}],ee.prototype.clone=dm,ee.prototype.reverse=mm,ee.prototype.value=gm,f.prototype.at=zv,f.prototype.chain=Kv,f.prototype.commit=Hv,f.prototype.next=Gv,f.prototype.plant=Yv,f.prototype.reverse=Jv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=Xv,f.prototype.first=f.prototype.head,hr&&(f.prototype[hr]=Vv),f},Gt=Hd();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ae._=Gt,define(function(){return Gt})):ln?((ln.exports=Gt)._=Gt,ro._=Gt):Ae._=Gt}).call(rr)});var a0=Object.create,ws=Object.defineProperty,u0=Object.defineProperties,c0=Object.getOwnPropertyDescriptor,l0=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertyNames,Vl=Object.getOwnPropertySymbols,h0=Object.getPrototypeOf,mf=Object.prototype.hasOwnProperty,p0=Object.prototype.propertyIsEnumerable,Yl=(t,n,r)=>n in t?ws(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,x=(t,n)=>{for(var r in n||(n={}))mf.call(n,r)&&Yl(t,r,n[r]);if(Vl)for(var r of Vl(n))p0.call(n,r)&&Yl(t,r,n[r]);return t},q=(t,n)=>u0(t,l0(n)),Da=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),d0=(t,n)=>{for(var r in n)ws(t,r,{get:n[r],enumerable:!0})},m0=(t,n,r,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of f0(n))!mf.call(t,a)&&a!==r&&ws(t,a,{get:()=>n[a],enumerable:!(s=c0(n,a))||s.enumerable});return t},g0=(t,n,r)=>(r=t!=null?a0(h0(t)):{},m0(n||!t||!t.__esModule?ws(r,"default",{value:t,enumerable:!0}):r,t)),Zt=(t,n,r)=>new Promise((s,a)=>{var l=v=>{try{m(r.next(v))}catch(C){a(C)}},p=v=>{try{m(r.throw(v))}catch(C){a(C)}},m=v=>v.done?s(v.value):Promise.resolve(v.value).then(l,p);m((r=r.apply(t,n)).next())}),v0=Da((t,n)=>{var r=1e3,s=r*60,a=s*60,l=a*24,p=l*7,m=l*365.25;n.exports=function(R,k){k=k||{};var M=typeof R;if(M==="string"&&R.length>0)return v(R);if(M==="number"&&isFinite(R))return k.long?A(R):C(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))};function v(R){if(R=String(R),!(R.length>100)){var k=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(k){var M=parseFloat(k[1]),F=(k[2]||"ms").toLowerCase();switch(F){case"years":case"year":case"yrs":case"yr":case"y":return M*m;case"weeks":case"week":case"w":return M*p;case"days":case"day":case"d":return M*l;case"hours":case"hour":case"hrs":case"hr":case"h":return M*a;case"minutes":case"minute":case"mins":case"min":case"m":return M*s;case"seconds":case"second":case"secs":case"sec":case"s":return M*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return M;default:return}}}}function C(R){var k=Math.abs(R);return k>=l?Math.round(R/l)+"d":k>=a?Math.round(R/a)+"h":k>=s?Math.round(R/s)+"m":k>=r?Math.round(R/r)+"s":R+"ms"}function A(R){var k=Math.abs(R);return k>=l?I(R,k,l,"day"):k>=a?I(R,k,a,"hour"):k>=s?I(R,k,s,"minute"):k>=r?I(R,k,r,"second"):R+" ms"}function I(R,k,M,F){var he=k>=M*1.5;return Math.round(R/M)+" "+F+(he?"s":"")}}),y0=Da((t,n)=>{function r(s){l.debug=l,l.default=l,l.coerce=I,l.disable=v,l.enable=m,l.enabled=C,l.humanize=v0(),l.destroy=R,Object.keys(s).forEach(k=>{l[k]=s[k]}),l.names=[],l.skips=[],l.formatters={};function a(k){let M=0;for(let F=0;F<k.length;F++)M=(M<<5)-M+k.charCodeAt(F),M|=0;return l.colors[Math.abs(M)%l.colors.length]}l.selectColor=a;function l(k){let M,F=null,he,le;function pe(...ue){if(!pe.enabled)return;let _e=pe,Ee=Number(new Date),ie=Ee-(M||Ee);_e.diff=ie,_e.prev=M,_e.curr=Ee,M=Ee,ue[0]=l.coerce(ue[0]),typeof ue[0]!="string"&&ue.unshift("%O");let Te=0;ue[0]=ue[0].replace(/%([a-zA-Z%])/g,(Ue,$t)=>{if(Ue==="%%")return"%";Te++;let ni=l.formatters[$t];if(typeof ni=="function"){let Zs=ue[Te];Ue=ni.call(_e,Zs),ue.splice(Te,1),Te--}return Ue}),l.formatArgs.call(_e,ue),(_e.log||l.log).apply(_e,ue)}return pe.namespace=k,pe.useColors=l.useColors(),pe.color=l.selectColor(k),pe.extend=p,pe.destroy=l.destroy,Object.defineProperty(pe,"enabled",{enumerable:!0,configurable:!1,get:()=>F!==null?F:(he!==l.namespaces&&(he=l.namespaces,le=l.enabled(k)),le),set:ue=>{F=ue}}),typeof l.init=="function"&&l.init(pe),pe}function p(k,M){let F=l(this.namespace+(typeof M=="undefined"?":":M)+k);return F.log=this.log,F}function m(k){l.save(k),l.namespaces=k,l.names=[],l.skips=[];let M,F=(typeof k=="string"?k:"").split(/[\s,]+/),he=F.length;for(M=0;M<he;M++)F[M]&&(k=F[M].replace(/\*/g,".*?"),k[0]==="-"?l.skips.push(new RegExp("^"+k.slice(1)+"$")):l.names.push(new RegExp("^"+k+"$")))}function v(){let k=[...l.names.map(A),...l.skips.map(A).map(M=>"-"+M)].join(",");return l.enable(""),k}function C(k){if(k[k.length-1]==="*")return!0;let M,F;for(M=0,F=l.skips.length;M<F;M++)if(l.skips[M].test(k))return!1;for(M=0,F=l.names.length;M<F;M++)if(l.names[M].test(k))return!0;return!1}function A(k){return k.toString().substring(2,k.toString().length-2).replace(/\.\*\?$/,"*")}function I(k){return k instanceof Error?k.stack||k.message:k}function R(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l.enable(l.load()),l}n.exports=r}),_0=Da((t,n)=>{t.formatArgs=s,t.save=a,t.load=l,t.useColors=r,t.storage=p(),t.destroy=(()=>{let v=!1;return()=>{v||(v=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let v;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(v=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(v[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(v){if(v[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+v[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;let C="color: "+this.color;v.splice(1,0,C,"color: inherit");let A=0,I=0;v[0].replace(/%[a-zA-Z%]/g,R=>{R!=="%%"&&(A++,R==="%c"&&(I=A))}),v.splice(I,0,C)}t.log=console.debug||console.log||(()=>{});function a(v){try{v?t.storage.setItem("debug",v):t.storage.removeItem("debug")}catch(C){}}function l(){let v;try{v=t.storage.getItem("debug")}catch(C){}return!v&&typeof process!="undefined"&&"env"in process&&(v=process.env.DEBUG),v}function p(){try{return localStorage}catch(v){}}n.exports=y0()(t);var{formatters:m}=n.exports;m.j=function(v){try{return JSON.stringify(v)}catch(C){return"[UnexpectedJSONParseError]: "+C.message}}}),b0=(t=>(t.JOIN_ROOM="room.join",t.JOINED_ROOM="room.joined",t.LEAVE_ROOM="room.leave",t.UPDATE="room.update",t.ERROR="room.error",t))(b0||{}),xs=(t=>(t.JOINED_ROOM="presence.joined-room",t.LEAVE="presence.leave",t.UPDATE="presence.update",t))(xs||{}),Ma=(t=>(t.CONNECTED="CONNECTED",t.CONNECTING="CONNECTING",t.DISCONNECTED="DISCONNECTED",t.CONNECTION_ERROR="CONNECTION_ERROR",t.RECONNECTING="RECONNECTING",t.RECONNECT_ERROR="RECONNECT_ERROR",t))(Ma||{}),ya=function(t,n){return ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},ya(t,n)};function Cs(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ya(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function _a(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function us(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),a,l=[],p;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)l.push(a.value)}catch(m){p={error:m}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return l}function cs(t,n,r){if(r||arguments.length===2)for(var s=0,a=n.length,l;s<a;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return t.concat(l||Array.prototype.slice.call(n))}function Bt(t){return typeof t=="function"}function gf(t){var n=function(s){Error.call(s),s.stack=new Error().stack},r=t(n);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var la=gf(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ba(t,n){if(t){var r=t.indexOf(n);0<=r&&t.splice(r,1)}}var Es=function(){function t(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var n,r,s,a,l;if(!this.closed){this.closed=!0;var p=this._parentage;if(p)if(this._parentage=null,Array.isArray(p))try{for(var m=_a(p),v=m.next();!v.done;v=m.next()){var C=v.value;C.remove(this)}}catch(F){n={error:F}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}else p.remove(this);var A=this.initialTeardown;if(Bt(A))try{A()}catch(F){l=F instanceof la?F.errors:[F]}var I=this._finalizers;if(I){this._finalizers=null;try{for(var R=_a(I),k=R.next();!k.done;k=R.next()){var M=k.value;try{Jl(M)}catch(F){l=l!=null?l:[],F instanceof la?l=cs(cs([],us(l)),us(F.errors)):l.push(F)}}}catch(F){s={error:F}}finally{try{k&&!k.done&&(a=R.return)&&a.call(R)}finally{if(s)throw s.error}}}if(l)throw new la(l)}},t.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)Jl(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}},t.prototype._hasParent=function(n){var r=this._parentage;return r===n||Array.isArray(r)&&r.includes(n)},t.prototype._addParent=function(n){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n},t.prototype._removeParent=function(n){var r=this._parentage;r===n?this._parentage=null:Array.isArray(r)&&ba(r,n)},t.prototype.remove=function(n){var r=this._finalizers;r&&ba(r,n),n instanceof t&&n._removeParent(this)},t.EMPTY=function(){var n=new t;return n.closed=!0,n}(),t}(),vf=Es.EMPTY;function yf(t){return t instanceof Es||t&&"closed"in t&&Bt(t.remove)&&Bt(t.add)&&Bt(t.unsubscribe)}function Jl(t){Bt(t)?t():t.unsubscribe()}var xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ls={setTimeout:function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=ls.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,cs([t,n],us(r))):setTimeout.apply(void 0,cs([t,n],us(r)))},clearTimeout:function(t){var n=ls.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function w0(t){ls.setTimeout(function(){var n=xn.onUnhandledError;if(n)n(t);else throw t})}function Xl(){}var x0=function(){return Ua("C",void 0,void 0)}();function C0(t){return Ua("E",void 0,t)}function E0(t){return Ua("N",t,void 0)}function Ua(t,n,r){return{kind:t,value:n,error:r}}var _n=null;function ns(t){if(xn.useDeprecatedSynchronousErrorHandling){var n=!_n;if(n&&(_n={errorThrown:!1,error:null}),t(),n){var r=_n,s=r.errorThrown,a=r.error;if(_n=null,s)throw a}}else t()}function T0(t){xn.useDeprecatedSynchronousErrorHandling&&_n&&(_n.errorThrown=!0,_n.error=t)}var _f=function(t){Cs(n,t);function n(r){var s=t.call(this)||this;return s.isStopped=!1,r?(s.destination=r,yf(r)&&r.add(s)):s.destination=A0,s}return n.create=function(r,s,a){return new wa(r,s,a)},n.prototype.next=function(r){this.isStopped?ha(E0(r),this):this._next(r)},n.prototype.error=function(r){this.isStopped?ha(C0(r),this):(this.isStopped=!0,this._error(r))},n.prototype.complete=function(){this.isStopped?ha(x0,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(r){this.destination.next(r)},n.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(Es),S0=Function.prototype.bind;function fa(t,n){return S0.call(t,n)}var O0=function(){function t(n){this.partialObserver=n}return t.prototype.next=function(n){var r=this.partialObserver;if(r.next)try{r.next(n)}catch(s){Ji(s)}},t.prototype.error=function(n){var r=this.partialObserver;if(r.error)try{r.error(n)}catch(s){Ji(s)}else Ji(n)},t.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(r){Ji(r)}},t}(),wa=function(t){Cs(n,t);function n(r,s,a){var l=t.call(this)||this,p;if(Bt(r)||!r)p={next:r!=null?r:void 0,error:s!=null?s:void 0,complete:a!=null?a:void 0};else{var m;l&&xn.useDeprecatedNextContext?(m=Object.create(r),m.unsubscribe=function(){return l.unsubscribe()},p={next:r.next&&fa(r.next,m),error:r.error&&fa(r.error,m),complete:r.complete&&fa(r.complete,m)}):p=r}return l.destination=new O0(p),l}return n}(_f);function Ji(t){xn.useDeprecatedSynchronousErrorHandling?T0(t):w0(t)}function R0(t){throw t}function ha(t,n){var r=xn.onStoppedNotification;r&&ls.setTimeout(function(){return r(t,n)})}var A0={closed:!0,next:Xl,error:R0,complete:Xl},k0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function I0(t){return t}function N0(t){return t.length===0?I0:t.length===1?t[0]:function(n){return t.reduce(function(r,s){return s(r)},n)}}var Ql=function(){function t(n){n&&(this._subscribe=n)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(n,r,s){var a=this,l=L0(n)?n:new wa(n,r,s);return ns(function(){var p=a,m=p.operator,v=p.source;l.add(m?m.call(l,v):v?a._subscribe(l):a._trySubscribe(l))}),l},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(r){n.error(r)}},t.prototype.forEach=function(n,r){var s=this;return r=ef(r),new r(function(a,l){var p=new wa({next:function(m){try{n(m)}catch(v){l(v),p.unsubscribe()}},error:l,complete:a});s.subscribe(p)})},t.prototype._subscribe=function(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)},t.prototype[k0]=function(){return this},t.prototype.pipe=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return N0(n)(this)},t.prototype.toPromise=function(n){var r=this;return n=ef(n),new n(function(s,a){var l;r.subscribe(function(p){return l=p},function(p){return a(p)},function(){return s(l)})})},t.create=function(n){return new t(n)},t}();function ef(t){var n;return(n=t!=null?t:xn.Promise)!==null&&n!==void 0?n:Promise}function P0(t){return t&&Bt(t.next)&&Bt(t.error)&&Bt(t.complete)}function L0(t){return t&&t instanceof _f||P0(t)&&yf(t)}var F0=gf(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Tt=function(t){Cs(n,t);function n(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return n.prototype.lift=function(r){var s=new tf(this,this);return s.operator=r,s},n.prototype._throwIfClosed=function(){if(this.closed)throw new F0},n.prototype.next=function(r){var s=this;ns(function(){var a,l;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var p=_a(s.currentObservers),m=p.next();!m.done;m=p.next()){var v=m.value;v.next(r)}}catch(C){a={error:C}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}})},n.prototype.error=function(r){var s=this;ns(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=r;for(var a=s.observers;a.length;)a.shift().error(r)}})},n.prototype.complete=function(){var r=this;ns(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var s=r.observers;s.length;)s.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},n.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},n.prototype._innerSubscribe=function(r){var s=this,a=this,l=a.hasError,p=a.isStopped,m=a.observers;return l||p?vf:(this.currentObservers=null,m.push(r),new Es(function(){s.currentObservers=null,ba(m,r)}))},n.prototype._checkFinalizedStatuses=function(r){var s=this,a=s.hasError,l=s.thrownError,p=s.isStopped;a?r.error(l):p&&r.complete()},n.prototype.asObservable=function(){var r=new Ql;return r.source=this,r},n.create=function(r,s){return new tf(r,s)},n}(Ql),tf=function(t){Cs(n,t);function n(r,s){var a=t.call(this)||this;return a.destination=r,a.source=s,a}return n.prototype.next=function(r){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.next)===null||a===void 0||a.call(s,r)},n.prototype.error=function(r){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.error)===null||a===void 0||a.call(s,r)},n.prototype.complete=function(){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||s===void 0||s.call(r)},n.prototype._subscribe=function(r){var s,a;return(a=(s=this.source)===null||s===void 0?void 0:s.subscribe(r))!==null&&a!==void 0?a:vf},n}(Tt),nf=g0(_0()),Ba=class{constructor(t){this.debug=(0,nf.default)(t),nf.default.enable("*")}log(t,...n){this.debug(t,...n)}},D0=class bf{constructor(n,r,s){this.io=n,this.presence=r,this.roomId=s,this.presences=new Set,this.observers=new Map,this.onPresenceJoin=a=>{(a==null?void 0:a.roomId)===this.roomId&&(this.logger.log("presence room @ presence join",a),this.presences.add(a),this.observers.get("presence.joined-room").next({connectionId:a.connectionId,data:a.data,id:a.id,name:a.name,timestamp:a.timestamp}))},this.onPresenceLeave=a=>{(a==null?void 0:a.roomId)===this.roomId&&(this.logger.log("presence room @ presence leave",a),this.presences.delete(a),this.observers.get("presence.leave").next(a))},this.onPresenceUpdate=a=>{(a==null?void 0:a.roomId)===this.roomId&&(this.logger.log("presence room @ presence update",a),this.observers.get("presence.update").next({connectionId:a.connectionId,data:a.data,id:a.id,name:a.name,roomId:a==null?void 0:a.roomId,timestamp:a.timestamp}))},this.logger=new Ba("@superviz/socket-client/presence"),this.registerSubjects(),this.subscribeToPresenceEvents()}static register(n,r,s){return new bf(n,r,s)}get(n,r){let s=new Tt;s.subscribe({next:n,error:r});let a=l=>{let p=l.presences.map(m=>({connectionId:m.connectionId,data:m.data,id:m.id,name:m.name,timestamp:m.timestamp}));this.logger.log("presence room @ get",l),this.io.off("presence.get",a),s.next(p),s.complete()};this.io.on("presence.get",a),this.io.emit("presence.get",this.roomId)}update(n){let r={connectionId:this.io.id,data:n,id:this.presence.id,name:this.presence.name,timestamp:Date.now()};this.io.emit("presence.update",this.roomId,r),this.logger.log("presence room @ update",this.roomId,r)}destroy(){this.io.off("presence.joined-room",this.onPresenceJoin),this.io.off("presence.leave",this.onPresenceLeave),this.io.off("presence.update",this.onPresenceUpdate),this.observers.forEach(n=>n.unsubscribe()),this.observers.clear()}registerSubjects(){this.observers.set("presence.joined-room",new Tt),this.observers.set("presence.leave",new Tt),this.observers.set("presence.update",new Tt)}on(n,r,s){this.observers.get(n).subscribe({error:s,next:r})}off(n){this.observers.get(n).unsubscribe(),this.observers.delete(n),this.observers.set(n,new Tt)}subscribeToPresenceEvents(){this.io.on("presence.joined-room",this.onPresenceJoin),this.io.on("presence.leave",this.onPresenceLeave),this.io.on("presence.update",this.onPresenceUpdate)}},Ot=Object.create(null);Ot.open="0";Ot.close="1";Ot.ping="2";Ot.pong="3";Ot.message="4";Ot.upgrade="5";Ot.noop="6";var rs=Object.create(null);Object.keys(Ot).forEach(t=>{rs[Ot[t]]=t});var xa={type:"error",data:"parser error"},wf=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xf=typeof ArrayBuffer=="function",Cf=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Za=({type:t,data:n},r,s)=>wf&&n instanceof Blob?r?s(n):rf(n,s):xf&&(n instanceof ArrayBuffer||Cf(n))?r?s(n):rf(new Blob([n]),s):s(Ot[t]+(n||"")),rf=(t,n)=>{let r=new FileReader;return r.onload=function(){let s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(t)};function sf(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var pa;function M0(t,n){if(wf&&t.data instanceof Blob)return t.data.arrayBuffer().then(sf).then(n);if(xf&&(t.data instanceof ArrayBuffer||Cf(t.data)))return n(sf(t.data));Za(t,!1,r=>{pa||(pa=new TextEncoder),n(pa.encode(r))})}var of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let t=0;t<of.length;t++)Or[of.charCodeAt(t)]=t;var U0=t=>{let n=t.length*.75,r=t.length,s,a=0,l,p,m,v;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);let C=new ArrayBuffer(n),A=new Uint8Array(C);for(s=0;s<r;s+=4)l=Or[t.charCodeAt(s)],p=Or[t.charCodeAt(s+1)],m=Or[t.charCodeAt(s+2)],v=Or[t.charCodeAt(s+3)],A[a++]=l<<2|p>>4,A[a++]=(p&15)<<4|m>>2,A[a++]=(m&3)<<6|v&63;return C},B0=typeof ArrayBuffer=="function",ja=(t,n)=>{if(typeof t!="string")return{type:"message",data:Ef(t,n)};let r=t.charAt(0);return r==="b"?{type:"message",data:Z0(t.substring(1),n)}:rs[r]?t.length>1?{type:rs[r],data:t.substring(1)}:{type:rs[r]}:xa},Z0=(t,n)=>{if(B0){let r=U0(t);return Ef(r,n)}else return{base64:!0,data:t}},Ef=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Tf="",j0=(t,n)=>{let r=t.length,s=new Array(r),a=0;t.forEach((l,p)=>{Za(l,!1,m=>{s[p]=m,++a===r&&n(s.join(Tf))})})},W0=(t,n)=>{let r=t.split(Tf),s=[];for(let a=0;a<r.length;a++){let l=ja(r[a],n);if(s.push(l),l.type==="error")break}return s};function $0(){return new TransformStream({transform(t,n){M0(t,r=>{let s=r.length,a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);let l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{a=new Uint8Array(9);let l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),n.enqueue(a),n.enqueue(r)})}})}var da;function Xi(t){return t.reduce((n,r)=>n+r.length,0)}function Qi(t,n){if(t[0].length===n)return t.shift();let r=new Uint8Array(n),s=0;for(let a=0;a<n;a++)r[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),r}function q0(t,n){da||(da=new TextDecoder);let r=[],s=0,a=-1,l=!1;return new TransformStream({transform(p,m){for(r.push(p);;){if(s===0){if(Xi(r)<1)break;let v=Qi(r,1);l=(v[0]&128)===128,a=v[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Xi(r)<2)break;let v=Qi(r,2);a=new DataView(v.buffer,v.byteOffset,v.length).getUint16(0),s=3}else if(s===2){if(Xi(r)<8)break;let v=Qi(r,8),C=new DataView(v.buffer,v.byteOffset,v.length),A=C.getUint32(0);if(A>Math.pow(2,21)-1){m.enqueue(xa);break}a=A*Math.pow(2,32)+C.getUint32(4),s=3}else{if(Xi(r)<a)break;let v=Qi(r,a);m.enqueue(ja(l?v:da.decode(v),n)),s=0}if(a===0||a>t){m.enqueue(xa);break}}}})}var Sf=4;function Ce(t){if(t)return z0(t)}function z0(t){for(var n in Ce.prototype)t[n]=Ce.prototype[n];return t}Ce.prototype.on=Ce.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};Ce.prototype.once=function(t,n){function r(){this.off(t,r),n.apply(this,arguments)}return r.fn=n,this.on(t,r),this};Ce.prototype.off=Ce.prototype.removeListener=Ce.prototype.removeAllListeners=Ce.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<r.length;a++)if(s=r[a],s===n||s.fn===n){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Ce.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+t],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,a=r.length;s<a;++s)r[s].apply(this,n)}return this};Ce.prototype.emitReserved=Ce.prototype.emit;Ce.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ce.prototype.hasListeners=function(t){return!!this.listeners(t).length};var st=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")();function Of(t,...n){return n.reduce((r,s)=>(t.hasOwnProperty(s)&&(r[s]=t[s]),r),{})}var K0=st.setTimeout,H0=st.clearTimeout;function Ts(t,n){n.useNativeTimers?(t.setTimeoutFn=K0.bind(st),t.clearTimeoutFn=H0.bind(st)):(t.setTimeoutFn=st.setTimeout.bind(st),t.clearTimeoutFn=st.clearTimeout.bind(st))}var G0=1.33;function V0(t){return typeof t=="string"?Y0(t):Math.ceil((t.byteLength||t.size)*G0)}function Y0(t){let n=0,r=0;for(let s=0,a=t.length;s<a;s++)n=t.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function J0(t){let n="";for(let r in t)t.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n}function X0(t){let n={},r=t.split("&");for(let s=0,a=r.length;s<a;s++){let l=r[s].split("=");n[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return n}var Q0=class extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}},Wa=class extends Ce{constructor(t){super(),this.writable=!1,Ts(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Q0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let n=ja(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let n=J0(t);return n.length?"?"+n:""}},Rf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ca=64,ew={},af=0,es=0,uf;function cf(t){let n="";do n=Rf[t%Ca]+n,t=Math.floor(t/Ca);while(t>0);return n}function Af(){let t=cf(+new Date);return t!==uf?(af=0,uf=t):t+"."+cf(af++)}for(;es<Ca;es++)ew[Rf[es]]=es;var kf=!1;try{kf=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}var tw=kf;function If(t){let n=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!n||tw))return new XMLHttpRequest}catch(r){}if(!n)try{return new st[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}function nw(){}var rw=function(){return new If({xdomain:!1}).responseType!=null}(),iw=class extends Wa{constructor(t){if(super(t),this.polling=!1,typeof location!="undefined"){let r=location.protocol==="https:",s=location.port;s||(s=r?"443":"80"),this.xd=typeof location!="undefined"&&t.hostname!==location.hostname||s!==t.port}let n=t&&t.forceBase64;this.supportsBinary=rw&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";let n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};W0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,j0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Af()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Wn(this.uri(),t)}doWrite(t,n){let r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}},Wn=class is extends Ce{constructor(n,r){super(),Ts(this,r),this.opts=r,this.method=r.method||"GET",this.uri=n,this.data=r.data!==void 0?r.data:null,this.create()}create(){var n;let r=Of(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;let s=this.xhr=new If(r);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this.opts.extraHeaders[a])}}catch(a){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document!="undefined"&&(this.index=is.requestsCount++,is.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=nw,n)try{this.xhr.abort()}catch(r){}typeof document!="undefined"&&delete is.requests[this.index],this.xhr=null}}onLoad(){let n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Wn.requestsCount=0;Wn.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",lf);else if(typeof addEventListener=="function"){let t="onpagehide"in st?"pagehide":"unload";addEventListener(t,lf,!1)}}function lf(){for(let t in Wn.requests)Wn.requests.hasOwnProperty(t)&&Wn.requests[t].abort()}var $a=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),ts=st.WebSocket||st.MozWebSocket,ma=!0,sw="arraybuffer",ff=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ow=class extends Wa{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let t=this.uri(),n=this.opts.protocols,r=ff?{}:Of(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=ma&&!ff?n?new ts(t,n):new ts(t):new ts(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){let r=t[n],s=n===t.length-1;Za(r,this.supportsBinary,a=>{let l={};ma||(r.options&&(l.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof a=="string"?Buffer.byteLength(a):a.length)<this.opts.perMessageDeflate.threshold&&(l.compress=!1));try{ma?this.ws.send(a):this.ws.send(a,l)}catch(p){}s&&$a(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Af()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!ts}},aw=class extends Wa{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{let n=q0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=$0();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();let a=()=>{r.read().then(({done:p,value:m})=>{p||(this.onPacket(m),a())}).catch(p=>{})};a();let l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){let r=t[n],s=n===t.length-1;this.writer.write(r).then(()=>{s&&$a(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}},uw={websocket:ow,webtransport:aw,polling:iw},cw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ea(t){if(t.length>2e3)throw"URI too long";let n=t,r=t.indexOf("["),s=t.indexOf("]");r!=-1&&s!=-1&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));let a=cw.exec(t||""),l={},p=14;for(;p--;)l[lw[p]]=a[p]||"";return r!=-1&&s!=-1&&(l.source=n,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=fw(l,l.path),l.queryKey=hw(l,l.query),l}function fw(t,n){let r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function hw(t,n){let r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,l){a&&(r[a]=l)}),r}var qa=class Zn extends Ce{constructor(n,r={}){super(),this.binaryType=sw,this.writeBuffer=[],n&&typeof n=="object"&&(r=n,n=null),n?(n=Ea(n),r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)):r.host&&(r.hostname=Ea(r.host).host),Ts(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=X0(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){let r=Object.assign({},this.opts.query);r.EIO=Sf,r.transport=n,this.id&&(r.sid=this.id);let s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new uw[n](s)}open(){let n;if(this.opts.rememberUpgrade&&Zn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch(r){this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(n){let r=this.createTransport(n),s=!1;Zn.priorWebsocketSuccess=!1;let a=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",I=>{if(!s)if(I.type==="pong"&&I.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Zn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(A(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{let R=new Error("probe error");R.transport=r.name,this.emitReserved("upgradeError",R)}}))};function l(){s||(s=!0,A(),r.close(),r=null)}let p=I=>{let R=new Error("probe error: "+I);R.transport=r.name,l(),this.emitReserved("upgradeError",R)};function m(){p("transport closed")}function v(){p("socket closed")}function C(I){r&&I.name!==r.name&&l()}let A=()=>{r.removeListener("open",a),r.removeListener("error",p),r.removeListener("close",m),this.off("close",v),this.off("upgrading",C)};r.once("open",a),r.once("error",p),r.once("close",m),this.once("close",v),this.once("upgrading",C),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Zn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0,r=this.upgrades.length;for(;n<r;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=n.data,this.onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){let s=this.writeBuffer[r].data;if(s&&(n+=V0(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(n,r,s){return this.sendPacket("message",n,r,s),this}send(n,r,s){return this.sendPacket("message",n,r,s),this}sendPacket(n,r,s,a){if(typeof r=="function"&&(a=r,r=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;let l={type:n,data:r,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){let n=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}onError(n){Zn.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){let r=[],s=0,a=n.length;for(;s<a;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}};qa.protocol=Sf;var $C=qa.protocol;function pw(t,n="",r){let s=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),s=Ea(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";let a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+n,s.href=s.protocol+"://"+a+(r&&r.port===s.port?"":":"+s.port),s}var Nf={};d0(Nf,{Decoder:()=>Cw,Encoder:()=>xw,PacketType:()=>ne,protocol:()=>ww});var dw=typeof ArrayBuffer=="function",mw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Pf=Object.prototype.toString,gw=typeof Blob=="function"||typeof Blob!="undefined"&&Pf.call(Blob)==="[object BlobConstructor]",vw=typeof File=="function"||typeof File!="undefined"&&Pf.call(File)==="[object FileConstructor]";function za(t){return dw&&(t instanceof ArrayBuffer||mw(t))||gw&&t instanceof Blob||vw&&t instanceof File}function ss(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,s=t.length;r<s;r++)if(ss(t[r]))return!0;return!1}if(za(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ss(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&ss(t[r]))return!0;return!1}function yw(t){let n=[],r=t.data,s=t;return s.data=Ta(r,n),s.attachments=n.length,{packet:s,buffers:n}}function Ta(t,n){if(!t)return t;if(za(t)){let r={_placeholder:!0,num:n.length};return n.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let s=0;s<t.length;s++)r[s]=Ta(t[s],n);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Ta(t[s],n));return r}return t}function _w(t,n){return t.data=Sa(t.data,n),delete t.attachments,t}function Sa(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Sa(t[r],n);else if(typeof t=="object")for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Sa(t[r],n));return t}var bw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ww=5,ne;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ne||(ne={}));var xw=class{constructor(t){this.replacer=t}encode(t){return(t.type===ne.EVENT||t.type===ne.ACK)&&ss(t)?this.encodeAsBinary({type:t.type===ne.EVENT?ne.BINARY_EVENT:ne.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ne.BINARY_EVENT||t.type===ne.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){let n=yw(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}};function hf(t){return Object.prototype.toString.call(t)==="[object Object]"}var Cw=class Lf extends Ce{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);let s=r.type===ne.BINARY_EVENT;s||r.type===ne.BINARY_ACK?(r.type=s?ne.EVENT:ne.ACK,this.reconstructor=new Ew(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(za(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0,s={type:Number(n.charAt(0))};if(ne[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ne.BINARY_EVENT||s.type===ne.BINARY_ACK){let l=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);let p=n.substring(l,r);if(p!=Number(p)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(p)}if(n.charAt(r+1)==="/"){let l=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(l,r)}else s.nsp="/";let a=n.charAt(r+1);if(a!==""&&Number(a)==a){let l=r+1;for(;++r;){let p=n.charAt(r);if(p==null||Number(p)!=p){--r;break}if(r===n.length)break}s.id=Number(n.substring(l,r+1))}if(n.charAt(++r)){let l=this.tryParse(n.substr(r));if(Lf.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch(r){return!1}}static isPayloadValid(n,r){switch(n){case ne.CONNECT:return hf(r);case ne.DISCONNECT:return r===void 0;case ne.CONNECT_ERROR:return typeof r=="string"||hf(r);case ne.EVENT:case ne.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&bw.indexOf(r[0])===-1);case ne.ACK:case ne.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Ew=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let n=_w(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function gt(t,n,r){return t.on(n,r),function(){t.off(n,r)}}var Tw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ff=class extends Ce{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[gt(t,"open",this.onopen.bind(this)),gt(t,"packet",this.onpacket.bind(this)),gt(t,"error",this.onerror.bind(this)),gt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Tw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let r={type:ne.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let a=this.ids++,l=n.pop();this._registerAckCallback(a,l),r.id=a}let s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;let s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}let a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===t&&this.sendBuffer.splice(p,1);n.call(this,new Error("operation has timed out"))},s),l=(...p)=>{this.io.clearTimeoutFn(a),n.apply(this,p)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...n){return new Promise((r,s)=>{let a=(l,p)=>l?s(l):r(p);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){let n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ne.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ne.EVENT:case ne.BINARY_EVENT:this.onevent(t);break;case ne.ACK:case ne.BINARY_ACK:this.onack(t);break;case ne.DISCONNECT:this.ondisconnect();break;case ne.CONNECT_ERROR:this.destroy();let n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){let n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let n=this,r=!1;return function(...s){r||(r=!0,n.packet({type:ne.ACK,id:t,data:s}))}}onack(t){let n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let r of n)r.apply(this,t.data)}}};function Hn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Hn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*t);t=Math.floor(n*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Hn.prototype.reset=function(){this.attempts=0};Hn.prototype.setMin=function(t){this.ms=t};Hn.prototype.setMax=function(t){this.max=t};Hn.prototype.setJitter=function(t){this.jitter=t};var fs=class extends Ce{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ts(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;let s=n.parser||Nf;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new qa(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let s=gt(n,"open",function(){r.onopen(),t&&t()}),a=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),t?t(p):this.maybeReconnectOnOpen()},l=gt(n,"error",a);if(this._timeout!==!1){let p=this._timeout,m=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},p);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(s),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(gt(t,"ping",this.onping.bind(this)),gt(t,"data",this.ondata.bind(this)),gt(t,"error",this.onerror.bind(this)),gt(t,"close",this.onclose.bind(this)),gt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){$a(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ff(this,t,n),this.nsps[t]=r),r}_destroy(t){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active)return;this._close()}_packet(t){let n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}},Sr={};function ga(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};let r=pw(t,n.path||"/socket.io"),s=r.source,a=r.id,l=r.path,p=Sr[a]&&l in Sr[a].nsps,m=n.forceNew||n["force new connection"]||n.multiplex===!1||p,v;return m?v=new fs(s,n):(Sr[a]||(Sr[a]=new fs(s,n)),v=Sr[a]),r.query&&!n.query&&(n.query=r.queryKey),v.socket(r.path,n)}Object.assign(ga,{Manager:fs,Socket:Ff,io:ga,connect:ga});var re;(function(t){t.assertEqual=a=>a;function n(a){}t.assertIs=n;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{let l={};for(let p of a)l[p]=p;return l},t.getValidEnumValues=a=>{let l=t.objectKeys(a).filter(m=>typeof a[a[m]]!="number"),p={};for(let m of l)p[m]=a[m];return t.objectValues(p)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let l=[];for(let p in a)Object.prototype.hasOwnProperty.call(a,p)&&l.push(p);return l},t.find=(a,l)=>{for(let p of a)if(l(p))return p},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,l=" | "){return a.map(p=>typeof p=="string"?`'${p}'`:p).join(l)}t.joinValues=s,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(re||(re={}));var Oa;(function(t){t.mergeShapes=(n,r)=>x(x({},n),r)})(Oa||(Oa={}));var L=re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nn=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map!="undefined"&&t instanceof Map?L.map:typeof Set!="undefined"&&t instanceof Set?L.set:typeof Date!="undefined"&&t instanceof Date?L.date:L.object;default:return L.unknown}},O=re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Sw=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),vt=class Df extends Error{constructor(n){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){let r=n||function(l){return l.message},s={_errors:[]},a=l=>{for(let p of l.issues)if(p.code==="invalid_union")p.unionErrors.map(a);else if(p.code==="invalid_return_type")a(p.returnTypeError);else if(p.code==="invalid_arguments")a(p.argumentsError);else if(p.path.length===0)s._errors.push(r(p));else{let m=s,v=0;for(;v<p.path.length;){let C=p.path[v];v===p.path.length-1?(m[C]=m[C]||{_errors:[]},m[C]._errors.push(r(p))):m[C]=m[C]||{_errors:[]},m=m[C],v++}}};return a(this),s}static assert(n){if(!(n instanceof Df))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=r=>r.message){let r={},s=[];for(let a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(n(a))):s.push(n(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};vt.create=t=>new vt(t);var $n=(t,n)=>{let r;switch(t.code){case O.invalid_type:t.received===L.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,re.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${re.joinValues(t.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${re.joinValues(t.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${re.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:re.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case O.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case O.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=n.defaultError,re.assertNever(t)}return{message:r}},Mf=$n;function Ow(t){Mf=t}function hs(){return Mf}var ps=t=>{let{data:n,path:r,errorMaps:s,issueData:a}=t,l=[...r,...a.path||[]],p=q(x({},a),{path:l});if(a.message!==void 0)return q(x({},a),{path:l,message:a.message});let m="",v=s.filter(C=>!!C).slice().reverse();for(let C of v)m=C(p,{data:n,defaultError:m}).message;return q(x({},a),{path:l,message:m})},Rw=[];function P(t,n){let r=hs(),s=ps({issueData:n,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===$n?void 0:$n].filter(a=>!!a)});t.common.issues.push(s)}var $e=class Uf{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,r){let s=[];for(let a of r){if(a.status==="aborted")return z;a.status==="dirty"&&n.dirty(),s.push(a.value)}return{status:n.value,value:s}}static mergeObjectAsync(n,r){return Zt(this,null,function*(){let s=[];for(let a of r){let l=yield a.key,p=yield a.value;s.push({key:l,value:p})}return Uf.mergeObjectSync(n,s)})}static mergeObjectSync(n,r){let s={};for(let a of r){let{key:l,value:p}=a;if(l.status==="aborted"||p.status==="aborted")return z;l.status==="dirty"&&n.dirty(),p.status==="dirty"&&n.dirty(),l.value!=="__proto__"&&(typeof p.value!="undefined"||a.alwaysSet)&&(s[l.value]=p.value)}return{status:n.value,value:s}}},z=Object.freeze({status:"aborted"}),ds=t=>({status:"dirty",value:t}),Me=t=>({status:"valid",value:t}),Ra=t=>t.status==="aborted",Aa=t=>t.status==="dirty",Ir=t=>t.status==="valid",Nr=t=>typeof Promise!="undefined"&&t instanceof Promise;function ms(t,n,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!s:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:n.get(t)}function Bf(t,n,r,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!a:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(t,r):a?a.value=r:n.set(t,r),r}var B;(function(t){t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n==null?void 0:n.message})(B||(B={}));var Rr,Ar,Rt=class{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},pf=(t,n)=>{if(Ir(n))return{success:!0,data:n.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new vt(t.common.issues);return this._error=r,this._error}}};function G(t){if(!t)return{};let{errorMap:n,invalid_type_error:r,required_error:s,description:a}=t;if(n&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:a}:{errorMap:(l,p)=>{var m,v;let{message:C}=t;return l.code==="invalid_enum_value"?{message:C!=null?C:p.defaultError}:typeof p.data=="undefined"?{message:(m=C!=null?C:s)!==null&&m!==void 0?m:p.defaultError}:l.code!=="invalid_type"?{message:p.defaultError}:{message:(v=C!=null?C:r)!==null&&v!==void 0?v:p.defaultError}},description:a}}var J=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return nn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:nn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $e,ctx:{common:t.parent.common,data:t.data,parsedType:nn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(Nr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nn(t)},a=this._parseSync({data:t,path:s.path,parent:s});return pf(s,a)}parseAsync(t,n){return Zt(this,null,function*(){let r=yield this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error})}safeParseAsync(t,n){return Zt(this,null,function*(){let r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nn(t)},s=this._parse({data:t,path:r.path,parent:r}),a=yield Nr(s)?s:Promise.resolve(s);return pf(r,a)})}refine(t,n){let r=s=>typeof n=="string"||typeof n=="undefined"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{let l=t(s),p=()=>a.addIssue(x({code:O.custom},r(s)));return typeof Promise!="undefined"&&l instanceof Promise?l.then(m=>m?!0:(p(),!1)):l?!0:(p(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new yt({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return St.create(this,this._def)}nullable(){return sn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wn.create(this,this._def)}promise(){return Kn.create(this,this._def)}or(t){return Br.create([this,t],this._def)}and(t){return Zr.create(this,t,this._def)}transform(t){return new yt(q(x({},G(this._def)),{schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let n=typeof t=="function"?t:()=>t;return new qr(q(x({},G(this._def)),{innerType:this,defaultValue:n,typeName:$.ZodDefault}))}brand(){return new Ka(x({typeName:$.ZodBranded,type:this},G(this._def)))}catch(t){let n=typeof t=="function"?t:()=>t;return new zr(q(x({},G(this._def)),{innerType:this,catchValue:n,typeName:$.ZodCatch}))}describe(t){let n=this.constructor;return new n(q(x({},this._def),{description:t}))}pipe(t){return Ha.create(this,t)}readonly(){return Kr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Aw=/^c[^\s-]{8,}$/i,kw=/^[0-9a-z]+$/,Iw=/^[0-9A-HJKMNP-TV-Z]{26}$/,Nw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pw=/^[a-z0-9_-]{21}$/i,Lw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",va,Mw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uw=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Bw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zw=new RegExp(`^${Zf}$`);function jf(t){let n="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?n=`${n}\\.\\d{${t.precision}}`:t.precision==null&&(n=`${n}(\\.\\d+)?`),n}function jw(t){return new RegExp(`^${jf(t)}$`)}function Wf(t){let n=`${Zf}T${jf(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${r.join("|")})`,new RegExp(`^${n}$`)}function Ww(t,n){return!!((n==="v4"||!n)&&Mw.test(t)||(n==="v6"||!n)&&Uw.test(t))}var qn=class kr extends J{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==L.string){let a=this._getOrReturnCtx(n);return P(a,{code:O.invalid_type,expected:L.string,received:a.parsedType}),z}let r=new $e,s;for(let a of this._def.checks)if(a.kind==="min")n.data.length<a.value&&(s=this._getOrReturnCtx(n,s),P(s,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")n.data.length>a.value&&(s=this._getOrReturnCtx(n,s),P(s,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){let l=n.data.length>a.value,p=n.data.length<a.value;(l||p)&&(s=this._getOrReturnCtx(n,s),l?P(s,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):p&&P(s,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Fw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"email",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")va||(va=new RegExp(Dw,"u")),va.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"emoji",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Nw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"uuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Pw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"nanoid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Aw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"cuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")kw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"cuid2",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Iw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"ulid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(n.data)}catch(l){s=this._getOrReturnCtx(n,s),P(s,{validation:"url",code:O.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"regex",code:O.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?n.data=n.data.trim():a.kind==="includes"?n.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(n,s),P(s,{code:O.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?n.data=n.data.toLowerCase():a.kind==="toUpperCase"?n.data=n.data.toUpperCase():a.kind==="startsWith"?n.data.startsWith(a.value)||(s=this._getOrReturnCtx(n,s),P(s,{code:O.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?n.data.endsWith(a.value)||(s=this._getOrReturnCtx(n,s),P(s,{code:O.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Wf(a).test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{code:O.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Zw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{code:O.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?jw(a).test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{code:O.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Lw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"duration",code:O.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Ww(n.data,a.version)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"ip",code:O.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Bw.test(n.data)||(s=this._getOrReturnCtx(n,s),P(s,{validation:"base64",code:O.invalid_string,message:a.message}),r.dirty()):re.assertNever(a);return{status:r.value,value:n.data}}_regex(n,r,s){return this.refinement(a=>n.test(a),x({validation:r,code:O.invalid_string},B.errToObj(s)))}_addCheck(n){return new kr(q(x({},this._def),{checks:[...this._def.checks,n]}))}email(n){return this._addCheck(x({kind:"email"},B.errToObj(n)))}url(n){return this._addCheck(x({kind:"url"},B.errToObj(n)))}emoji(n){return this._addCheck(x({kind:"emoji"},B.errToObj(n)))}uuid(n){return this._addCheck(x({kind:"uuid"},B.errToObj(n)))}nanoid(n){return this._addCheck(x({kind:"nanoid"},B.errToObj(n)))}cuid(n){return this._addCheck(x({kind:"cuid"},B.errToObj(n)))}cuid2(n){return this._addCheck(x({kind:"cuid2"},B.errToObj(n)))}ulid(n){return this._addCheck(x({kind:"ulid"},B.errToObj(n)))}base64(n){return this._addCheck(x({kind:"base64"},B.errToObj(n)))}ip(n){return this._addCheck(x({kind:"ip"},B.errToObj(n)))}datetime(n){var r,s;return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck(x({kind:"datetime",precision:typeof(n==null?void 0:n.precision)=="undefined"?null:n==null?void 0:n.precision,offset:(r=n==null?void 0:n.offset)!==null&&r!==void 0?r:!1,local:(s=n==null?void 0:n.local)!==null&&s!==void 0?s:!1},B.errToObj(n==null?void 0:n.message)))}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck(x({kind:"time",precision:typeof(n==null?void 0:n.precision)=="undefined"?null:n==null?void 0:n.precision},B.errToObj(n==null?void 0:n.message)))}duration(n){return this._addCheck(x({kind:"duration"},B.errToObj(n)))}regex(n,r){return this._addCheck(x({kind:"regex",regex:n},B.errToObj(r)))}includes(n,r){return this._addCheck(x({kind:"includes",value:n,position:r==null?void 0:r.position},B.errToObj(r==null?void 0:r.message)))}startsWith(n,r){return this._addCheck(x({kind:"startsWith",value:n},B.errToObj(r)))}endsWith(n,r){return this._addCheck(x({kind:"endsWith",value:n},B.errToObj(r)))}min(n,r){return this._addCheck(x({kind:"min",value:n},B.errToObj(r)))}max(n,r){return this._addCheck(x({kind:"max",value:n},B.errToObj(r)))}length(n,r){return this._addCheck(x({kind:"length",value:n},B.errToObj(r)))}nonempty(n){return this.min(1,B.errToObj(n))}trim(){return new kr(q(x({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new kr(q(x({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new kr(q(x({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get minLength(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxLength(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}};qn.create=t=>{var n;return new qn(x({checks:[],typeName:$.ZodString,coerce:(n=t==null?void 0:t.coerce)!==null&&n!==void 0?n:!1},G(t)))};function $w(t,n){let r=(t.toString().split(".")[1]||"").length,s=(n.toString().split(".")[1]||"").length,a=r>s?r:s,l=parseInt(t.toFixed(a).replace(".","")),p=parseInt(n.toFixed(a).replace(".",""));return l%p/Math.pow(10,a)}var Pr=class ka extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==L.number){let a=this._getOrReturnCtx(n);return P(a,{code:O.invalid_type,expected:L.number,received:a.parsedType}),z}let r,s=new $e;for(let a of this._def.checks)a.kind==="int"?re.isInteger(n.data)||(r=this._getOrReturnCtx(n,r),P(r,{code:O.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?n.data<a.value:n.data<=a.value)&&(r=this._getOrReturnCtx(n,r),P(r,{code:O.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?n.data>a.value:n.data>=a.value)&&(r=this._getOrReturnCtx(n,r),P(r,{code:O.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?$w(n.data,a.value)!==0&&(r=this._getOrReturnCtx(n,r),P(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(n.data)||(r=this._getOrReturnCtx(n,r),P(r,{code:O.not_finite,message:a.message}),s.dirty()):re.assertNever(a);return{status:s.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,B.toString(r))}gt(n,r){return this.setLimit("min",n,!1,B.toString(r))}lte(n,r){return this.setLimit("max",n,!0,B.toString(r))}lt(n,r){return this.setLimit("max",n,!1,B.toString(r))}setLimit(n,r,s,a){return new ka(q(x({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:s,message:B.toString(a)}]}))}_addCheck(n){return new ka(q(x({},this._def),{checks:[...this._def.checks,n]}))}int(n){return this._addCheck({kind:"int",message:B.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:B.toString(r)})}finite(n){return this._addCheck({kind:"finite",message:B.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(n)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&re.isInteger(n.value))}get isFinite(){let n=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(n===null||s.value<n)&&(n=s.value)}return Number.isFinite(r)&&Number.isFinite(n)}};Pr.create=t=>new Pr(x({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1},G(t)));var Lr=class Ia extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce&&(n.data=BigInt(n.data)),this._getType(n)!==L.bigint){let a=this._getOrReturnCtx(n);return P(a,{code:O.invalid_type,expected:L.bigint,received:a.parsedType}),z}let r,s=new $e;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?n.data<a.value:n.data<=a.value)&&(r=this._getOrReturnCtx(n,r),P(r,{code:O.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?n.data>a.value:n.data>=a.value)&&(r=this._getOrReturnCtx(n,r),P(r,{code:O.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?n.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(n,r),P(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):re.assertNever(a);return{status:s.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,B.toString(r))}gt(n,r){return this.setLimit("min",n,!1,B.toString(r))}lte(n,r){return this.setLimit("max",n,!0,B.toString(r))}lt(n,r){return this.setLimit("max",n,!1,B.toString(r))}setLimit(n,r,s,a){return new Ia(q(x({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:s,message:B.toString(a)}]}))}_addCheck(n){return new Ia(q(x({},this._def),{checks:[...this._def.checks,n]}))}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:B.toString(r)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}};Lr.create=t=>{var n;return new Lr(x({checks:[],typeName:$.ZodBigInt,coerce:(n=t==null?void 0:t.coerce)!==null&&n!==void 0?n:!1},G(t)))};var Fr=class extends J{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==L.boolean){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.boolean,received:n.parsedType}),z}return Me(t.data)}};Fr.create=t=>new Fr(x({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1},G(t)));var Dr=class $f extends J{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==L.date){let a=this._getOrReturnCtx(n);return P(a,{code:O.invalid_type,expected:L.date,received:a.parsedType}),z}if(isNaN(n.data.getTime())){let a=this._getOrReturnCtx(n);return P(a,{code:O.invalid_date}),z}let r=new $e,s;for(let a of this._def.checks)a.kind==="min"?n.data.getTime()<a.value&&(s=this._getOrReturnCtx(n,s),P(s,{code:O.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?n.data.getTime()>a.value&&(s=this._getOrReturnCtx(n,s),P(s,{code:O.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):re.assertNever(a);return{status:r.value,value:new Date(n.data.getTime())}}_addCheck(n){return new $f(q(x({},this._def),{checks:[...this._def.checks,n]}))}min(n,r){return this._addCheck({kind:"min",value:n.getTime(),message:B.toString(r)})}max(n,r){return this._addCheck({kind:"max",value:n.getTime(),message:B.toString(r)})}get minDate(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n!=null?new Date(n):null}};Dr.create=t=>new Dr(x({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate},G(t)));var gs=class extends J{_parse(t){if(this._getType(t)!==L.symbol){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.symbol,received:n.parsedType}),z}return Me(t.data)}};gs.create=t=>new gs(x({typeName:$.ZodSymbol},G(t)));var Mr=class extends J{_parse(t){if(this._getType(t)!==L.undefined){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.undefined,received:n.parsedType}),z}return Me(t.data)}};Mr.create=t=>new Mr(x({typeName:$.ZodUndefined},G(t)));var Ur=class extends J{_parse(t){if(this._getType(t)!==L.null){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.null,received:n.parsedType}),z}return Me(t.data)}};Ur.create=t=>new Ur(x({typeName:$.ZodNull},G(t)));var zn=class extends J{constructor(){super(...arguments),this._any=!0}_parse(t){return Me(t.data)}};zn.create=t=>new zn(x({typeName:$.ZodAny},G(t)));var bn=class extends J{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Me(t.data)}};bn.create=t=>new bn(x({typeName:$.ZodUnknown},G(t)));var jt=class extends J{_parse(t){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.never,received:n.parsedType}),z}};jt.create=t=>new jt(x({typeName:$.ZodNever},G(t)));var vs=class extends J{_parse(t){if(this._getType(t)!==L.undefined){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.void,received:n.parsedType}),z}return Me(t.data)}};vs.create=t=>new vs(x({typeName:$.ZodVoid},G(t)));var wn=class os extends J{_parse(n){let{ctx:r,status:s}=this._processInputParams(n),a=this._def;if(r.parsedType!==L.array)return P(r,{code:O.invalid_type,expected:L.array,received:r.parsedType}),z;if(a.exactLength!==null){let p=r.data.length>a.exactLength.value,m=r.data.length<a.exactLength.value;(p||m)&&(P(r,{code:p?O.too_big:O.too_small,minimum:m?a.exactLength.value:void 0,maximum:p?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(P(r,{code:O.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(P(r,{code:O.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((p,m)=>a.type._parseAsync(new Rt(r,p,r.path,m)))).then(p=>$e.mergeArray(s,p));let l=[...r.data].map((p,m)=>a.type._parseSync(new Rt(r,p,r.path,m)));return $e.mergeArray(s,l)}get element(){return this._def.type}min(n,r){return new os(q(x({},this._def),{minLength:{value:n,message:B.toString(r)}}))}max(n,r){return new os(q(x({},this._def),{maxLength:{value:n,message:B.toString(r)}}))}length(n,r){return new os(q(x({},this._def),{exactLength:{value:n,message:B.toString(r)}}))}nonempty(n){return this.min(1,n)}};wn.create=(t,n)=>new wn(x({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray},G(n)));function jn(t){if(t instanceof ot){let n={};for(let r in t.shape){let s=t.shape[r];n[r]=St.create(jn(s))}return new ot(q(x({},t._def),{shape:()=>n}))}else return t instanceof wn?new wn(q(x({},t._def),{type:jn(t.element)})):t instanceof St?St.create(jn(t.unwrap())):t instanceof sn?sn.create(jn(t.unwrap())):t instanceof rn?rn.create(t.items.map(n=>jn(n))):t}var ot=class dt extends J{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let n=this._def.shape(),r=re.objectKeys(n);return this._cached={shape:n,keys:r}}_parse(n){if(this._getType(n)!==L.object){let v=this._getOrReturnCtx(n);return P(v,{code:O.invalid_type,expected:L.object,received:v.parsedType}),z}let{status:r,ctx:s}=this._processInputParams(n),{shape:a,keys:l}=this._getCached(),p=[];if(!(this._def.catchall instanceof jt&&this._def.unknownKeys==="strip"))for(let v in s.data)l.includes(v)||p.push(v);let m=[];for(let v of l){let C=a[v],A=s.data[v];m.push({key:{status:"valid",value:v},value:C._parse(new Rt(s,A,s.path,v)),alwaysSet:v in s.data})}if(this._def.catchall instanceof jt){let v=this._def.unknownKeys;if(v==="passthrough")for(let C of p)m.push({key:{status:"valid",value:C},value:{status:"valid",value:s.data[C]}});else if(v==="strict")p.length>0&&(P(s,{code:O.unrecognized_keys,keys:p}),r.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let v=this._def.catchall;for(let C of p){let A=s.data[C];m.push({key:{status:"valid",value:C},value:v._parse(new Rt(s,A,s.path,C)),alwaysSet:C in s.data})}}return s.common.async?Promise.resolve().then(()=>Zt(this,null,function*(){let v=[];for(let C of m){let A=yield C.key,I=yield C.value;v.push({key:A,value:I,alwaysSet:C.alwaysSet})}return v})).then(v=>$e.mergeObjectSync(r,v)):$e.mergeObjectSync(r,m)}get shape(){return this._def.shape()}strict(n){return B.errToObj,new dt(x(q(x({},this._def),{unknownKeys:"strict"}),n!==void 0?{errorMap:(r,s)=>{var a,l,p,m;let v=(p=(l=(a=this._def).errorMap)===null||l===void 0?void 0:l.call(a,r,s).message)!==null&&p!==void 0?p:s.defaultError;return r.code==="unrecognized_keys"?{message:(m=B.errToObj(n).message)!==null&&m!==void 0?m:v}:{message:v}}}:{}))}strip(){return new dt(q(x({},this._def),{unknownKeys:"strip"}))}passthrough(){return new dt(q(x({},this._def),{unknownKeys:"passthrough"}))}extend(n){return new dt(q(x({},this._def),{shape:()=>x(x({},this._def.shape()),n)}))}merge(n){return new dt({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>x(x({},this._def.shape()),n._def.shape()),typeName:$.ZodObject})}setKey(n,r){return this.augment({[n]:r})}catchall(n){return new dt(q(x({},this._def),{catchall:n}))}pick(n){let r={};return re.objectKeys(n).forEach(s=>{n[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new dt(q(x({},this._def),{shape:()=>r}))}omit(n){let r={};return re.objectKeys(this.shape).forEach(s=>{n[s]||(r[s]=this.shape[s])}),new dt(q(x({},this._def),{shape:()=>r}))}deepPartial(){return jn(this)}partial(n){let r={};return re.objectKeys(this.shape).forEach(s=>{let a=this.shape[s];n&&!n[s]?r[s]=a:r[s]=a.optional()}),new dt(q(x({},this._def),{shape:()=>r}))}required(n){let r={};return re.objectKeys(this.shape).forEach(s=>{if(n&&!n[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof St;)a=a._def.innerType;r[s]=a}}),new dt(q(x({},this._def),{shape:()=>r}))}keyof(){return Vf(re.objectKeys(this.shape))}};ot.create=(t,n)=>new ot(x({shape:()=>t,unknownKeys:"strip",catchall:jt.create(),typeName:$.ZodObject},G(n)));ot.strictCreate=(t,n)=>new ot(x({shape:()=>t,unknownKeys:"strict",catchall:jt.create(),typeName:$.ZodObject},G(n)));ot.lazycreate=(t,n)=>new ot(x({shape:t,unknownKeys:"strip",catchall:jt.create(),typeName:$.ZodObject},G(n)));var Br=class extends J{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(let p of a)if(p.result.status==="valid")return p.result;for(let p of a)if(p.result.status==="dirty")return n.common.issues.push(...p.ctx.common.issues),p.result;let l=a.map(p=>new vt(p.ctx.common.issues));return P(n,{code:O.invalid_union,unionErrors:l}),z}if(n.common.async)return Promise.all(r.map(a=>Zt(this,null,function*(){let l=q(x({},n),{common:q(x({},n.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}}))).then(s);{let a,l=[];for(let m of r){let v=q(x({},n),{common:q(x({},n.common),{issues:[]}),parent:null}),C=m._parseSync({data:n.data,path:n.path,parent:v});if(C.status==="valid")return C;C.status==="dirty"&&!a&&(a={result:C,ctx:v}),v.common.issues.length&&l.push(v.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;let p=l.map(m=>new vt(m));return P(n,{code:O.invalid_union,unionErrors:p}),z}}get options(){return this._def.options}};Br.create=(t,n)=>new Br(x({options:t,typeName:$.ZodUnion},G(n)));var tn=t=>t instanceof jr?tn(t.schema):t instanceof yt?tn(t.innerType()):t instanceof Wr?[t.value]:t instanceof Hr?t.options:t instanceof $r?re.objectValues(t.enum):t instanceof qr?tn(t._def.innerType):t instanceof Mr?[void 0]:t instanceof Ur?[null]:t instanceof St?[void 0,...tn(t.unwrap())]:t instanceof sn?[null,...tn(t.unwrap())]:t instanceof Ka||t instanceof Kr?tn(t.unwrap()):t instanceof zr?tn(t._def.innerType):[],qf=class zf extends J{_parse(n){let{ctx:r}=this._processInputParams(n);if(r.parsedType!==L.object)return P(r,{code:O.invalid_type,expected:L.object,received:r.parsedType}),z;let s=this.discriminator,a=r.data[s],l=this.optionsMap.get(a);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(P(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,r,s){let a=new Map;for(let l of r){let p=tn(l.shape[n]);if(!p.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(let m of p){if(a.has(m))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(m)}`);a.set(m,l)}}return new zf(x({typeName:$.ZodDiscriminatedUnion,discriminator:n,options:r,optionsMap:a},G(s)))}};function Na(t,n){let r=nn(t),s=nn(n);if(t===n)return{valid:!0,data:t};if(r===L.object&&s===L.object){let a=re.objectKeys(n),l=re.objectKeys(t).filter(m=>a.indexOf(m)!==-1),p=x(x({},t),n);for(let m of l){let v=Na(t[m],n[m]);if(!v.valid)return{valid:!1};p[m]=v.data}return{valid:!0,data:p}}else if(r===L.array&&s===L.array){if(t.length!==n.length)return{valid:!1};let a=[];for(let l=0;l<t.length;l++){let p=t[l],m=n[l],v=Na(p,m);if(!v.valid)return{valid:!1};a.push(v.data)}return{valid:!0,data:a}}else return r===L.date&&s===L.date&&+t==+n?{valid:!0,data:t}:{valid:!1}}var Zr=class extends J{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),s=(a,l)=>{if(Ra(a)||Ra(l))return z;let p=Na(a.value,l.value);return p.valid?((Aa(a)||Aa(l))&&n.dirty(),{status:n.value,value:p.data}):(P(r,{code:O.invalid_intersection_types}),z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Zr.create=(t,n,r)=>new Zr(x({left:t,right:n,typeName:$.ZodIntersection},G(r)));var rn=class Kf extends J{_parse(n){let{status:r,ctx:s}=this._processInputParams(n);if(s.parsedType!==L.array)return P(s,{code:O.invalid_type,expected:L.array,received:s.parsedType}),z;if(s.data.length<this._def.items.length)return P(s,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&s.data.length>this._def.items.length&&(P(s,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...s.data].map((l,p)=>{let m=this._def.items[p]||this._def.rest;return m?m._parse(new Rt(s,l,s.path,p)):null}).filter(l=>!!l);return s.common.async?Promise.all(a).then(l=>$e.mergeArray(r,l)):$e.mergeArray(r,a)}get items(){return this._def.items}rest(n){return new Kf(q(x({},this._def),{rest:n}))}};rn.create=(t,n)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rn(x({items:t,typeName:$.ZodTuple,rest:null},G(n)))};var Hf=class Pa extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:r,ctx:s}=this._processInputParams(n);if(s.parsedType!==L.object)return P(s,{code:O.invalid_type,expected:L.object,received:s.parsedType}),z;let a=[],l=this._def.keyType,p=this._def.valueType;for(let m in s.data)a.push({key:l._parse(new Rt(s,m,s.path,m)),value:p._parse(new Rt(s,s.data[m],s.path,m)),alwaysSet:m in s.data});return s.common.async?$e.mergeObjectAsync(r,a):$e.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(n,r,s){return r instanceof J?new Pa(x({keyType:n,valueType:r,typeName:$.ZodRecord},G(s))):new Pa(x({keyType:qn.create(),valueType:n,typeName:$.ZodRecord},G(r)))}},ys=class extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.map)return P(r,{code:O.invalid_type,expected:L.map,received:r.parsedType}),z;let s=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([p,m],v)=>({key:s._parse(new Rt(r,p,r.path,[v,"key"])),value:a._parse(new Rt(r,m,r.path,[v,"value"]))}));if(r.common.async){let p=new Map;return Promise.resolve().then(()=>Zt(this,null,function*(){for(let m of l){let v=yield m.key,C=yield m.value;if(v.status==="aborted"||C.status==="aborted")return z;(v.status==="dirty"||C.status==="dirty")&&n.dirty(),p.set(v.value,C.value)}return{status:n.value,value:p}}))}else{let p=new Map;for(let m of l){let v=m.key,C=m.value;if(v.status==="aborted"||C.status==="aborted")return z;(v.status==="dirty"||C.status==="dirty")&&n.dirty(),p.set(v.value,C.value)}return{status:n.value,value:p}}}};ys.create=(t,n,r)=>new ys(x({valueType:n,keyType:t,typeName:$.ZodMap},G(r)));var _s=class La extends J{_parse(n){let{status:r,ctx:s}=this._processInputParams(n);if(s.parsedType!==L.set)return P(s,{code:O.invalid_type,expected:L.set,received:s.parsedType}),z;let a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(P(s,{code:O.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(P(s,{code:O.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let l=this._def.valueType;function p(v){let C=new Set;for(let A of v){if(A.status==="aborted")return z;A.status==="dirty"&&r.dirty(),C.add(A.value)}return{status:r.value,value:C}}let m=[...s.data.values()].map((v,C)=>l._parse(new Rt(s,v,s.path,C)));return s.common.async?Promise.all(m).then(v=>p(v)):p(m)}min(n,r){return new La(q(x({},this._def),{minSize:{value:n,message:B.toString(r)}}))}max(n,r){return new La(q(x({},this._def),{maxSize:{value:n,message:B.toString(r)}}))}size(n,r){return this.min(n,r).max(n,r)}nonempty(n){return this.min(1,n)}};_s.create=(t,n)=>new _s(x({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet},G(n)));var Gf=class as extends J{constructor(){super(...arguments),this.validate=this.implement}_parse(n){let{ctx:r}=this._processInputParams(n);if(r.parsedType!==L.function)return P(r,{code:O.invalid_type,expected:L.function,received:r.parsedType}),z;function s(m,v){return ps({data:m,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hs(),$n].filter(C=>!!C),issueData:{code:O.invalid_arguments,argumentsError:v}})}function a(m,v){return ps({data:m,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hs(),$n].filter(C=>!!C),issueData:{code:O.invalid_return_type,returnTypeError:v}})}let l={errorMap:r.common.contextualErrorMap},p=r.data;if(this._def.returns instanceof Kn){let m=this;return Me(function(...v){return Zt(this,null,function*(){let C=new vt([]),A=yield m._def.args.parseAsync(v,l).catch(R=>{throw C.addIssue(s(v,R)),C}),I=yield Reflect.apply(p,this,A);return yield m._def.returns._def.type.parseAsync(I,l).catch(R=>{throw C.addIssue(a(I,R)),C})})})}else{let m=this;return Me(function(...v){let C=m._def.args.safeParse(v,l);if(!C.success)throw new vt([s(v,C.error)]);let A=Reflect.apply(p,this,C.data),I=m._def.returns.safeParse(A,l);if(!I.success)throw new vt([a(A,I.error)]);return I.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new as(q(x({},this._def),{args:rn.create(n).rest(bn.create())}))}returns(n){return new as(q(x({},this._def),{returns:n}))}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,r,s){return new as(x({args:n||rn.create([]).rest(bn.create()),returns:r||bn.create(),typeName:$.ZodFunction},G(s)))}},jr=class extends J{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};jr.create=(t,n)=>new jr(x({getter:t,typeName:$.ZodLazy},G(n)));var Wr=class extends J{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return P(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:t.data}}get value(){return this._def.value}};Wr.create=(t,n)=>new Wr(x({value:t,typeName:$.ZodLiteral},G(n)));function Vf(t,n){return new Hr(x({values:t,typeName:$.ZodEnum},G(n)))}var Hr=class Fa extends J{constructor(){super(...arguments),Rr.set(this,void 0)}_parse(n){if(typeof n.data!="string"){let r=this._getOrReturnCtx(n),s=this._def.values;return P(r,{expected:re.joinValues(s),received:r.parsedType,code:O.invalid_type}),z}if(ms(this,Rr,"f")||Bf(this,Rr,new Set(this._def.values),"f"),!ms(this,Rr,"f").has(n.data)){let r=this._getOrReturnCtx(n),s=this._def.values;return P(r,{received:r.data,code:O.invalid_enum_value,options:s}),z}return Me(n.data)}get options(){return this._def.values}get enum(){let n={};for(let r of this._def.values)n[r]=r;return n}get Values(){let n={};for(let r of this._def.values)n[r]=r;return n}get Enum(){let n={};for(let r of this._def.values)n[r]=r;return n}extract(n,r=this._def){return Fa.create(n,x(x({},this._def),r))}exclude(n,r=this._def){return Fa.create(this.options.filter(s=>!n.includes(s)),x(x({},this._def),r))}};Rr=new WeakMap;Hr.create=Vf;var $r=class extends J{constructor(){super(...arguments),Ar.set(this,void 0)}_parse(t){let n=re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==L.string&&r.parsedType!==L.number){let s=re.objectValues(n);return P(r,{expected:re.joinValues(s),received:r.parsedType,code:O.invalid_type}),z}if(ms(this,Ar,"f")||Bf(this,Ar,new Set(re.getValidEnumValues(this._def.values)),"f"),!ms(this,Ar,"f").has(t.data)){let s=re.objectValues(n);return P(r,{received:r.data,code:O.invalid_enum_value,options:s}),z}return Me(t.data)}get enum(){return this._def.values}};Ar=new WeakMap;$r.create=(t,n)=>new $r(x({values:t,typeName:$.ZodNativeEnum},G(n)));var Kn=class extends J{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.promise&&n.common.async===!1)return P(n,{code:O.invalid_type,expected:L.promise,received:n.parsedType}),z;let r=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return Me(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Kn.create=(t,n)=>new Kn(x({type:t,typeName:$.ZodPromise},G(n)));var yt=class extends J{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:l=>{P(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let l=s.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(p=>Zt(this,null,function*(){if(n.value==="aborted")return z;let m=yield this._def.schema._parseAsync({data:p,path:r.path,parent:r});return m.status==="aborted"?z:m.status==="dirty"||n.value==="dirty"?ds(m.value):m}));{if(n.value==="aborted")return z;let p=this._def.schema._parseSync({data:l,path:r.path,parent:r});return p.status==="aborted"?z:p.status==="dirty"||n.value==="dirty"?ds(p.value):p}}if(s.type==="refinement"){let l=p=>{let m=s.refinement(p,a);if(r.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(r.common.async===!1){let p=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return p.status==="aborted"?z:(p.status==="dirty"&&n.dirty(),l(p.value),{status:n.value,value:p.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(p=>p.status==="aborted"?z:(p.status==="dirty"&&n.dirty(),l(p.value).then(()=>({status:n.value,value:p.value}))))}if(s.type==="transform")if(r.common.async===!1){let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ir(l))return l;let p=s.transform(l.value,a);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:p}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ir(l)?Promise.resolve(s.transform(l.value,a)).then(p=>({status:n.value,value:p})):l);re.assertNever(s)}};yt.create=(t,n,r)=>new yt(x({schema:t,typeName:$.ZodEffects,effect:n},G(r)));yt.createWithPreprocess=(t,n,r)=>new yt(x({schema:n,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects},G(r)));var St=class extends J{_parse(t){return this._getType(t)===L.undefined?Me(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};St.create=(t,n)=>new St(x({innerType:t,typeName:$.ZodOptional},G(n)));var sn=class extends J{_parse(t){return this._getType(t)===L.null?Me(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};sn.create=(t,n)=>new sn(x({innerType:t,typeName:$.ZodNullable},G(n)));var qr=class extends J{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===L.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};qr.create=(t,n)=>new qr(x({innerType:t,typeName:$.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default},G(n)));var zr=class extends J{_parse(t){let{ctx:n}=this._processInputParams(t),r=q(x({},n),{common:q(x({},n.common),{issues:[]})}),s=this._def.innerType._parse({data:r.data,path:r.path,parent:x({},r)});return Nr(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vt(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};zr.create=(t,n)=>new zr(x({innerType:t,typeName:$.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch},G(n)));var bs=class extends J{_parse(t){if(this._getType(t)!==L.nan){let n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.nan,received:n.parsedType}),z}return{status:"valid",value:t.data}}};bs.create=t=>new bs(x({typeName:$.ZodNaN},G(t)));var qw=Symbol("zod_brand"),Ka=class extends J{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},Ha=class Yf extends J{_parse(n){let{status:r,ctx:s}=this._processInputParams(n);if(s.common.async)return Zt(this,null,function*(){let a=yield this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?z:a.status==="dirty"?(r.dirty(),ds(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})});{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?z:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(n,r){return new Yf({in:n,out:r,typeName:$.ZodPipeline})}},Kr=class extends J{_parse(t){let n=this._def.innerType._parse(t),r=s=>(Ir(s)&&(s.value=Object.freeze(s.value)),s);return Nr(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}};Kr.create=(t,n)=>new Kr(x({innerType:t,typeName:$.ZodReadonly},G(n)));function Jf(t,n={},r){return t?zn.create().superRefine((s,a)=>{var l,p;if(!t(s)){let m=typeof n=="function"?n(s):typeof n=="string"?{message:n}:n,v=(p=(l=m.fatal)!==null&&l!==void 0?l:r)!==null&&p!==void 0?p:!0,C=typeof m=="string"?{message:m}:m;a.addIssue(q(x({code:"custom"},C),{fatal:v}))}}):zn.create()}var zw={object:ot.lazycreate},$;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));var Kw=(t,n={message:`Input not instance of ${t.name}`})=>Jf(r=>r instanceof t,n),Xf=qn.create,Qf=Pr.create,Hw=bs.create,Gw=Lr.create,eh=Fr.create,Vw=Dr.create,Yw=gs.create,Jw=Mr.create,Xw=Ur.create,Qw=zn.create,ex=bn.create,tx=jt.create,nx=vs.create,rx=wn.create,ix=ot.create,sx=ot.strictCreate,ox=Br.create,ax=qf.create,ux=Zr.create,cx=rn.create,lx=Hf.create,fx=ys.create,hx=_s.create,px=Gf.create,dx=jr.create,mx=Wr.create,gx=Hr.create,vx=$r.create,yx=Kn.create,df=yt.create,_x=St.create,bx=sn.create,wx=yt.createWithPreprocess,xx=Ha.create,Cx=()=>Xf().optional(),Ex=()=>Qf().optional(),Tx=()=>eh().optional(),Sx={string:t=>qn.create(q(x({},t),{coerce:!0})),number:t=>Pr.create(q(x({},t),{coerce:!0})),boolean:t=>Fr.create(q(x({},t),{coerce:!0})),bigint:t=>Lr.create(q(x({},t),{coerce:!0})),date:t=>Dr.create(q(x({},t),{coerce:!0}))},Ox=z,mt=Object.freeze({__proto__:null,defaultErrorMap:$n,setErrorMap:Ow,getErrorMap:hs,makeIssue:ps,EMPTY_PATH:Rw,addIssueToContext:P,ParseStatus:$e,INVALID:z,DIRTY:ds,OK:Me,isAborted:Ra,isDirty:Aa,isValid:Ir,isAsync:Nr,get util(){return re},get objectUtil(){return Oa},ZodParsedType:L,getParsedType:nn,ZodType:J,datetimeRegex:Wf,ZodString:qn,ZodNumber:Pr,ZodBigInt:Lr,ZodBoolean:Fr,ZodDate:Dr,ZodSymbol:gs,ZodUndefined:Mr,ZodNull:Ur,ZodAny:zn,ZodUnknown:bn,ZodNever:jt,ZodVoid:vs,ZodArray:wn,ZodObject:ot,ZodUnion:Br,ZodDiscriminatedUnion:qf,ZodIntersection:Zr,ZodTuple:rn,ZodRecord:Hf,ZodMap:ys,ZodSet:_s,ZodFunction:Gf,ZodLazy:jr,ZodLiteral:Wr,ZodEnum:Hr,ZodNativeEnum:$r,ZodPromise:Kn,ZodEffects:yt,ZodTransformer:yt,ZodOptional:St,ZodNullable:sn,ZodDefault:qr,ZodCatch:zr,ZodNaN:bs,BRAND:qw,ZodBranded:Ka,ZodPipeline:Ha,ZodReadonly:Kr,custom:Jf,Schema:J,ZodSchema:J,late:zw,get ZodFirstPartyTypeKind(){return $},coerce:Sx,any:Qw,array:rx,bigint:Gw,boolean:eh,date:Vw,discriminatedUnion:ax,effect:df,enum:gx,function:px,instanceof:Kw,intersection:ux,lazy:dx,literal:mx,map:fx,nan:Hw,nativeEnum:vx,never:tx,null:Xw,nullable:bx,number:Qf,object:ix,oboolean:Tx,onumber:Ex,optional:_x,ostring:Cx,pipeline:xx,preprocess:wx,promise:yx,record:lx,set:hx,strictObject:sx,string:Xf,symbol:Yw,transformer:df,tuple:cx,undefined:Jw,union:ox,unknown:ex,void:nx,NEVER:Ox,ZodIssueCode:O,quotelessJson:Sw,ZodError:vt}),Rx=mt.object({serverUrl:mt.string()}),Ax=Rx.parse({serverUrl:"https://io.superviz.com"}),kx=class{constructor(t){this.socket=t,this.onConnect=()=>{this.logger.log("connection @ on connect","Connected to the socket"),this.changeState("CONNECTED")},this.onDisconnect=n=>{this.logger.log("connection @ on disconnect","Disconnected from the socket"),this.changeState("DISCONNECTED",n)},this.onConnectError=n=>{this.logger.log("connection @ on connect error","Connection error",n),this.changeState("CONNECTION_ERROR",n.message)},this.onConnectionError=n=>{this.logger.log("connection @ on connection error","Connection error",n),this.changeState("CONNECTION_ERROR",n.message)},this.onReconnect=()=>{this.logger.log("connection @ on reconnect","Reconnected to the socket"),this.changeState("CONNECTED")},this.onReconnectError=n=>{this.logger.log("connection @ on reconnect error","Reconnect error",n),this.changeState("RECONNECT_ERROR",n.message)},this.onReconnectFailed=()=>{this.logger.log("connection @ on reconnect failed","Failed to reconnect to the socket"),this.changeState("RECONNECT_ERROR")},this.onReconnecAttempt=n=>{this.logger.log("connection @ on reconnect attempt",`Reconnect attempt #${n}`),this.changeState("RECONNECTING",`Reconnect attempt #${n}`)},this.onCustomError=n=>{n.needsToDisconnect&&(this.socket.disconnect(),this.changeState("DISCONNECTED",n.errorType));let r=`[SuperViz] 
    - Error: ${n.errorType}
    - Message: ${n.message}
    `;if(n.level==="error"){console.error(r);return}console.warn(r)},this.logger=new Ba("@superviz/socket-client/connection"),this.subscribeToManagerEvents(),this.stateObserver=new Tt}on(t,n){this.stateObserver.closed&&(this.stateObserver=new Tt),this.stateObserver.subscribe({next:t,error:n})}off(){this.stateObserver.closed||this.stateObserver.unsubscribe()}subscribeToManagerEvents(){this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("connect_error",this.onConnectError),this.socket.io.on("error",this.onConnectionError),this.socket.io.on("reconnect",this.onReconnect),this.socket.io.on("reconnect_attempt",this.onReconnecAttempt),this.socket.io.on("reconnect_error",this.onReconnectError),this.socket.io.on("reconnect_failed",this.onReconnectFailed),this.socket.on("socket-event.error",this.onCustomError)}changeState(t,n){this.state=t,!this.stateObserver.closed&&this.stateObserver.next({state:t,reason:n})}},Ix=class th{constructor(n,r,s,a,l=100){this.io=n,this.user=r,this.roomId=s,this.apiKey=a,this.maxConnections=l,this.isJoined=!1,this.subscriptions=new Map,this.observers=new Map,this.onJoinedRoom=m=>{var v;this.roomId===((v=m==null?void 0:m.data)==null?void 0:v.name)&&(this.isJoined=!0,this.io.emit("room.joined",this.roomId,m.data),this.logger.log("room @ joined",m))},this.onHttpEvent=m=>{this.publishEventToClient(m.name,m)},this.logger=new Ba("@superviz/socket-client/room");let p={name:s,user:r,maxConnections:l};this.presence=D0.register(n,r,s),this.io.emit("room.join",p),this.subscribeToRoomEvents()}static register(n,r,s,a,l){return new th(n,r,s,a,l)}on(n,r){this.logger.log("room @ on",n);let s=this.observers.get(n);s||(s=new Tt,this.observers.set(n,s),this.io.on(n,a=>{this.publishEventToClient(n,a)})),this.subscriptions.set(r,s.subscribe(r))}off(n,r){var s;if(this.logger.log("room @ off",n),!r){this.observers.delete(n),this.io.off(n);return}(s=this.subscriptions.get(r))==null||s.unsubscribe()}emit(n,r){if(!this.isJoined){this.logger.log("Cannot emit event. Not joined to room");return}let s={name:n,roomId:this.roomId,presence:this.user,connectionId:this.io.id,data:r,timestamp:Date.now()};this.io.emit("room.update",this.roomId,s),this.logger.log("room @ emit",n,r)}history(n,r){let s=new Tt;s.subscribe({next:n,error:r});let a=l=>{this.logger.log("room @ history",l),this.io.off("room.get",a),s.next(l),s.complete(),s.unsubscribe()};this.io.on("room.get",a),this.io.emit("room.get",this.roomId)}disconnect(){this.logger.log("room @ disconnect","Leaving room...",this.roomId),this.io.emit("room.leave",this.roomId),this.subscriptions.forEach(n=>n.unsubscribe()),this.subscriptions.clear(),this.observers.forEach(n=>n.unsubscribe()),this.observers.clear(),this.presence.destroy()}publishEventToClient(n,r){let s=this.observers.get(n);!s||r.roomId!==this.roomId||s.next(r)}subscribeToRoomEvents(){this.io.on("room.joined",this.onJoinedRoom),this.io.on("room.error",n=>{this.logger.log("Error:",n.data)}),this.io.on(`http:${this.roomId}:${this.apiKey}`,this.onHttpEvent)}},nh=class{constructor(t,n,r,s,a){this.apiKey=t,this.environment=n,this.presence=r,this.secret=s,this.clientId=a,this.manager=new fs(Ax.serverUrl,{addTrailingSlash:!1,secure:!0,withCredentials:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,extraHeaders:{"sv-api-key":this.apiKey}});let l;typeof window!="undefined"&&(l=window.location.origin),this.socket=this.manager.socket(`/${n}`,{auth:{apiKey:this.apiKey,origin:l,envirioment:this.environment,secret:this.secret,clientId:this.clientId}}),this.connection=new kx(this.socket)}get state(){return this.connection.state}connect(t,n){return Ix.register(this.socket,this.presence,t,this.apiKey,n)}destroy(){this.socket.disconnect(),this.connection.off()}},qC=mt.object({name:mt.string(),user:mt.object({id:mt.string(),name:mt.string().nullable()}),maxConnections:mt.union([mt.number(),mt.literal("unlimited"),mt.undefined()])});var Ga=(r=>(r.MOUNT="mount",r.UNMOUNT="unmount",r))(Ga||{});var uh=Yi(Va()),_t=class{constructor(n){this.debug=(0,uh.default)(n)}log(n,...r){this.debug(n,...r)}};var $h=Yi(Wh());var on=class{constructor(n={}){this.subscribe=n=>{this.callbacks.push(n)};this.unsubscribe=n=>{this.callbacks=this.callbacks.filter(r=>r!==n)};this.publish=(...n)=>{this.callbacks&&this.callbacks.forEach(r=>{this.callListener(r,n).catch(s=>{var a;(a=this.logger)==null||a.log("superviz-sdk:observer-helper:publish:error",`
            Failed to execute callback on publish value.
            Callback: ${r.name}
            Event: ${JSON.stringify(n)}
            Error: ${s}
          `)})})};this.reset=()=>{this.callbacks=[]};this.destroy=()=>{delete this.logger,delete this.callbacks};this.callListener=(n,r)=>new Promise((s,a)=>{try{let l=n(...r);s(l)}catch(l){a(l)}});let{logger:r,throttleTime:s}=n;this.logger=r||new _t("@superviz/observer-helper"),this.throttle=s,this.callbacks=[],this.throttle&&(this.publish=(0,$h.default)(this.publish,this.throttle))}};var an=class{constructor(){this.observers={};this.subscribe=(n,r)=>{this.logger.log(`subscribed to ${n} event`),this.observers[n]||(this.observers[n]=new on({logger:this.logger})),this.observers[n].subscribe(r)};this.unsubscribe=(n,r)=>{if(this.logger.log(`unsubscribed from ${n} event`),!!this.observers[n]){if(!r){this.observers[n].destroy(),delete this.observers[n];return}this.observers[n].unsubscribe(r)}};this.publish=(n,r)=>{n in this.observers&&this.observers[n].publish(r)}}};function Wt(a,l,p){return xe(this,arguments,function*(t,n,r,s={}){let m=yield fetch(t,{method:n,headers:Gl({"Content-Type":"application/json"},s),body:r?JSON.stringify(r):null});if(!m.ok)throw m;try{return yield m.json()}catch(v){return{ok:m.ok}}})}function Qa(){let t="",n="abcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<30;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function Vr(t){return Object.prototype.toString.call(t)==="[object String]"}function As(t){return Object.prototype.toString.call(t)==="[object Object]"}function qh(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var a1=typeof window!="undefined"&&typeof window.document!="undefined",zh=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,u1=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",c1=typeof window!="undefined"&&window.name==="nodejs"||typeof navigator!="undefined"&&"userAgent"in navigator&&typeof navigator.userAgent=="string"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Kh=typeof Deno!="undefined"&&typeof Deno.version!="undefined"&&typeof Deno.version.deno!="undefined",Hh=typeof process!="undefined"&&process.versions!=null&&process.versions.bun!=null;var ks=()=>Hh||Kh||zh;var eu=(r=>(r.STARTED="STARTED",r.STOPPED="STOPPED",r))(eu||{}),tu=(s=>(s.DISCONNECTED="DISCONNECTED",s.CONNECTED="CONNECTED",s.CONNECTING="CONNECTING",s))(tu||{}),nu=(n=>(n.REALTIME_STATE_CHANGED="realtime-component.state-changed",n))(nu||{}),ru=(n=>(n.REALTIME_CHANNEL_STATE_CHANGED="realtime-channel.state-changed",n))(ru||{});var Yr=class{constructor(n){this.room=n;this.logger=new _t("@superviz/realtime-presence")}update(n){this.logger.log("Realtime Presence @ update presence",n),this.room.presence.update(n)}subscribe(n,r){this.logger.log("Realtime Presence @ subscribe",n),this.room.presence.on(n,r)}unsubscribe(n){this.logger.log("Realtime Presence @ unsubscribe",n),this.room.presence.off(n)}getAll(){return xe(this,null,function*(){return this.logger.log("Realtime Presence @ get all"),new Promise((n,r)=>{this.room.presence.get(s=>n(s),s=>{let a=`[SuperViz] ${s.name} - ${s.message}`;this.logger.log(s),console.error(a),r(s)})})})}};var Is=class extends an{constructor(r,s,a,l){super();this.state="DISCONNECTED";this.callbacksToSubscribeWhenJoined=[];this.publish=(r,s)=>{if(this.state!=="CONNECTED"){let a=`Realtime channel ${this.name} has not started yet. You can't publish event ${r} before start`;this.logger.log(a),console.warn(`[SuperViz] ${a}`);return}this.channel.emit(`message:${this.name}`,{name:r,payload:s})};this.subscribe=(r,s)=>{if(this.state!=="CONNECTED"){this.callbacksToSubscribeWhenJoined.push({event:r,callback:s});return}this.observers[r]||(this.observers[r]=new on),this.observers[r].subscribe(s)};this.unsubscribe=(r,s)=>{var a,l;if(!s){(a=this.observers[r])==null||a.reset();return}(l=this.observers[r])==null||l.unsubscribe(s)};this.fetchHistory=r=>xe(this,null,function*(){if(this.state!=="CONNECTED"){let a="Realtime component has not started yet. You can't retrieve history before start";return this.logger.log(a),console.warn(`[SuperViz] ${a}`),null}return yield new Promise((a,l)=>{let p=m=>{var C;(C=m.events)!=null&&C.length||a(null);let v=m.events.reduce((A,I)=>{var R;return A[I.data.name]||(A[I.data.name]=[]),A[I.data.name].push({data:I.data.payload,connectionId:I.connectionId,name:I.data.name,participantId:(R=I.presence)==null?void 0:R.id,timestamp:I.timestamp}),A},{});r&&!v[r]&&l(new Error(`Event ${r} not found in the history`)),r&&a(v[r]),a(v)};this.channel.history(p)})});this.publishEventToClient=(r,s)=>{var a;this.logger.log("realtime channel @ publishEventToClient",{event:r,data:s}),(a=this.observers[r])==null||a.publish(s)};this.name=r,this.ioc=s,this.logger=new _t("@superviz/realtime-channel"),this.channel=this.ioc.createRoom(`realtime:${this.name}`,l),this.localParticipant=a,this.subscribeToRealtimeEvents(),this.logger.log("started"),this.participant=new Yr(this.channel)}disconnect(){return xe(this,null,function*(){if(this.state==="DISCONNECTED"){this.logger.log("Realtime channel is already disconnected");return}this.logger.log("destroyed"),this.changeState("DISCONNECTED"),this.observers={},this.channel.disconnect()})}changeState(r){this.logger.log("realtime component @ changeState - state changed",r),this.state=r,this.publishEventToClient("realtime-channel.state-changed",this.state)}subscribeToRealtimeEvents(){this.channel.presence.on(xs.JOINED_ROOM,r=>{r.id===this.localParticipant.id&&(this.changeState("CONNECTED"),this.callbacksToSubscribeWhenJoined.forEach(({event:s,callback:a})=>{this.subscribe(s,a)}),this.logger.log("joined room"),this.changeState("CONNECTED"))}),this.channel.on(`message:${this.name}`,r=>{var s,a;this.logger.log("message received",r),this.publishEventToClient(r.data.name,{data:r.data.payload,participantId:(a=(s=r==null?void 0:r.presence)==null?void 0:s.id)!=null?a:null,name:r.data.name,timestamp:r.timestamp,connectionId:r.connectionId})})}};var cp=Yi(Va());var iu=function(t,n){return iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},iu(t,n)};function Jn(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");iu(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function Jr(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xn(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),a,l=[],p;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)l.push(a.value)}catch(m){p={error:m}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return l}function Qn(t,n,r){if(r||arguments.length===2)for(var s=0,a=n.length,l;s<a;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return t.concat(l||Array.prototype.slice.call(n))}function at(t){return typeof t=="function"}function Ns(t){var n=function(s){Error.call(s),s.stack=new Error().stack},r=t(n);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ps=Ns(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(s,a){return a+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Xr(t,n){if(t){var r=t.indexOf(n);0<=r&&t.splice(r,1)}}var er=function(){function t(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var n,r,s,a,l;if(!this.closed){this.closed=!0;var p=this._parentage;if(p)if(this._parentage=null,Array.isArray(p))try{for(var m=Jr(p),v=m.next();!v.done;v=m.next()){var C=v.value;C.remove(this)}}catch(F){n={error:F}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}else p.remove(this);var A=this.initialTeardown;if(at(A))try{A()}catch(F){l=F instanceof Ps?F.errors:[F]}var I=this._finalizers;if(I){this._finalizers=null;try{for(var R=Jr(I),k=R.next();!k.done;k=R.next()){var M=k.value;try{Gh(M)}catch(F){l=l!=null?l:[],F instanceof Ps?l=Qn(Qn([],Xn(l)),Xn(F.errors)):l.push(F)}}}catch(F){s={error:F}}finally{try{k&&!k.done&&(a=R.return)&&a.call(R)}finally{if(s)throw s.error}}}if(l)throw new Ps(l)}},t.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)Gh(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}},t.prototype._hasParent=function(n){var r=this._parentage;return r===n||Array.isArray(r)&&r.includes(n)},t.prototype._addParent=function(n){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n},t.prototype._removeParent=function(n){var r=this._parentage;r===n?this._parentage=null:Array.isArray(r)&&Xr(r,n)},t.prototype.remove=function(n){var r=this._finalizers;r&&Xr(r,n),n instanceof t&&n._removeParent(this)},t.EMPTY=function(){var n=new t;return n.closed=!0,n}(),t}();var su=er.EMPTY;function Ls(t){return t instanceof er||t&&"closed"in t&&at(t.remove)&&at(t.add)&&at(t.unsubscribe)}function Gh(t){at(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var tr={setTimeout:function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=tr.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,Qn([t,n],Xn(r))):setTimeout.apply(void 0,Qn([t,n],Xn(r)))},clearTimeout:function(t){var n=tr.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Vh(t){tr.setTimeout(function(){var n=bt.onUnhandledError;if(n)n(t);else throw t})}function ou(){}var Yh=function(){return au("C",void 0,void 0)}();function Jh(t){return au("E",void 0,t)}function Xh(t){return au("N",t,void 0)}function au(t,n,r){return{kind:t,value:n,error:r}}var En=null;function nr(t){if(bt.useDeprecatedSynchronousErrorHandling){var n=!En;if(n&&(En={errorThrown:!1,error:null}),t(),n){var r=En,s=r.errorThrown,a=r.error;if(En=null,s)throw a}}else t()}function Qh(t){bt.useDeprecatedSynchronousErrorHandling&&En&&(En.errorThrown=!0,En.error=t)}var lu=function(t){Jn(n,t);function n(r){var s=t.call(this)||this;return s.isStopped=!1,r?(s.destination=r,Ls(r)&&r.add(s)):s.destination=BC,s}return n.create=function(r,s,a){return new Ds(r,s,a)},n.prototype.next=function(r){this.isStopped?cu(Xh(r),this):this._next(r)},n.prototype.error=function(r){this.isStopped?cu(Jh(r),this):(this.isStopped=!0,this._error(r))},n.prototype.complete=function(){this.isStopped?cu(Yh,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(r){this.destination.next(r)},n.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(er);var DC=Function.prototype.bind;function uu(t,n){return DC.call(t,n)}var MC=function(){function t(n){this.partialObserver=n}return t.prototype.next=function(n){var r=this.partialObserver;if(r.next)try{r.next(n)}catch(s){Fs(s)}},t.prototype.error=function(n){var r=this.partialObserver;if(r.error)try{r.error(n)}catch(s){Fs(s)}else Fs(n)},t.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(r){Fs(r)}},t}(),Ds=function(t){Jn(n,t);function n(r,s,a){var l=t.call(this)||this,p;if(at(r)||!r)p={next:r!=null?r:void 0,error:s!=null?s:void 0,complete:a!=null?a:void 0};else{var m;l&&bt.useDeprecatedNextContext?(m=Object.create(r),m.unsubscribe=function(){return l.unsubscribe()},p={next:r.next&&uu(r.next,m),error:r.error&&uu(r.error,m),complete:r.complete&&uu(r.complete,m)}):p=r}return l.destination=new MC(p),l}return n}(lu);function Fs(t){bt.useDeprecatedSynchronousErrorHandling?Qh(t):Vh(t)}function UC(t){throw t}function cu(t,n){var r=bt.onStoppedNotification;r&&tr.setTimeout(function(){return r(t,n)})}var BC={closed:!0,next:ou,error:UC,complete:ou};var ep=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function tp(t){return t}function np(t){return t.length===0?tp:t.length===1?t[0]:function(r){return t.reduce(function(s,a){return a(s)},r)}}var fu=function(){function t(n){n&&(this._subscribe=n)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(n,r,s){var a=this,l=jC(n)?n:new Ds(n,r,s);return nr(function(){var p=a,m=p.operator,v=p.source;l.add(m?m.call(l,v):v?a._subscribe(l):a._trySubscribe(l))}),l},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(r){n.error(r)}},t.prototype.forEach=function(n,r){var s=this;return r=rp(r),new r(function(a,l){var p=new Ds({next:function(m){try{n(m)}catch(v){l(v),p.unsubscribe()}},error:l,complete:a});s.subscribe(p)})},t.prototype._subscribe=function(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)},t.prototype[ep]=function(){return this},t.prototype.pipe=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return np(n)(this)},t.prototype.toPromise=function(n){var r=this;return n=rp(n),new n(function(s,a){var l;r.subscribe(function(p){return l=p},function(p){return a(p)},function(){return s(l)})})},t.create=function(n){return new t(n)},t}();function rp(t){var n;return(n=t!=null?t:bt.Promise)!==null&&n!==void 0?n:Promise}function ZC(t){return t&&at(t.next)&&at(t.error)&&at(t.complete)}function jC(t){return t&&t instanceof lu||ZC(t)&&Ls(t)}var ip=Ns(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Ms=function(t){Jn(n,t);function n(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return n.prototype.lift=function(r){var s=new sp(this,this);return s.operator=r,s},n.prototype._throwIfClosed=function(){if(this.closed)throw new ip},n.prototype.next=function(r){var s=this;nr(function(){var a,l;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var p=Jr(s.currentObservers),m=p.next();!m.done;m=p.next()){var v=m.value;v.next(r)}}catch(C){a={error:C}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}})},n.prototype.error=function(r){var s=this;nr(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=r;for(var a=s.observers;a.length;)a.shift().error(r)}})},n.prototype.complete=function(){var r=this;nr(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var s=r.observers;s.length;)s.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},n.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},n.prototype._innerSubscribe=function(r){var s=this,a=this,l=a.hasError,p=a.isStopped,m=a.observers;return l||p?su:(this.currentObservers=null,m.push(r),new er(function(){s.currentObservers=null,Xr(m,r)}))},n.prototype._checkFinalizedStatuses=function(r){var s=this,a=s.hasError,l=s.thrownError,p=s.isStopped;a?r.error(l):p&&r.complete()},n.prototype.asObservable=function(){var r=new fu;return r.source=this,r},n.create=function(r,s){return new sp(r,s)},n}(fu);var sp=function(t){Jn(n,t);function n(r,s){var a=t.call(this)||this;return a.destination=r,a.source=s,a}return n.prototype.next=function(r){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.next)===null||a===void 0||a.call(s,r)},n.prototype.error=function(r){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.error)===null||a===void 0||a.call(s,r)},n.prototype.complete=function(){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||s===void 0||s.call(r)},n.prototype._subscribe=function(r){var s,a;return(a=(s=this.source)===null||s===void 0?void 0:s.subscribe(r))!==null&&a!==void 0?a:su},n}(Ms);var ap=Yi(op()),hu=class{constructor(){this.configuration={}}set(n,r){this.configuration[n]=r}get(n,r){return this.configuration?(0,ap.get)(this.configuration,n,r):r}},me=new hu;var Us=class{constructor(n){this.participant=n;this.stateSubject=new Ms;this.handleConnectionState=n=>{if(n.reason==="Unauthorized connection"){console.error("[Superviz] Unauthorized connection. Please check your API key and if your domain is white listed."),this.state={state:Ma.DISCONNECTED,reason:"Unauthorized connection"},this.stateSubject.next("AUTH_ERROR");return}if(n.reason==="user-already-in-room"){this.state=n,this.stateSubject.next("SAME_ACCOUNT_ERROR");return}this.state=n,this.stateSubject.next(n.state)};this.createClient()}destroy(){this.stateSubject.complete(),this.client.destroy()}subscribeToDefaultEvents(){this.client.connection.on(this.handleConnectionState)}createClient(){let n=me.get("environment");n=["dev","prod"].includes(n)?n:"dev",this.client=new nh(me.get("apiKey"),n,{id:this.participant.id,name:this.participant.name},me.get("secret"),me.get("clientId")),this.subscribeToDefaultEvents()}createRoom(n,r=200){return this.client.connect(`realtime-component:${n}`,r)}};var Bs=(s=>(s.LOCAL="local",s.DEV="dev",s.PROD="prod",s))(Bs||{});var un=class{static createUrl(n,r,s={}){let a=new URL(r,n);return Object.keys(s).forEach(l=>a.searchParams.append(l,s[l])),a.toString()}static validateApiKey(n,r){let a=this.createUrl(n,"/user/checkapikey");return Wt(a,"POST",{apiKey:r})}static fetchLimits(n,r){return xe(this,null,function*(){let a=this.createUrl(n,"/user/check_limits_v2");return(yield Wt(a,"GET","",{apikey:r})).limits})}static fetchApiKey(){return xe(this,null,function*(){let n=me.get("apiUrl"),r=me.get("secret"),s=me.get("clientId"),l=this.createUrl(n,"/socket/key"),p={client_id:s,secret:r};try{return(yield Wt(l,"GET","",p)).apiKey}catch(m){console.log("[SuperViz] - Error",m)}})}static sendActivity(n){return xe(this,null,function*(){let r="/activity",s=me.get("apiUrl"),a=me.get("apiKey"),l=this.createUrl(s,r);return Wt(l,"POST",{product:"realtime",userId:n},{apikey:a})})}};var ei=class{static getRemoteConfig(){return xe(this,arguments,function*(n="prod"){if(n==="local"){let{remoteConfig:a}=yield import("./chunks/.remote-config-HQDIWXLR.js");return a}let r={environment:n},s=this.createUrl(r);return Wt(s,"GET",null)})}static createUrl({environment:n}){return`${this.REMOTE_CONFIG_BASE_URL}/realtime/${n}?env=${n}`}};ei.REMOTE_CONFIG_BASE_URL="https://remote-config.superviz.com";function up(){return xe(this,null,function*(){try{let t=me.get("apiKey"),n=me.get("apiUrl");return(yield un.validateApiKey(n,t))===!0}catch(t){if(t.status===404)return!1;throw new Error("Unable to validate API key")}})}var ti=class extends an{constructor(r,s){super();this.state="STOPPED";this.channels=new Map;this.setApiUrl=()=>xe(this,null,function*(){let r=me.get("environment"),{apiUrl:s}=yield ei.getRemoteConfig(r);me.set("apiUrl",s)});this.validateLimits=()=>xe(this,null,function*(){let r=me.get("apiUrl"),s=me.get("apiKey"),{realtime:a}=yield un.fetchLimits(r,s);if(a.canUse)return;let l="[SuperViz] You reached the limit usage of Real-Time Data Engine";throw this.logger.log(l),console.error(l),new Error(l)});this.validateSecretAndClientId=()=>xe(this,null,function*(){let r=yield un.fetchApiKey();if(!r){let s="[SuperViz | Real-Time Data Engine] - Invalid Secret or ClientId";throw this.logger.log(s),console.error(s),new Error(s)}me.set("apiKey",r)});this.validateApiKey=()=>xe(this,null,function*(){if(!me.get("apiKey")){let a="[SuperViz | Real-Time Data Engine] - API Key is required";throw this.logger.log(a),console.error(a),new Error(a)}if(!(yield up())){let a="[SuperViz | Real-Time Data Engine] - Invalid API Key";throw this.logger.log(a),console.error(a),new Error(a)}});this.logger=new _t("@superviz/realtime"),this.validateAuth(r),this.validateParams(s),this.setConfigs(r,s),s.debug||cp.debug.disable(),this.start()}start(){return xe(this,null,function*(){this.logger.log("[SuperViz - Real-Time Data Engine] - Starting"),yield this.setApiUrl(),ks()&&(yield this.validateSecretAndClientId()),yield Promise.all([this.validateLimits(),this.validateApiKey()]),this.ioc=new Us(this.localParticipant),this.changeState("STARTED"),this.publish("mount"),un.sendActivity(this.localParticipant.id)})}destroy(){var r;this.logger.log("[SuperViz - Real-Time Data Engine] - Destroying"),this.changeState("STOPPED"),this.publish("unmount"),this.disconnectFromAllChannels(),(r=this.ioc)==null||r.destroy()}changeState(r){this.logger.log("realtime component @ changeState - state changed",r),this.state=r,this.publish("realtime-component.state-changed",this.state)}connect(r){let s=this.channels.get(r);return s||(this.state!=="STARTED"?new Promise(a=>{this.subscribe("realtime-component.state-changed",l=>{l==="STARTED"&&a(this.connect(r))})}):(s=new Is(r,this.ioc,this.localParticipant,this.connectionLimit),this.channels.set(r,s),s))}disconnectFromAllChannels(){this.channels.forEach(r=>r.disconnect())}setConfigs(r,s){if(Vr(r)?me.set("apiKey",r):(me.set("secret",r.secret),me.set("clientId",r.clientId)),me.set("environment",s.environment||"prod"),!s.participant){this.localParticipant={id:`sv-${Qa()}`};return}this.localParticipant=s.participant}validateParams(r={}){if(!As(r)){let s="[SuperViz | Real-Time Data Engine] - Options must be an object";throw this.logger.log(s),console.error(s),new Error(s)}if(r.environment&&!Object.values(Bs).includes(r.environment)){let s="[SuperViz | Real-Time Data Engine] - Invalid environment";throw this.logger.log(s),console.error(s),new Error(s)}if(r.debug&&!qh(r.debug)){let s="[SuperViz | Real-Time Data Engine] - Debug param must be a boolean";throw this.logger.log(s),console.error(s),new Error(s)}if(r.participant){if(!As(r.participant)){let s="[SuperViz | Real-Time Data Engine] - Optional participant must be an object";throw this.logger.log(s),console.error(s),new Error(s)}if(!r.participant.id){let s="[SuperViz | Real-Time Data Engine] - Participant missing id";throw this.logger.log(s),console.error(s),new Error(s)}if(!Vr(r.participant.id)){let s="[SuperViz | Real-Time Data Engine] - Participant id must be a string";throw this.logger.log(s),console.error(s),new Error(s)}if(r.participant.name&&!Vr(r.participant.name)){let s="[SuperViz | Real-Time Data Engine] - Optional participant name must be a string";throw this.logger.log(s),console.error(s),new Error(s)}}}validateAuth(r){if(Vr(r)){if(ks()){let s="[SuperViz | Real-Time Data Engine] - Secret and clientId are required when not using browser";throw this.logger.log(s),console.error(s),new Error(s)}}else if(As(r)){if(!ks()){let s="[SuperViz | Real-Time Data Engine] - You can only authenticate using secret and clientId on the server";throw this.logger.log(s),console.error(s),new Error(s)}if(!r.secret||!r.clientId){let s="[SuperViz | Real-Time Data Engine] - Secret and clientId are required";throw this.logger.log(s),console.error(s),new Error(s)}}else{let s="[SuperViz | Real-Time Data Engine] - You must authenticate you session through either a string (api key) or an object (secret and clientId)";throw this.logger.log(s),console.error(s),new Error(s)}}};typeof window!="undefined"&&(window.Realtime=ti);var xS=ti;export{Ga as ComponentLifeCycleEvent,xs as PresenceEvents,ti as Realtime,ru as RealtimeChannelEvent,tu as RealtimeChannelState,nu as RealtimeComponentEvent,eu as RealtimeComponentState,xS as default};
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
