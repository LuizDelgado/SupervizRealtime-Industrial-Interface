var E_=Object.create;var pi=Object.defineProperty,x_=Object.defineProperties,k_=Object.getOwnPropertyDescriptor,q_=Object.getOwnPropertyDescriptors,T_=Object.getOwnPropertyNames,El=Object.getOwnPropertySymbols,P_=Object.getPrototypeOf,kl=Object.prototype.hasOwnProperty,C_=Object.prototype.propertyIsEnumerable;var xl=(r,e,t)=>e in r?pi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,v=(r,e)=>{for(var t in e||(e={}))kl.call(e,t)&&xl(r,t,e[t]);if(El)for(var t of El(e))C_.call(e,t)&&xl(r,t,e[t]);return r},q=(r,e)=>x_(r,q_(e));var L=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var d=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),A_=(r,e)=>{for(var t in e)pi(r,t,{get:e[t],enumerable:!0})},j_=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of T_(e))!kl.call(r,i)&&i!==t&&pi(r,i,{get:()=>e[i],enumerable:!(n=k_(e,i))||n.enumerable});return r};var W=(r,e,t)=>(t=r!=null?E_(P_(r)):{},j_(e||!r||!r.__esModule?pi(t,"default",{value:r,enumerable:!0}):t,r));var Ae=(r,e,t)=>new Promise((n,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(r,e)).next())});var D=d(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.isFunction=void 0;function R_(r){return typeof r=="function"}mi.isFunction=R_});var nt=d(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.createErrorClass=void 0;function M_(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}_i.createErrorClass=M_});var du=d(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.UnsubscriptionError=void 0;var I_=nt();yi.UnsubscriptionError=I_.createErrorClass(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}})});var Ve=d(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.arrRemove=void 0;function N_(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}bi.arrRemove=N_});var le=d(oe=>{"use strict";var ql=oe&&oe.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tl=oe&&oe.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Pl=oe&&oe.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(oe,"__esModule",{value:!0});oe.isSubscription=oe.EMPTY_SUBSCRIPTION=oe.Subscription=void 0;var kn=D(),hu=du(),Cl=Ve(),pu=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=ql(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(m){e={error:m}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else s.remove(this);var f=this.initialTeardown;if(kn.isFunction(f))try{f()}catch(m){o=m instanceof hu.UnsubscriptionError?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=ql(h),_=p.next();!_.done;_=p.next()){var y=_.value;try{Al(y)}catch(m){o=o!=null?o:[],m instanceof hu.UnsubscriptionError?o=Pl(Pl([],Tl(o)),Tl(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{_&&!_.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(o)throw new hu.UnsubscriptionError(o)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Al(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Cl.arrRemove(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&Cl.arrRemove(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}();oe.Subscription=pu;oe.EMPTY_SUBSCRIPTION=pu.EMPTY;function F_(r){return r instanceof pu||r&&"closed"in r&&kn.isFunction(r.remove)&&kn.isFunction(r.add)&&kn.isFunction(r.unsubscribe)}oe.isSubscription=F_;function Al(r){kn.isFunction(r)?r():r.unsubscribe()}});var br=d(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.config=void 0;gi.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var vu=d(je=>{"use strict";var jl=je&&je.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Rl=je&&je.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(je,"__esModule",{value:!0});je.timeoutProvider=void 0;je.timeoutProvider={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=je.timeoutProvider.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Rl([r,e],jl(t))):setTimeout.apply(void 0,Rl([r,e],jl(t)))},clearTimeout:function(r){var e=je.timeoutProvider.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0}});var mu=d(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.reportUnhandledError=void 0;var L_=br(),D_=vu();function U_(r){D_.timeoutProvider.setTimeout(function(){var e=L_.config.onUnhandledError;if(e)e(r);else throw r})}Oi.reportUnhandledError=U_});var J=d(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.noop=void 0;function B_(){}Si.noop=B_});var Ml=d(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createNotification=Re.nextNotification=Re.errorNotification=Re.COMPLETE_NOTIFICATION=void 0;Re.COMPLETE_NOTIFICATION=function(){return wi("C",void 0,void 0)}();function W_(r){return wi("E",void 0,r)}Re.errorNotification=W_;function V_(r){return wi("N",r,void 0)}Re.nextNotification=V_;function wi(r,e,t){return{kind:r,value:e,error:t}}Re.createNotification=wi});var Ei=d(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.captureError=gr.errorContext=void 0;var Il=br(),Ft=null;function $_(r){if(Il.config.useDeprecatedSynchronousErrorHandling){var e=!Ft;if(e&&(Ft={errorThrown:!1,error:null}),r(),e){var t=Ft,n=t.errorThrown,i=t.error;if(Ft=null,n)throw i}}else r()}gr.errorContext=$_;function z_(r){Il.config.useDeprecatedSynchronousErrorHandling&&Ft&&(Ft.errorThrown=!0,Ft.error=r)}gr.captureError=z_});var Or=d(Ee=>{"use strict";var Ll=Ee&&Ee.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.EMPTY_OBSERVER=Ee.SafeSubscriber=Ee.Subscriber=void 0;var Z_=D(),Nl=le(),gu=br(),G_=mu(),Fl=J(),_u=Ml(),H_=vu(),Y_=Ei(),Dl=function(r){Ll(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Nl.isSubscription(t)&&t.add(n)):n.destination=Ee.EMPTY_OBSERVER,n}return e.create=function(t,n,i){return new Ul(t,n,i)},e.prototype.next=function(t){this.isStopped?bu(_u.nextNotification(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?bu(_u.errorNotification(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?bu(_u.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Nl.Subscription);Ee.Subscriber=Dl;var J_=Function.prototype.bind;function yu(r,e){return J_.call(r,e)}var K_=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){xi(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){xi(n)}else xi(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){xi(t)}},r}(),Ul=function(r){Ll(e,r);function e(t,n,i){var o=r.call(this)||this,s;if(Z_.isFunction(t)||!t)s={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var a;o&&gu.config.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return o.unsubscribe()},s={next:t.next&&yu(t.next,a),error:t.error&&yu(t.error,a),complete:t.complete&&yu(t.complete,a)}):s=t}return o.destination=new K_(s),o}return e}(Dl);Ee.SafeSubscriber=Ul;function xi(r){gu.config.useDeprecatedSynchronousErrorHandling?Y_.captureError(r):G_.reportUnhandledError(r)}function X_(r){throw r}function bu(r,e){var t=gu.config.onStoppedNotification;t&&H_.timeoutProvider.setTimeout(function(){return t(r,e)})}Ee.EMPTY_OBSERVER={closed:!0,next:Fl.noop,error:X_,complete:Fl.noop}});var qn=d(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.observable=void 0;ki.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var K=d(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.identity=void 0;function Q_(r){return r}qi.identity=Q_});var Tn=d(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.pipeFromArray=Sr.pipe=void 0;var ey=K();function ty(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Bl(r)}Sr.pipe=ty;function Bl(r){return r.length===0?ey.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}Sr.pipeFromArray=Bl});var U=d(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.Observable=void 0;var Su=Or(),ry=le(),ny=qn(),iy=Tn(),oy=br(),Ou=D(),sy=Ei(),ay=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this,o=cy(e)?e:new Su.SafeSubscriber(e,t,n);return sy.errorContext(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=Wl(t),new t(function(i,o){var s=new Su.SafeSubscriber({next:function(a){try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[ny.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iy.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Wl(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();Ti.Observable=ay;function Wl(r){var e;return(e=r!=null?r:oy.config.Promise)!==null&&e!==void 0?e:Promise}function uy(r){return r&&Ou.isFunction(r.next)&&Ou.isFunction(r.error)&&Ou.isFunction(r.complete)}function cy(r){return r&&r instanceof Su.Subscriber||uy(r)&&ry.isSubscription(r)}});var w=d(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.operate=wr.hasLift=void 0;var ly=D();function Vl(r){return ly.isFunction(r==null?void 0:r.lift)}wr.hasLift=Vl;function fy(r){return function(e){if(Vl(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}wr.operate=fy});var k=d(it=>{"use strict";var dy=it&&it.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(it,"__esModule",{value:!0});it.OperatorSubscriber=it.createOperatorSubscriber=void 0;var hy=Or();function py(r,e,t,n,i){return new $l(r,e,t,n,i)}it.createOperatorSubscriber=py;var $l=function(r){dy(e,r);function e(t,n,i,o,s,a){var c=r.call(this,t)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(f){t.error(f)}}:r.prototype._next,c._error=o?function(u){try{o(u)}catch(f){t.error(f)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:r.prototype._complete,c}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(hy.Subscriber);it.OperatorSubscriber=$l});var wu=d(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.refCount=void 0;var vy=w(),my=k();function _y(){return vy.operate(function(r,e){var t=null;r._refCount++;var n=my.createOperatorSubscriber(e,void 0,void 0,void 0,function(){if(!r||r._refCount<=0||0<--r._refCount){t=null;return}var i=r._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});r.subscribe(n),n.closed||(t=r.connect())})}Pi.refCount=_y});var Pn=d(Er=>{"use strict";var yy=Er&&Er.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Er,"__esModule",{value:!0});Er.ConnectableObservable=void 0;var by=U(),zl=le(),gy=wu(),Oy=k(),Sy=w(),wy=function(r){yy(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,Sy.hasLift(t)&&(i.lift=t.lift),i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t==null||t.unsubscribe()},e.prototype.connect=function(){var t=this,n=this._connection;if(!n){n=this._connection=new zl.Subscription;var i=this.getSubject();n.add(this.source.subscribe(Oy.createOperatorSubscriber(i,void 0,function(){t._teardown(),i.complete()},function(o){t._teardown(),i.error(o)},function(){return t._teardown()}))),n.closed&&(this._connection=null,n=zl.Subscription.EMPTY)}return n},e.prototype.refCount=function(){return gy.refCount()(this)},e}(by.Observable);Er.ConnectableObservable=wy});var Zl=d(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.performanceTimestampProvider=void 0;Cn.performanceTimestampProvider={now:function(){return(Cn.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var Eu=d(xe=>{"use strict";var Gl=xe&&xe.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Hl=xe&&xe.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(xe,"__esModule",{value:!0});xe.animationFrameProvider=void 0;var Ey=le();xe.animationFrameProvider={schedule:function(r){var e=requestAnimationFrame,t=cancelAnimationFrame,n=xe.animationFrameProvider.delegate;n&&(e=n.requestAnimationFrame,t=n.cancelAnimationFrame);var i=e(function(o){t=void 0,r(o)});return new Ey.Subscription(function(){return t==null?void 0:t(i)})},requestAnimationFrame:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=xe.animationFrameProvider.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Hl([],Gl(r)))},cancelAnimationFrame:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=xe.animationFrameProvider.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Hl([],Gl(r)))},delegate:void 0}});var Kl=d(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.animationFrames=void 0;var xy=U(),ky=Zl(),Yl=Eu();function qy(r){return r?Jl(r):Ty}Ci.animationFrames=qy;function Jl(r){return new xy.Observable(function(e){var t=r||ky.performanceTimestampProvider,n=t.now(),i=0,o=function(){e.closed||(i=Yl.animationFrameProvider.requestAnimationFrame(function(s){i=0;var a=t.now();e.next({timestamp:r?a:s,elapsed:a-n}),o()}))};return o(),function(){i&&Yl.animationFrameProvider.cancelAnimationFrame(i)}})}var Ty=Jl()});var xu=d(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.ObjectUnsubscribedError=void 0;var Py=nt();Ai.ObjectUnsubscribedError=Py.createErrorClass(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var X=d(Me=>{"use strict";var Ql=Me&&Me.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cy=Me&&Me.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Me,"__esModule",{value:!0});Me.AnonymousSubject=Me.Subject=void 0;var Xl=U(),qu=le(),Ay=xu(),jy=Ve(),ku=Ei(),ef=function(r){Ql(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new Tu(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Ay.ObjectUnsubscribedError},e.prototype.next=function(t){var n=this;ku.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Cy(n.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(t)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var n=this;ku.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;ku.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?qu.EMPTY_SUBSCRIPTION:(this.currentObservers=null,a.push(t),new qu.Subscription(function(){n.currentObservers=null,jy.arrRemove(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?t.error(o):s&&t.complete()},e.prototype.asObservable=function(){var t=new Xl.Observable;return t.source=this,t},e.create=function(t,n){return new Tu(t,n)},e}(Xl.Observable);Me.Subject=ef;var Tu=function(r){Ql(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},e.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:qu.EMPTY_SUBSCRIPTION},e}(ef);Me.AnonymousSubject=Tu});var Pu=d(xr=>{"use strict";var Ry=xr&&xr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xr,"__esModule",{value:!0});xr.BehaviorSubject=void 0;var My=X(),Iy=function(r){Ry(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,o=t._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(My.Subject);xr.BehaviorSubject=Iy});var ji=d(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.dateTimestampProvider=void 0;An.dateTimestampProvider={now:function(){return(An.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var Ri=d(kr=>{"use strict";var Ny=kr&&kr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kr,"__esModule",{value:!0});kr.ReplaySubject=void 0;var Fy=X(),Ly=ji(),Dy=function(r){Ny(e,r);function e(t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Ly.dateTimestampProvider);var o=r.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return e.prototype.next=function(t){var n=this,i=n.isStopped,o=n._buffer,s=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(o.push(t),!s&&o.push(a.now()+c)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),i=this,o=i._infiniteTimeWindow,s=i._buffer,a=s.slice(),c=0;c<a.length&&!t.closed;c+=o?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,i=t._timestampProvider,o=t._buffer,s=t._infiniteTimeWindow,a=(s?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var c=i.now(),u=0,f=1;f<o.length&&o[f]<=c;f+=2)u=f;u&&o.splice(0,u+1)}},e}(Fy.Subject);kr.ReplaySubject=Dy});var Mi=d(qr=>{"use strict";var Uy=qr&&qr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qr,"__esModule",{value:!0});qr.AsyncSubject=void 0;var By=X(),Wy=function(r){Uy(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n._hasValue,s=n._value,a=n.thrownError,c=n.isStopped,u=n._isComplete;i?t.error(a):(c||u)&&(o&&t.next(s),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var t=this,n=t._hasValue,i=t._value,o=t._isComplete;o||(this._isComplete=!0,n&&r.prototype.next.call(this,i),r.prototype.complete.call(this))},e}(By.Subject);qr.AsyncSubject=Wy});var tf=d(Tr=>{"use strict";var Vy=Tr&&Tr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Action=void 0;var $y=le(),zy=function(r){Vy(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}($y.Subscription);Tr.Action=zy});var of=d(Ie=>{"use strict";var rf=Ie&&Ie.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},nf=Ie&&Ie.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.intervalProvider=void 0;Ie.intervalProvider={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=Ie.intervalProvider.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,nf([r,e],rf(t))):setInterval.apply(void 0,nf([r,e],rf(t)))},clearInterval:function(r){var e=Ie.intervalProvider.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(r)},delegate:void 0}});var Cr=d(Pr=>{"use strict";var Zy=Pr&&Pr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.AsyncAction=void 0;var Gy=tf(),sf=of(),Hy=Ve(),Yy=function(r){Zy(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),sf.intervalProvider.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&sf.intervalProvider.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o;try{this.work(t)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Hy.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Gy.Action);Pr.AsyncAction=Yy});var uf=d(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.TestTools=Ar.Immediate=void 0;var Jy=1,Cu,Ii={};function af(r){return r in Ii?(delete Ii[r],!0):!1}Ar.Immediate={setImmediate:function(r){var e=Jy++;return Ii[e]=!0,Cu||(Cu=Promise.resolve()),Cu.then(function(){return af(e)&&r()}),e},clearImmediate:function(r){af(r)}};Ar.TestTools={pending:function(){return Object.keys(Ii).length}}});var lf=d(Ne=>{"use strict";var Ky=Ne&&Ne.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Xy=Ne&&Ne.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.immediateProvider=void 0;var cf=uf(),Qy=cf.Immediate.setImmediate,eb=cf.Immediate.clearImmediate;Ne.immediateProvider={setImmediate:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ne.immediateProvider.delegate;return((t==null?void 0:t.setImmediate)||Qy).apply(void 0,Xy([],Ky(r)))},clearImmediate:function(r){var e=Ne.immediateProvider.delegate;return((e==null?void 0:e.clearImmediate)||eb)(r)},delegate:void 0}});var df=d(jr=>{"use strict";var tb=jr&&jr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jr,"__esModule",{value:!0});jr.AsapAction=void 0;var rb=Cr(),ff=lf(),nb=function(r){tb(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=ff.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);var s=t.actions;n!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==n&&(ff.immediateProvider.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},e}(rb.AsyncAction);jr.AsapAction=nb});var Au=d(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.Scheduler=void 0;var ib=ji(),ob=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=ib.dateTimestampProvider.now,r}();Ni.Scheduler=ob});var Mr=d(Rr=>{"use strict";var sb=Rr&&Rr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.AsyncScheduler=void 0;var hf=Au(),ab=function(r){sb(e,r);function e(t,n){n===void 0&&(n=hf.Scheduler.now);var i=r.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(hf.Scheduler);Rr.AsyncScheduler=ab});var pf=d(Ir=>{"use strict";var ub=Ir&&Ir.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.AsapScheduler=void 0;var cb=Mr(),lb=function(r){ub(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw o}},e}(cb.AsyncScheduler);Ir.AsapScheduler=lb});var vf=d(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.asap=Lt.asapScheduler=void 0;var fb=df(),db=pf();Lt.asapScheduler=new db.AsapScheduler(fb.AsapAction);Lt.asap=Lt.asapScheduler});var se=d(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.async=Dt.asyncScheduler=void 0;var hb=Cr(),pb=Mr();Dt.asyncScheduler=new pb.AsyncScheduler(hb.AsyncAction);Dt.async=Dt.asyncScheduler});var mf=d(Nr=>{"use strict";var vb=Nr&&Nr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.QueueAction=void 0;var mb=Cr(),_b=function(r){vb(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.flush(this),0)},e}(mb.AsyncAction);Nr.QueueAction=_b});var _f=d(Fr=>{"use strict";var yb=Fr&&Fr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.QueueScheduler=void 0;var bb=Mr(),gb=function(r){yb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(bb.AsyncScheduler);Fr.QueueScheduler=gb});var yf=d(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.queue=Ut.queueScheduler=void 0;var Ob=mf(),Sb=_f();Ut.queueScheduler=new Sb.QueueScheduler(Ob.QueueAction);Ut.queue=Ut.queueScheduler});var gf=d(Lr=>{"use strict";var wb=Lr&&Lr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Lr,"__esModule",{value:!0});Lr.AnimationFrameAction=void 0;var Eb=Cr(),bf=Eu(),xb=function(r){wb(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=bf.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},e.prototype.recycleAsyncId=function(t,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);var s=t.actions;n!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==n&&(bf.animationFrameProvider.cancelAnimationFrame(n),t._scheduled=void 0)},e}(Eb.AsyncAction);Lr.AnimationFrameAction=xb});var Of=d(Dr=>{"use strict";var kb=Dr&&Dr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.AnimationFrameScheduler=void 0;var qb=Mr(),Tb=function(r){kb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw o}},e}(qb.AsyncScheduler);Dr.AnimationFrameScheduler=Tb});var Sf=d(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.animationFrame=Bt.animationFrameScheduler=void 0;var Pb=gf(),Cb=Of();Bt.animationFrameScheduler=new Cb.AnimationFrameScheduler(Pb.AnimationFrameAction);Bt.animationFrame=Bt.animationFrameScheduler});var xf=d(ot=>{"use strict";var wf=ot&&ot.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ot,"__esModule",{value:!0});ot.VirtualAction=ot.VirtualTimeScheduler=void 0;var Ab=Cr(),jb=le(),Rb=Mr(),Mb=function(r){wf(e,r);function e(t,n){t===void 0&&(t=Ef),n===void 0&&(n=1/0);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(Rb.AsyncScheduler);ot.VirtualTimeScheduler=Mb;var Ef=function(r){wf(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)}else return jb.Subscription.EMPTY},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(Ab.AsyncAction);ot.VirtualAction=Ef});var ke=d(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.empty=Wt.EMPTY=void 0;var kf=U();Wt.EMPTY=new kf.Observable(function(r){return r.complete()});function Ib(r){return r?Nb(r):Wt.EMPTY}Wt.empty=Ib;function Nb(r){return new kf.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var jn=d(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.isScheduler=void 0;var Fb=D();function Lb(r){return r&&Fb.isFunction(r.schedule)}Fi.isScheduler=Lb});var ae=d(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.popNumber=st.popScheduler=st.popResultSelector=void 0;var Db=D(),Ub=jn();function ju(r){return r[r.length-1]}function Bb(r){return Db.isFunction(ju(r))?r.pop():void 0}st.popResultSelector=Bb;function Wb(r){return Ub.isScheduler(ju(r))?r.pop():void 0}st.popScheduler=Wb;function Vb(r,e){return typeof ju(r)=="number"?r.pop():e}st.popNumber=Vb});var Di=d(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.isArrayLike=void 0;Li.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var Ru=d(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.isPromise=void 0;var $b=D();function zb(r){return $b.isFunction(r==null?void 0:r.then)}Ui.isPromise=zb});var Mu=d(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.isInteropObservable=void 0;var Zb=qn(),Gb=D();function Hb(r){return Gb.isFunction(r[Zb.observable])}Bi.isInteropObservable=Hb});var Iu=d(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.isAsyncIterable=void 0;var Yb=D();function Jb(r){return Symbol.asyncIterator&&Yb.isFunction(r==null?void 0:r[Symbol.asyncIterator])}Wi.isAsyncIterable=Jb});var Nu=d(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.createInvalidObservableTypeError=void 0;function Kb(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Vi.createInvalidObservableTypeError=Kb});var Fu=d(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.iterator=Ur.getSymbolIterator=void 0;function qf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Ur.getSymbolIterator=qf;Ur.iterator=qf()});var Lu=d($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.isIterable=void 0;var Xb=Fu(),Qb=D();function eg(r){return Qb.isFunction(r==null?void 0:r[Xb.iterator])}$i.isIterable=eg});var zi=d(ye=>{"use strict";var tg=ye&&ye.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Br=ye&&ye.__await||function(r){return this instanceof Br?(this.v=r,this):new Br(r)},rg=ye&&ye.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){n[p]&&(i[p]=function(_){return new Promise(function(y,m){o.push([p,_,y,m])>1||a(p,_)})})}function a(p,_){try{c(n[p](_))}catch(y){h(o[0][3],y)}}function c(p){p.value instanceof Br?Promise.resolve(p.value.v).then(u,f):h(o[0][2],p)}function u(p){a("next",p)}function f(p){a("throw",p)}function h(p,_){p(_),o.shift(),o.length&&a(o[0][0],o[0][1])}};Object.defineProperty(ye,"__esModule",{value:!0});ye.isReadableStreamLike=ye.readableStreamLikeToAsyncGenerator=void 0;var ng=D();function ig(r){return rg(this,arguments,function(){var t,n,i,o;return tg(this,function(s){switch(s.label){case 0:t=r.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Br(t.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,Br(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Br(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}ye.readableStreamLikeToAsyncGenerator=ig;function og(r){return ng.isFunction(r==null?void 0:r.getReader)}ye.isReadableStreamLike=og});var R=d($=>{"use strict";var sg=$&&$.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{u(n.next(f))}catch(h){s(h)}}function c(f){try{u(n.throw(f))}catch(h){s(h)}}function u(f){f.done?o(f.value):i(f.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},ag=$&&$.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ug=$&&$.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Du=="function"?Du(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=r[o]&&function(s){return new Promise(function(a,c){s=r[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}},Du=$&&$.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($,"__esModule",{value:!0});$.fromReadableStreamLike=$.fromAsyncIterable=$.fromIterable=$.fromPromise=$.fromArrayLike=$.fromInteropObservable=$.innerFrom=void 0;var cg=Di(),lg=Ru(),Wr=U(),fg=Mu(),dg=Iu(),hg=Nu(),pg=Lu(),Tf=zi(),vg=D(),mg=mu(),_g=qn();function yg(r){if(r instanceof Wr.Observable)return r;if(r!=null){if(fg.isInteropObservable(r))return Pf(r);if(cg.isArrayLike(r))return Cf(r);if(lg.isPromise(r))return Af(r);if(dg.isAsyncIterable(r))return Uu(r);if(pg.isIterable(r))return jf(r);if(Tf.isReadableStreamLike(r))return Rf(r)}throw hg.createInvalidObservableTypeError(r)}$.innerFrom=yg;function Pf(r){return new Wr.Observable(function(e){var t=r[_g.observable]();if(vg.isFunction(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}$.fromInteropObservable=Pf;function Cf(r){return new Wr.Observable(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}$.fromArrayLike=Cf;function Af(r){return new Wr.Observable(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,mg.reportUnhandledError)})}$.fromPromise=Af;function jf(r){return new Wr.Observable(function(e){var t,n;try{for(var i=Du(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()})}$.fromIterable=jf;function Uu(r){return new Wr.Observable(function(e){bg(r,e).catch(function(t){return e.error(t)})})}$.fromAsyncIterable=Uu;function Rf(r){return Uu(Tf.readableStreamLikeToAsyncGenerator(r))}$.fromReadableStreamLike=Rf;function bg(r,e){var t,n,i,o;return sg(this,void 0,void 0,function(){var s,a;return ag(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=ug(r),c.label=1;case 1:return[4,t.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}});var $e=d(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.executeSchedule=void 0;function gg(r,e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){t(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}Zi.executeSchedule=gg});var Rn=d(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.observeOn=void 0;var Bu=$e(),Og=w(),Sg=k();function wg(r,e){return e===void 0&&(e=0),Og.operate(function(t,n){t.subscribe(Sg.createOperatorSubscriber(n,function(i){return Bu.executeSchedule(n,r,function(){return n.next(i)},e)},function(){return Bu.executeSchedule(n,r,function(){return n.complete()},e)},function(i){return Bu.executeSchedule(n,r,function(){return n.error(i)},e)}))})}Gi.observeOn=wg});var Mn=d(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.subscribeOn=void 0;var Eg=w();function xg(r,e){return e===void 0&&(e=0),Eg.operate(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}Hi.subscribeOn=xg});var Mf=d(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.scheduleObservable=void 0;var kg=R(),qg=Rn(),Tg=Mn();function Pg(r,e){return kg.innerFrom(r).pipe(Tg.subscribeOn(e),qg.observeOn(e))}Yi.scheduleObservable=Pg});var If=d(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.schedulePromise=void 0;var Cg=R(),Ag=Rn(),jg=Mn();function Rg(r,e){return Cg.innerFrom(r).pipe(jg.subscribeOn(e),Ag.observeOn(e))}Ji.schedulePromise=Rg});var Nf=d(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.scheduleArray=void 0;var Mg=U();function Ig(r,e){return new Mg.Observable(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}Ki.scheduleArray=Ig});var Wu=d(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.scheduleIterable=void 0;var Ng=U(),Fg=Fu(),Lg=D(),Ff=$e();function Dg(r,e){return new Ng.Observable(function(t){var n;return Ff.executeSchedule(t,e,function(){n=r[Fg.iterator](),Ff.executeSchedule(t,e,function(){var i,o,s;try{i=n.next(),o=i.value,s=i.done}catch(a){t.error(a);return}s?t.complete():t.next(o)},0,!0)}),function(){return Lg.isFunction(n==null?void 0:n.return)&&n.return()}})}Xi.scheduleIterable=Dg});var Vu=d(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.scheduleAsyncIterable=void 0;var Ug=U(),Lf=$e();function Bg(r,e){if(!r)throw new Error("Iterable cannot be null");return new Ug.Observable(function(t){Lf.executeSchedule(t,e,function(){var n=r[Symbol.asyncIterator]();Lf.executeSchedule(t,e,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}Qi.scheduleAsyncIterable=Bg});var Df=d(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.scheduleReadableStreamLike=void 0;var Wg=Vu(),Vg=zi();function $g(r,e){return Wg.scheduleAsyncIterable(Vg.readableStreamLikeToAsyncGenerator(r),e)}eo.scheduleReadableStreamLike=$g});var $u=d(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.scheduled=void 0;var zg=Mf(),Zg=If(),Gg=Nf(),Hg=Wu(),Yg=Vu(),Jg=Mu(),Kg=Ru(),Xg=Di(),Qg=Lu(),e0=Iu(),t0=Nu(),r0=zi(),n0=Df();function i0(r,e){if(r!=null){if(Jg.isInteropObservable(r))return zg.scheduleObservable(r,e);if(Xg.isArrayLike(r))return Gg.scheduleArray(r,e);if(Kg.isPromise(r))return Zg.schedulePromise(r,e);if(e0.isAsyncIterable(r))return Yg.scheduleAsyncIterable(r,e);if(Qg.isIterable(r))return Hg.scheduleIterable(r,e);if(r0.isReadableStreamLike(r))return n0.scheduleReadableStreamLike(r,e)}throw t0.createInvalidObservableTypeError(r)}to.scheduled=i0});var ze=d(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.from=void 0;var o0=$u(),s0=R();function a0(r,e){return e?o0.scheduled(r,e):s0.innerFrom(r)}ro.from=a0});var io=d(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.of=void 0;var u0=ae(),c0=ze();function l0(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=u0.popScheduler(r);return c0.from(r,t)}no.of=l0});var zu=d(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.throwError=void 0;var f0=U(),d0=D();function h0(r,e){var t=d0.isFunction(r)?r:function(){return r},n=function(i){return i.error(t())};return new f0.Observable(e?function(i){return e.schedule(n,0,i)}:n)}oo.throwError=h0});var so=d(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.observeNotification=Ze.Notification=Ze.NotificationKind=void 0;var p0=ke(),v0=io(),m0=zu(),_0=D(),y0;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(y0=Ze.NotificationKind||(Ze.NotificationKind={}));var b0=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){return Uf(this,e)},r.prototype.do=function(e,t,n){var i=this,o=i.kind,s=i.value,a=i.error;return o==="N"?e==null?void 0:e(s):o==="E"?t==null?void 0:t(a):n==null?void 0:n()},r.prototype.accept=function(e,t,n){var i;return _0.isFunction((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,i=e.error,o=t==="N"?v0.of(n):t==="E"?m0.throwError(function(){return i}):t==="C"?p0.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+t);return o},r.createNext=function(e){return new r("N",e)},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();Ze.Notification=b0;function Uf(r,e){var t,n,i,o=r,s=o.kind,a=o.value,c=o.error;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(t=e.next)===null||t===void 0||t.call(e,a):s==="E"?(n=e.error)===null||n===void 0||n.call(e,c):(i=e.complete)===null||i===void 0||i.call(e)}Ze.observeNotification=Uf});var Wf=d(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.isObservable=void 0;var g0=U(),Bf=D();function O0(r){return!!r&&(r instanceof g0.Observable||Bf.isFunction(r.lift)&&Bf.isFunction(r.subscribe))}ao.isObservable=O0});var at=d(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.EmptyError=void 0;var S0=nt();uo.EmptyError=S0.createErrorClass(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}})});var Vf=d(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.lastValueFrom=void 0;var w0=at();function E0(r,e){var t=typeof e=="object";return new Promise(function(n,i){var o=!1,s;r.subscribe({next:function(a){s=a,o=!0},error:i,complete:function(){o?n(s):t?n(e.defaultValue):i(new w0.EmptyError)}})})}co.lastValueFrom=E0});var $f=d(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.firstValueFrom=void 0;var x0=at(),k0=Or();function q0(r,e){var t=typeof e=="object";return new Promise(function(n,i){var o=new k0.SafeSubscriber({next:function(s){n(s),o.unsubscribe()},error:i,complete:function(){t?n(e.defaultValue):i(new x0.EmptyError)}});r.subscribe(o)})}lo.firstValueFrom=q0});var Zu=d(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.ArgumentOutOfRangeError=void 0;var T0=nt();fo.ArgumentOutOfRangeError=T0.createErrorClass(function(r){return function(){r(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var Gu=d(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.NotFoundError=void 0;var P0=nt();ho.NotFoundError=P0.createErrorClass(function(r){return function(t){r(this),this.name="NotFoundError",this.message=t}})});var Hu=d(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.SequenceError=void 0;var C0=nt();po.SequenceError=C0.createErrorClass(function(r){return function(t){r(this),this.name="SequenceError",this.message=t}})});var mo=d(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.isValidDate=void 0;function A0(r){return r instanceof Date&&!isNaN(r)}vo.isValidDate=A0});var _o=d(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.timeout=Vt.TimeoutError=void 0;var j0=se(),R0=mo(),M0=w(),I0=R(),N0=nt(),F0=k(),L0=$e();Vt.TimeoutError=N0.createErrorClass(function(r){return function(t){t===void 0&&(t=null),r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function D0(r,e){var t=R0.isValidDate(r)?{first:r}:typeof r=="number"?{each:r}:r,n=t.first,i=t.each,o=t.with,s=o===void 0?U0:o,a=t.scheduler,c=a===void 0?e!=null?e:j0.asyncScheduler:a,u=t.meta,f=u===void 0?null:u;if(n==null&&i==null)throw new TypeError("No timeout provided.");return M0.operate(function(h,p){var _,y,m=null,b=0,x=function(j){y=L0.executeSchedule(p,c,function(){try{_.unsubscribe(),I0.innerFrom(s({meta:f,lastValue:m,seen:b})).subscribe(p)}catch(O){p.error(O)}},j)};_=h.subscribe(F0.createOperatorSubscriber(p,function(j){y==null||y.unsubscribe(),b++,p.next(m=j),i>0&&x(i)},void 0,void 0,function(){y!=null&&y.closed||y==null||y.unsubscribe(),m=null})),!b&&x(n!=null?typeof n=="number"?n:+n-c.now():i)})}Vt.timeout=D0;function U0(r){throw new Vt.TimeoutError(r)}});var ut=d(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.map=void 0;var B0=w(),W0=k();function V0(r,e){return B0.operate(function(t,n){var i=0;t.subscribe(W0.createOperatorSubscriber(n,function(o){n.next(r.call(e,o,i++))}))})}yo.map=V0});var lt=d(ct=>{"use strict";var $0=ct&&ct.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},z0=ct&&ct.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(ct,"__esModule",{value:!0});ct.mapOneOrManyArgs=void 0;var Z0=ut(),G0=Array.isArray;function H0(r,e){return G0(e)?r.apply(void 0,z0([],$0(e))):r(e)}function Y0(r){return Z0.map(function(e){return H0(r,e)})}ct.mapOneOrManyArgs=Y0});var Ju=d(ft=>{"use strict";var J0=ft&&ft.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},zf=ft&&ft.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(ft,"__esModule",{value:!0});ft.bindCallbackInternals=void 0;var K0=jn(),X0=U(),Q0=Mn(),eO=lt(),tO=Rn(),rO=Mi();function Yu(r,e,t,n){if(t)if(K0.isScheduler(t))n=t;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Yu(r,e,n).apply(this,i).pipe(eO.mapOneOrManyArgs(t))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Yu(r,e).apply(this,i).pipe(Q0.subscribeOn(n),tO.observeOn(n))}:function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new rO.AsyncSubject,c=!0;return new X0.Observable(function(u){var f=a.subscribe(u);if(c){c=!1;var h=!1,p=!1;e.apply(i,zf(zf([],J0(o)),[function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];if(r){var m=_.shift();if(m!=null){a.error(m);return}}a.next(1<_.length?_:_[0]),p=!0,h&&a.complete()}])),p&&a.complete(),h=!0}return f})}}ft.bindCallbackInternals=Yu});var Zf=d(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.bindCallback=void 0;var nO=Ju();function iO(r,e,t){return nO.bindCallbackInternals(!1,r,e,t)}bo.bindCallback=iO});var Gf=d(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.bindNodeCallback=void 0;var oO=Ju();function sO(r,e,t){return oO.bindCallbackInternals(!0,r,e,t)}go.bindNodeCallback=sO});var Ku=d(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.argsArgArrayOrObject=void 0;var aO=Array.isArray,uO=Object.getPrototypeOf,cO=Object.prototype,lO=Object.keys;function fO(r){if(r.length===1){var e=r[0];if(aO(e))return{args:e,keys:null};if(dO(e)){var t=lO(e);return{args:t.map(function(n){return e[n]}),keys:t}}}return{args:r,keys:null}}Oo.argsArgArrayOrObject=fO;function dO(r){return r&&typeof r=="object"&&uO(r)===cO}});var Xu=d(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.createObject=void 0;function hO(r,e){return r.reduce(function(t,n,i){return t[n]=e[i],t},{})}So.createObject=hO});var wo=d(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.combineLatestInit=Vr.combineLatest=void 0;var pO=U(),vO=Ku(),Jf=ze(),Kf=K(),mO=lt(),Hf=ae(),_O=Xu(),yO=k(),bO=$e();function gO(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Hf.popScheduler(r),n=Hf.popResultSelector(r),i=vO.argsArgArrayOrObject(r),o=i.args,s=i.keys;if(o.length===0)return Jf.from([],t);var a=new pO.Observable(Xf(o,t,s?function(c){return _O.createObject(s,c)}:Kf.identity));return n?a.pipe(mO.mapOneOrManyArgs(n)):a}Vr.combineLatest=gO;function Xf(r,e,t){return t===void 0&&(t=Kf.identity),function(n){Yf(e,function(){for(var i=r.length,o=new Array(i),s=i,a=i,c=function(f){Yf(e,function(){var h=Jf.from(r[f],e),p=!1;h.subscribe(yO.createOperatorSubscriber(n,function(_){o[f]=_,p||(p=!0,a--),a||n.next(t(o.slice()))},function(){--s||n.complete()}))},n)},u=0;u<i;u++)c(u)},n)}}Vr.combineLatestInit=Xf;function Yf(r,e,t){r?bO.executeSchedule(t,r,e):e()}});var xo=d(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.mergeInternals=void 0;var OO=R(),SO=$e(),Qf=k();function wO(r,e,t,n,i,o,s,a){var c=[],u=0,f=0,h=!1,p=function(){h&&!c.length&&!u&&e.complete()},_=function(m){return u<n?y(m):c.push(m)},y=function(m){o&&e.next(m),u++;var b=!1;OO.innerFrom(t(m,f++)).subscribe(Qf.createOperatorSubscriber(e,function(x){i==null||i(x),o?_(x):e.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var j=c.shift();s?SO.executeSchedule(e,s,function(){return y(j)}):y(j)};c.length&&u<n;)x();p()}catch(j){e.error(j)}}))};return r.subscribe(Qf.createOperatorSubscriber(e,_,function(){h=!0,p()})),function(){a==null||a()}}Eo.mergeInternals=wO});var Ge=d(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.mergeMap=void 0;var EO=ut(),xO=R(),kO=w(),qO=xo(),TO=D();function ed(r,e,t){return t===void 0&&(t=1/0),TO.isFunction(e)?ed(function(n,i){return EO.map(function(o,s){return e(n,o,i,s)})(xO.innerFrom(r(n,i)))},t):(typeof e=="number"&&(t=e),kO.operate(function(n,i){return qO.mergeInternals(n,i,r,t)}))}ko.mergeMap=ed});var In=d(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.mergeAll=void 0;var PO=Ge(),CO=K();function AO(r){return r===void 0&&(r=1/0),PO.mergeMap(CO.identity,r)}qo.mergeAll=AO});var Po=d(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.concatAll=void 0;var jO=In();function RO(){return jO.mergeAll(1)}To.concatAll=RO});var Nn=d(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.concat=void 0;var MO=Po(),IO=ae(),NO=ze();function FO(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return MO.concatAll()(NO.from(r,IO.popScheduler(r)))}Co.concat=FO});var Fn=d(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.defer=void 0;var LO=U(),DO=R();function UO(r){return new LO.Observable(function(e){DO.innerFrom(r()).subscribe(e)})}Ao.defer=UO});var td=d(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.connectable=void 0;var BO=X(),WO=U(),VO=Fn(),$O={connector:function(){return new BO.Subject},resetOnDisconnect:!0};function zO(r,e){e===void 0&&(e=$O);var t=null,n=e.connector,i=e.resetOnDisconnect,o=i===void 0?!0:i,s=n(),a=new WO.Observable(function(c){return s.subscribe(c)});return a.connect=function(){return(!t||t.closed)&&(t=VO.defer(function(){return r}).subscribe(s),o&&t.add(function(){return s=n()})),t},a}jo.connectable=zO});var rd=d(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.forkJoin=void 0;var ZO=U(),GO=Ku(),HO=R(),YO=ae(),JO=k(),KO=lt(),XO=Xu();function QO(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=YO.popResultSelector(r),n=GO.argsArgArrayOrObject(r),i=n.args,o=n.keys,s=new ZO.Observable(function(a){var c=i.length;if(!c){a.complete();return}for(var u=new Array(c),f=c,h=c,p=function(y){var m=!1;HO.innerFrom(i[y]).subscribe(JO.createOperatorSubscriber(a,function(b){m||(m=!0,h--),u[y]=b},function(){return f--},void 0,function(){(!f||!m)&&(h||a.next(o?XO.createObject(o,u):u),a.complete())}))},_=0;_<c;_++)p(_)});return t?s.pipe(KO.mapOneOrManyArgs(t)):s}Ro.forkJoin=QO});var id=d($r=>{"use strict";var eS=$r&&$r.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};Object.defineProperty($r,"__esModule",{value:!0});$r.fromEvent=void 0;var tS=R(),rS=U(),nS=Ge(),iS=Di(),$t=D(),oS=lt(),sS=["addListener","removeListener"],aS=["addEventListener","removeEventListener"],uS=["on","off"];function Qu(r,e,t,n){if($t.isFunction(t)&&(n=t,t=void 0),n)return Qu(r,e,t).pipe(oS.mapOneOrManyArgs(n));var i=eS(fS(r)?aS.map(function(a){return function(c){return r[a](e,c,t)}}):cS(r)?sS.map(nd(r,e)):lS(r)?uS.map(nd(r,e)):[],2),o=i[0],s=i[1];if(!o&&iS.isArrayLike(r))return nS.mergeMap(function(a){return Qu(a,e,t)})(tS.innerFrom(r));if(!o)throw new TypeError("Invalid event target");return new rS.Observable(function(a){var c=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return a.next(1<u.length?u:u[0])};return o(c),function(){return s(c)}})}$r.fromEvent=Qu;function nd(r,e){return function(t){return function(n){return r[t](e,n)}}}function cS(r){return $t.isFunction(r.addListener)&&$t.isFunction(r.removeListener)}function lS(r){return $t.isFunction(r.on)&&$t.isFunction(r.off)}function fS(r){return $t.isFunction(r.addEventListener)&&$t.isFunction(r.removeEventListener)}});var sd=d(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.fromEventPattern=void 0;var dS=U(),hS=D(),pS=lt();function od(r,e,t){return t?od(r,e).pipe(pS.mapOneOrManyArgs(t)):new dS.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o=r(i);return hS.isFunction(e)?function(){return e(i,o)}:void 0})}Mo.fromEventPattern=od});var ud=d(zr=>{"use strict";var vS=zr&&zr.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0});zr.generate=void 0;var ad=K(),mS=jn(),_S=Fn(),yS=Wu();function bS(r,e,t,n,i){var o,s,a,c;arguments.length===1?(o=r,c=o.initialState,e=o.condition,t=o.iterate,s=o.resultSelector,a=s===void 0?ad.identity:s,i=o.scheduler):(c=r,!n||mS.isScheduler(n)?(a=ad.identity,i=n):a=n);function u(){var f;return vS(this,function(h){switch(h.label){case 0:f=c,h.label=1;case 1:return!e||e(f)?[4,a(f)]:[3,4];case 2:h.sent(),h.label=3;case 3:return f=t(f),[3,1];case 4:return[2]}})}return _S.defer(i?function(){return yS.scheduleIterable(u(),i)}:u)}zr.generate=bS});var cd=d(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.iif=void 0;var gS=Fn();function OS(r,e,t){return gS.defer(function(){return r()?e:t})}Io.iif=OS});var dt=d(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.timer=void 0;var SS=U(),wS=se(),ES=jn(),xS=mo();function kS(r,e,t){r===void 0&&(r=0),t===void 0&&(t=wS.async);var n=-1;return e!=null&&(ES.isScheduler(e)?t=e:n=e),new SS.Observable(function(i){var o=xS.isValidDate(r)?+r-t.now():r;o<0&&(o=0);var s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}No.timer=kS});var ec=d(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.interval=void 0;var qS=se(),TS=dt();function PS(r,e){return r===void 0&&(r=0),e===void 0&&(e=qS.asyncScheduler),r<0&&(r=0),TS.timer(r,r,e)}Fo.interval=PS});var fd=d(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.merge=void 0;var CS=In(),AS=R(),jS=ke(),ld=ae(),RS=ze();function MS(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=ld.popScheduler(r),n=ld.popNumber(r,1/0),i=r;return i.length?i.length===1?AS.innerFrom(i[0]):CS.mergeAll(n)(RS.from(i,t)):jS.EMPTY}Lo.merge=MS});var tc=d(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.never=zt.NEVER=void 0;var IS=U(),NS=J();zt.NEVER=new IS.Observable(NS.noop);function FS(){return zt.NEVER}zt.never=FS});var Zt=d(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.argsOrArgArray=void 0;var LS=Array.isArray;function DS(r){return r.length===1&&LS(r[0])?r[0]:r}Do.argsOrArgArray=DS});var rc=d(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.onErrorResumeNext=void 0;var US=U(),BS=Zt(),WS=k(),dd=J(),VS=R();function $S(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=BS.argsOrArgArray(r);return new US.Observable(function(n){var i=0,o=function(){if(i<t.length){var s=void 0;try{s=VS.innerFrom(t[i++])}catch(c){o();return}var a=new WS.OperatorSubscriber(n,void 0,dd.noop,dd.noop);s.subscribe(a),a.add(o)}else n.complete()};o()})}Uo.onErrorResumeNext=$S});var hd=d(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.pairs=void 0;var zS=ze();function ZS(r,e){return zS.from(Object.entries(r),e)}Bo.pairs=ZS});var pd=d(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.not=void 0;function GS(r,e){return function(t,n){return!r.call(e,t,n)}}Wo.not=GS});var Gt=d(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.filter=void 0;var HS=w(),YS=k();function JS(r,e){return HS.operate(function(t,n){var i=0;t.subscribe(YS.createOperatorSubscriber(n,function(o){return r.call(e,o,i++)&&n.next(o)}))})}Vo.filter=JS});var _d=d($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.partition=void 0;var KS=pd(),vd=Gt(),md=R();function XS(r,e,t){return[vd.filter(e,t)(md.innerFrom(r)),vd.filter(KS.not(e,t))(md.innerFrom(r))]}$o.partition=XS});var nc=d(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.raceInit=Zr.race=void 0;var QS=U(),yd=R(),ew=Zt(),tw=k();function rw(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r=ew.argsOrArgArray(r),r.length===1?yd.innerFrom(r[0]):new QS.Observable(bd(r))}Zr.race=rw;function bd(r){return function(e){for(var t=[],n=function(o){t.push(yd.innerFrom(r[o]).subscribe(tw.createOperatorSubscriber(e,function(s){if(t){for(var a=0;a<t.length;a++)a!==o&&t[a].unsubscribe();t=null}e.next(s)})))},i=0;t&&!e.closed&&i<r.length;i++)n(i)}}Zr.raceInit=bd});var gd=d(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.range=void 0;var nw=U(),iw=ke();function ow(r,e,t){if(e==null&&(e=r,r=0),e<=0)return iw.EMPTY;var n=e+r;return new nw.Observable(t?function(i){var o=r;return t.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=r;o<n&&!i.closed;)i.next(o++);i.complete()})}zo.range=ow});var Od=d(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.using=void 0;var sw=U(),aw=R(),uw=ke();function cw(r,e){return new sw.Observable(function(t){var n=r(),i=e(n),o=i?aw.innerFrom(i):uw.EMPTY;return o.subscribe(t),function(){n&&n.unsubscribe()}})}Zo.using=cw});var Go=d(ht=>{"use strict";var lw=ht&&ht.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},fw=ht&&ht.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(ht,"__esModule",{value:!0});ht.zip=void 0;var dw=U(),hw=R(),pw=Zt(),vw=ke(),mw=k(),_w=ae();function yw(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=_w.popResultSelector(r),n=pw.argsOrArgArray(r);return n.length?new dw.Observable(function(i){var o=n.map(function(){return[]}),s=n.map(function(){return!1});i.add(function(){o=s=null});for(var a=function(u){hw.innerFrom(n[u]).subscribe(mw.createOperatorSubscriber(i,function(f){if(o[u].push(f),o.every(function(p){return p.length})){var h=o.map(function(p){return p.shift()});i.next(t?t.apply(void 0,fw([],lw(h))):h),o.some(function(p,_){return!p.length&&s[_]})&&i.complete()}},function(){s[u]=!0,!o[u].length&&i.complete()}))},c=0;!i.closed&&c<n.length;c++)a(c);return function(){o=s=null}}):vw.EMPTY}ht.zip=yw});var wd=d(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0})});var ic=d(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.audit=void 0;var bw=w(),gw=R(),Ed=k();function Ow(r){return bw.operate(function(e,t){var n=!1,i=null,o=null,s=!1,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var u=i;i=null,t.next(u)}s&&t.complete()},c=function(){o=null,s&&t.complete()};e.subscribe(Ed.createOperatorSubscriber(t,function(u){n=!0,i=u,o||gw.innerFrom(r(u)).subscribe(o=Ed.createOperatorSubscriber(t,a,c))},function(){s=!0,(!n||!o||o.closed)&&t.complete()}))})}Ho.audit=Ow});var xd=d(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.auditTime=void 0;var Sw=se(),ww=ic(),Ew=dt();function xw(r,e){return e===void 0&&(e=Sw.asyncScheduler),ww.audit(function(){return Ew.timer(r,e)})}Yo.auditTime=xw});var qd=d(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.buffer=void 0;var kw=w(),qw=J(),kd=k(),Tw=R();function Pw(r){return kw.operate(function(e,t){var n=[];return e.subscribe(kd.createOperatorSubscriber(t,function(i){return n.push(i)},function(){t.next(n),t.complete()})),Tw.innerFrom(r).subscribe(kd.createOperatorSubscriber(t,function(){var i=n;n=[],t.next(i)},qw.noop)),function(){n=null}})}Jo.buffer=Pw});var Td=d(Gr=>{"use strict";var oc=Gr&&Gr.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.bufferCount=void 0;var Cw=w(),Aw=k(),jw=Ve();function Rw(r,e){return e===void 0&&(e=null),e=e!=null?e:r,Cw.operate(function(t,n){var i=[],o=0;t.subscribe(Aw.createOperatorSubscriber(n,function(s){var a,c,u,f,h=null;o++%e===0&&i.push([]);try{for(var p=oc(i),_=p.next();!_.done;_=p.next()){var y=_.value;y.push(s),r<=y.length&&(h=h!=null?h:[],h.push(y))}}catch(x){a={error:x}}finally{try{_&&!_.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}if(h)try{for(var m=oc(h),b=m.next();!b.done;b=m.next()){var y=b.value;jw.arrRemove(i,y),n.next(y)}}catch(x){u={error:x}}finally{try{b&&!b.done&&(f=m.return)&&f.call(m)}finally{if(u)throw u.error}}},function(){var s,a;try{for(var c=oc(i),u=c.next();!u.done;u=c.next()){var f=u.value;n.next(f)}}catch(h){s={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}n.complete()},void 0,function(){i=null}))})}Gr.bufferCount=Rw});var Cd=d(Hr=>{"use strict";var Mw=Hr&&Hr.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.bufferTime=void 0;var Iw=le(),Nw=w(),Fw=k(),Lw=Ve(),Dw=se(),Uw=ae(),Pd=$e();function Bw(r){for(var e,t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=Uw.popScheduler(n))!==null&&e!==void 0?e:Dw.asyncScheduler,s=(t=n[0])!==null&&t!==void 0?t:null,a=n[1]||1/0;return Nw.operate(function(c,u){var f=[],h=!1,p=function(m){var b=m.buffer,x=m.subs;x.unsubscribe(),Lw.arrRemove(f,m),u.next(b),h&&_()},_=function(){if(f){var m=new Iw.Subscription;u.add(m);var b=[],x={buffer:b,subs:m};f.push(x),Pd.executeSchedule(m,o,function(){return p(x)},r)}};s!==null&&s>=0?Pd.executeSchedule(u,o,_,s,!0):h=!0,_();var y=Fw.createOperatorSubscriber(u,function(m){var b,x,j=f.slice();try{for(var O=Mw(j),P=O.next();!P.done;P=O.next()){var V=P.value,B=V.buffer;B.push(m),a<=B.length&&p(V)}}catch(re){b={error:re}}finally{try{P&&!P.done&&(x=O.return)&&x.call(O)}finally{if(b)throw b.error}}},function(){for(;f!=null&&f.length;)u.next(f.shift().buffer);y==null||y.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return f=null});c.subscribe(y)})}Hr.bufferTime=Bw});var Rd=d(Yr=>{"use strict";var Ww=Yr&&Yr.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.bufferToggle=void 0;var Vw=le(),$w=w(),Ad=R(),sc=k(),jd=J(),zw=Ve();function Zw(r,e){return $w.operate(function(t,n){var i=[];Ad.innerFrom(r).subscribe(sc.createOperatorSubscriber(n,function(o){var s=[];i.push(s);var a=new Vw.Subscription,c=function(){zw.arrRemove(i,s),n.next(s),a.unsubscribe()};a.add(Ad.innerFrom(e(o)).subscribe(sc.createOperatorSubscriber(n,c,jd.noop)))},jd.noop)),t.subscribe(sc.createOperatorSubscriber(n,function(o){var s,a;try{for(var c=Ww(i),u=c.next();!u.done;u=c.next()){var f=u.value;f.push(o)}}catch(h){s={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}Yr.bufferToggle=Zw});var Id=d(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.bufferWhen=void 0;var Gw=w(),Hw=J(),Md=k(),Yw=R();function Jw(r){return Gw.operate(function(e,t){var n=null,i=null,o=function(){i==null||i.unsubscribe();var s=n;n=[],s&&t.next(s),Yw.innerFrom(r()).subscribe(i=Md.createOperatorSubscriber(t,o,Hw.noop))};o(),e.subscribe(Md.createOperatorSubscriber(t,function(s){return n==null?void 0:n.push(s)},function(){n&&t.next(n),t.complete()},void 0,function(){return n=i=null}))})}Ko.bufferWhen=Jw});var Fd=d(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.catchError=void 0;var Kw=R(),Xw=k(),Qw=w();function Nd(r){return Qw.operate(function(e,t){var n=null,i=!1,o;n=e.subscribe(Xw.createOperatorSubscriber(t,void 0,void 0,function(s){o=Kw.innerFrom(r(s,Nd(r)(e))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}Xo.catchError=Nd});var ac=d(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.scanInternals=void 0;var eE=k();function tE(r,e,t,n,i){return function(o,s){var a=t,c=e,u=0;o.subscribe(eE.createOperatorSubscriber(s,function(f){var h=u++;c=a?r(c,f,h):(a=!0,f),n&&s.next(c)},i&&function(){a&&s.next(c),s.complete()}))}}Qo.scanInternals=tE});var Jr=d(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.reduce=void 0;var rE=ac(),nE=w();function iE(r,e){return nE.operate(rE.scanInternals(r,e,arguments.length>=2,!1,!0))}es.reduce=iE});var uc=d(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.toArray=void 0;var oE=Jr(),sE=w(),aE=function(r,e){return r.push(e),r};function uE(){return sE.operate(function(r,e){oE.reduce(aE,[])(r).subscribe(e)})}ts.toArray=uE});var cc=d(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.joinAllInternals=void 0;var cE=K(),lE=lt(),fE=Tn(),dE=Ge(),hE=uc();function pE(r,e){return fE.pipe(hE.toArray(),dE.mergeMap(function(t){return r(t)}),e?lE.mapOneOrManyArgs(e):cE.identity)}rs.joinAllInternals=pE});var lc=d(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.combineLatestAll=void 0;var vE=wo(),mE=cc();function _E(r){return mE.joinAllInternals(vE.combineLatest,r)}ns.combineLatestAll=_E});var Ld=d(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.combineAll=void 0;var yE=lc();is.combineAll=yE.combineLatestAll});var Wd=d(pt=>{"use strict";var Dd=pt&&pt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Ud=pt&&pt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(pt,"__esModule",{value:!0});pt.combineLatest=void 0;var bE=wo(),gE=w(),OE=Zt(),SE=lt(),wE=Tn(),EE=ae();function Bd(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=EE.popResultSelector(r);return t?wE.pipe(Bd.apply(void 0,Ud([],Dd(r))),SE.mapOneOrManyArgs(t)):gE.operate(function(n,i){bE.combineLatestInit(Ud([n],Dd(OE.argsOrArgArray(r))))(i)})}pt.combineLatest=Bd});var Vd=d(vt=>{"use strict";var xE=vt&&vt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},kE=vt&&vt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(vt,"__esModule",{value:!0});vt.combineLatestWith=void 0;var qE=Wd();function TE(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return qE.combineLatest.apply(void 0,kE([],xE(r)))}vt.combineLatestWith=TE});var fc=d(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.concatMap=void 0;var $d=Ge(),PE=D();function CE(r,e){return PE.isFunction(e)?$d.mergeMap(r,e,1):$d.mergeMap(r,1)}os.concatMap=CE});var Zd=d(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.concatMapTo=void 0;var zd=fc(),AE=D();function jE(r,e){return AE.isFunction(e)?zd.concatMap(function(){return r},e):zd.concatMap(function(){return r})}ss.concatMapTo=jE});var Gd=d(mt=>{"use strict";var RE=mt&&mt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ME=mt&&mt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(mt,"__esModule",{value:!0});mt.concat=void 0;var IE=w(),NE=Po(),FE=ae(),LE=ze();function DE(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=FE.popScheduler(r);return IE.operate(function(n,i){NE.concatAll()(LE.from(ME([n],RE(r)),t)).subscribe(i)})}mt.concat=DE});var Hd=d(_t=>{"use strict";var UE=_t&&_t.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},BE=_t&&_t.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(_t,"__esModule",{value:!0});_t.concatWith=void 0;var WE=Gd();function VE(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return WE.concat.apply(void 0,BE([],UE(r)))}_t.concatWith=VE});var Yd=d(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.fromSubscribable=void 0;var $E=U();function zE(r){return new $E.Observable(function(e){return r.subscribe(e)})}as.fromSubscribable=zE});var cs=d(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.connect=void 0;var ZE=X(),GE=R(),HE=w(),YE=Yd(),JE={connector:function(){return new ZE.Subject}};function KE(r,e){e===void 0&&(e=JE);var t=e.connector;return HE.operate(function(n,i){var o=t();GE.innerFrom(r(YE.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}us.connect=KE});var Jd=d(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.count=void 0;var XE=Jr();function QE(r){return XE.reduce(function(e,t,n){return!r||r(t,n)?e+1:e},0)}ls.count=QE});var Xd=d(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.debounce=void 0;var e1=w(),t1=J(),Kd=k(),r1=R();function n1(r){return e1.operate(function(e,t){var n=!1,i=null,o=null,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var a=i;i=null,t.next(a)}};e.subscribe(Kd.createOperatorSubscriber(t,function(a){o==null||o.unsubscribe(),n=!0,i=a,o=Kd.createOperatorSubscriber(t,s,t1.noop),r1.innerFrom(r(a)).subscribe(o)},function(){s(),t.complete()},void 0,function(){i=o=null}))})}fs.debounce=n1});var Qd=d(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.debounceTime=void 0;var i1=se(),o1=w(),s1=k();function a1(r,e){return e===void 0&&(e=i1.asyncScheduler),o1.operate(function(t,n){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,n.next(u)}};function c(){var u=s+r,f=e.now();if(f<u){i=this.schedule(void 0,u-f),n.add(i);return}a()}t.subscribe(s1.createOperatorSubscriber(n,function(u){o=u,s=e.now(),i||(i=e.schedule(c,r),n.add(i))},function(){a(),n.complete()},void 0,function(){o=i=null}))})}ds.debounceTime=a1});var Ln=d(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.defaultIfEmpty=void 0;var u1=w(),c1=k();function l1(r){return u1.operate(function(e,t){var n=!1;e.subscribe(c1.createOperatorSubscriber(t,function(i){n=!0,t.next(i)},function(){n||t.next(r),t.complete()}))})}hs.defaultIfEmpty=l1});var Dn=d(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.take=void 0;var f1=ke(),d1=w(),h1=k();function p1(r){return r<=0?function(){return f1.EMPTY}:d1.operate(function(e,t){var n=0;e.subscribe(h1.createOperatorSubscriber(t,function(i){++n<=r&&(t.next(i),r<=n&&t.complete())}))})}ps.take=p1});var dc=d(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.ignoreElements=void 0;var v1=w(),m1=k(),_1=J();function y1(){return v1.operate(function(r,e){r.subscribe(m1.createOperatorSubscriber(e,_1.noop))})}vs.ignoreElements=y1});var hc=d(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.mapTo=void 0;var b1=ut();function g1(r){return b1.map(function(){return r})}ms.mapTo=g1});var pc=d(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.delayWhen=void 0;var O1=Nn(),eh=Dn(),S1=dc(),w1=hc(),E1=Ge(),x1=R();function th(r,e){return e?function(t){return O1.concat(e.pipe(eh.take(1),S1.ignoreElements()),t.pipe(th(r)))}:E1.mergeMap(function(t,n){return x1.innerFrom(r(t,n)).pipe(eh.take(1),w1.mapTo(t))})}_s.delayWhen=th});var rh=d(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.delay=void 0;var k1=se(),q1=pc(),T1=dt();function P1(r,e){e===void 0&&(e=k1.asyncScheduler);var t=T1.timer(r,e);return q1.delayWhen(function(){return t})}ys.delay=P1});var nh=d(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.dematerialize=void 0;var C1=so(),A1=w(),j1=k();function R1(){return A1.operate(function(r,e){r.subscribe(j1.createOperatorSubscriber(e,function(t){return C1.observeNotification(t,e)}))})}bs.dematerialize=R1});var oh=d(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.distinct=void 0;var M1=w(),ih=k(),I1=J(),N1=R();function F1(r,e){return M1.operate(function(t,n){var i=new Set;t.subscribe(ih.createOperatorSubscriber(n,function(o){var s=r?r(o):o;i.has(s)||(i.add(s),n.next(o))})),e&&N1.innerFrom(e).subscribe(ih.createOperatorSubscriber(n,function(){return i.clear()},I1.noop))})}gs.distinct=F1});var vc=d(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.distinctUntilChanged=void 0;var L1=K(),D1=w(),U1=k();function B1(r,e){return e===void 0&&(e=L1.identity),r=r!=null?r:W1,D1.operate(function(t,n){var i,o=!0;t.subscribe(U1.createOperatorSubscriber(n,function(s){var a=e(s);(o||!r(i,a))&&(o=!1,i=a,n.next(s))}))})}Os.distinctUntilChanged=B1;function W1(r,e){return r===e}});var sh=d(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.distinctUntilKeyChanged=void 0;var V1=vc();function $1(r,e){return V1.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}Ss.distinctUntilKeyChanged=$1});var Un=d(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.throwIfEmpty=void 0;var z1=at(),Z1=w(),G1=k();function H1(r){return r===void 0&&(r=Y1),Z1.operate(function(e,t){var n=!1;e.subscribe(G1.createOperatorSubscriber(t,function(i){n=!0,t.next(i)},function(){return n?t.complete():t.error(r())}))})}ws.throwIfEmpty=H1;function Y1(){return new z1.EmptyError}});var uh=d(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.elementAt=void 0;var ah=Zu(),J1=Gt(),K1=Un(),X1=Ln(),Q1=Dn();function ex(r,e){if(r<0)throw new ah.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(J1.filter(function(i,o){return o===r}),Q1.take(1),t?X1.defaultIfEmpty(e):K1.throwIfEmpty(function(){return new ah.ArgumentOutOfRangeError}))}}Es.elementAt=ex});var ch=d(yt=>{"use strict";var tx=yt&&yt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},rx=yt&&yt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(yt,"__esModule",{value:!0});yt.endWith=void 0;var nx=Nn(),ix=io();function ox(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return nx.concat(t,ix.of.apply(void 0,rx([],tx(r))))}}yt.endWith=ox});var lh=d(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.every=void 0;var sx=w(),ax=k();function ux(r,e){return sx.operate(function(t,n){var i=0;t.subscribe(ax.createOperatorSubscriber(n,function(o){r.call(e,o,i++,t)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}xs.every=ux});var mc=d(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.exhaustMap=void 0;var cx=ut(),fh=R(),lx=w(),dh=k();function hh(r,e){return e?function(t){return t.pipe(hh(function(n,i){return fh.innerFrom(r(n,i)).pipe(cx.map(function(o,s){return e(n,o,i,s)}))}))}:lx.operate(function(t,n){var i=0,o=null,s=!1;t.subscribe(dh.createOperatorSubscriber(n,function(a){o||(o=dh.createOperatorSubscriber(n,void 0,function(){o=null,s&&n.complete()}),fh.innerFrom(r(a,i++)).subscribe(o))},function(){s=!0,!o&&n.complete()}))})}ks.exhaustMap=hh});var _c=d(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.exhaustAll=void 0;var fx=mc(),dx=K();function hx(){return fx.exhaustMap(dx.identity)}qs.exhaustAll=hx});var ph=d(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.exhaust=void 0;var px=_c();Ts.exhaust=px.exhaustAll});var vh=d(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.expand=void 0;var vx=w(),mx=xo();function _x(r,e,t){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,vx.operate(function(n,i){return mx.mergeInternals(n,i,r,e,void 0,!0,t)})}Ps.expand=_x});var mh=d(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.finalize=void 0;var yx=w();function bx(r){return yx.operate(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}Cs.finalize=bx});var yc=d(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.createFind=Kr.find=void 0;var gx=w(),Ox=k();function Sx(r,e){return gx.operate(_h(r,e,"value"))}Kr.find=Sx;function _h(r,e,t){var n=t==="index";return function(i,o){var s=0;i.subscribe(Ox.createOperatorSubscriber(o,function(a){var c=s++;r.call(e,a,c,i)&&(o.next(n?c:a),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}Kr.createFind=_h});var yh=d(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.findIndex=void 0;var wx=w(),Ex=yc();function xx(r,e){return wx.operate(Ex.createFind(r,e,"index"))}As.findIndex=xx});var bh=d(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.first=void 0;var kx=at(),qx=Gt(),Tx=Dn(),Px=Ln(),Cx=Un(),Ax=K();function jx(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?qx.filter(function(i,o){return r(i,o,n)}):Ax.identity,Tx.take(1),t?Px.defaultIfEmpty(e):Cx.throwIfEmpty(function(){return new kx.EmptyError}))}}js.first=jx});var Oh=d(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.groupBy=void 0;var Rx=U(),Mx=R(),Ix=X(),Nx=w(),gh=k();function Fx(r,e,t,n){return Nx.operate(function(i,o){var s;!e||typeof e=="function"?s=e:(t=e.duration,s=e.element,n=e.connector);var a=new Map,c=function(y){a.forEach(y),y(o)},u=function(y){return c(function(m){return m.error(y)})},f=0,h=!1,p=new gh.OperatorSubscriber(o,function(y){try{var m=r(y),b=a.get(m);if(!b){a.set(m,b=n?n():new Ix.Subject);var x=_(m,b);if(o.next(x),t){var j=gh.createOperatorSubscriber(b,function(){b.complete(),j==null||j.unsubscribe()},void 0,void 0,function(){return a.delete(m)});p.add(Mx.innerFrom(t(x)).subscribe(j))}}b.next(s?s(y):y)}catch(O){u(O)}},function(){return c(function(y){return y.complete()})},u,function(){return a.clear()},function(){return h=!0,f===0});i.subscribe(p);function _(y,m){var b=new Rx.Observable(function(x){f++;var j=m.subscribe(x);return function(){j.unsubscribe(),--f===0&&h&&p.unsubscribe()}});return b.key=y,b}})}Rs.groupBy=Fx});var Sh=d(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.isEmpty=void 0;var Lx=w(),Dx=k();function Ux(){return Lx.operate(function(r,e){r.subscribe(Dx.createOperatorSubscriber(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}Ms.isEmpty=Ux});var bc=d(Xr=>{"use strict";var Bx=Xr&&Xr.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.takeLast=void 0;var Wx=ke(),Vx=w(),$x=k();function zx(r){return r<=0?function(){return Wx.EMPTY}:Vx.operate(function(e,t){var n=[];e.subscribe($x.createOperatorSubscriber(t,function(i){n.push(i),r<n.length&&n.shift()},function(){var i,o;try{for(var s=Bx(n),a=s.next();!a.done;a=s.next()){var c=a.value;t.next(c)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}t.complete()},void 0,function(){n=null}))})}Xr.takeLast=zx});var wh=d(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.last=void 0;var Zx=at(),Gx=Gt(),Hx=bc(),Yx=Un(),Jx=Ln(),Kx=K();function Xx(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?Gx.filter(function(i,o){return r(i,o,n)}):Kx.identity,Hx.takeLast(1),t?Jx.defaultIfEmpty(e):Yx.throwIfEmpty(function(){return new Zx.EmptyError}))}}Is.last=Xx});var Eh=d(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.materialize=void 0;var gc=so(),Qx=w(),ek=k();function tk(){return Qx.operate(function(r,e){r.subscribe(ek.createOperatorSubscriber(e,function(t){e.next(gc.Notification.createNext(t))},function(){e.next(gc.Notification.createComplete()),e.complete()},function(t){e.next(gc.Notification.createError(t)),e.complete()}))})}Ns.materialize=tk});var xh=d(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.max=void 0;var rk=Jr(),nk=D();function ik(r){return rk.reduce(nk.isFunction(r)?function(e,t){return r(e,t)>0?e:t}:function(e,t){return e>t?e:t})}Fs.max=ik});var kh=d(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.flatMap=void 0;var ok=Ge();Ls.flatMap=ok.mergeMap});var Th=d(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.mergeMapTo=void 0;var qh=Ge(),sk=D();function ak(r,e,t){return t===void 0&&(t=1/0),sk.isFunction(e)?qh.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),qh.mergeMap(function(){return r},t))}Ds.mergeMapTo=ak});var Ph=d(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.mergeScan=void 0;var uk=w(),ck=xo();function lk(r,e,t){return t===void 0&&(t=1/0),uk.operate(function(n,i){var o=e;return ck.mergeInternals(n,i,function(s,a){return r(o,s,a)},t,function(s){o=s},!1,void 0,function(){return o=null})})}Us.mergeScan=lk});var Ah=d(bt=>{"use strict";var fk=bt&&bt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},dk=bt&&bt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(bt,"__esModule",{value:!0});bt.merge=void 0;var hk=w(),pk=Zt(),vk=In(),Ch=ae(),mk=ze();function _k(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ch.popScheduler(r),n=Ch.popNumber(r,1/0);return r=pk.argsOrArgArray(r),hk.operate(function(i,o){vk.mergeAll(n)(mk.from(dk([i],fk(r)),t)).subscribe(o)})}bt.merge=_k});var jh=d(gt=>{"use strict";var yk=gt&&gt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},bk=gt&&gt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(gt,"__esModule",{value:!0});gt.mergeWith=void 0;var gk=Ah();function Ok(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return gk.merge.apply(void 0,bk([],yk(r)))}gt.mergeWith=Ok});var Rh=d(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.min=void 0;var Sk=Jr(),wk=D();function Ek(r){return Sk.reduce(wk.isFunction(r)?function(e,t){return r(e,t)<0?e:t}:function(e,t){return e<t?e:t})}Bs.min=Ek});var Vs=d(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.multicast=void 0;var xk=Pn(),Mh=D(),kk=cs();function qk(r,e){var t=Mh.isFunction(r)?r:function(){return r};return Mh.isFunction(e)?kk.connect(e,{connector:t}):function(n){return new xk.ConnectableObservable(n,t)}}Ws.multicast=qk});var Nh=d(Fe=>{"use strict";var Tk=Fe&&Fe.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Pk=Fe&&Fe.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.onErrorResumeNext=Fe.onErrorResumeNextWith=void 0;var Ck=Zt(),Ak=rc();function Ih(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ck.argsOrArgArray(r);return function(n){return Ak.onErrorResumeNext.apply(void 0,Pk([n],Tk(t)))}}Fe.onErrorResumeNextWith=Ih;Fe.onErrorResumeNext=Ih});var Fh=d($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.pairwise=void 0;var jk=w(),Rk=k();function Mk(){return jk.operate(function(r,e){var t,n=!1;r.subscribe(Rk.createOperatorSubscriber(e,function(i){var o=t;t=i,n&&e.next([o,i]),n=!0}))})}$s.pairwise=Mk});var Lh=d(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.pluck=void 0;var Ik=ut();function Nk(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return Ik.map(function(n){for(var i=n,o=0;o<t;o++){var s=i==null?void 0:i[r[o]];if(typeof s!="undefined")i=s;else return}return i})}zs.pluck=Nk});var Dh=d(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.publish=void 0;var Fk=X(),Lk=Vs(),Dk=cs();function Uk(r){return r?function(e){return Dk.connect(r)(e)}:function(e){return Lk.multicast(new Fk.Subject)(e)}}Zs.publish=Uk});var Uh=d(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.publishBehavior=void 0;var Bk=Pu(),Wk=Pn();function Vk(r){return function(e){var t=new Bk.BehaviorSubject(r);return new Wk.ConnectableObservable(e,function(){return t})}}Gs.publishBehavior=Vk});var Bh=d(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.publishLast=void 0;var $k=Mi(),zk=Pn();function Zk(){return function(r){var e=new $k.AsyncSubject;return new zk.ConnectableObservable(r,function(){return e})}}Hs.publishLast=Zk});var Vh=d(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.publishReplay=void 0;var Gk=Ri(),Hk=Vs(),Wh=D();function Yk(r,e,t,n){t&&!Wh.isFunction(t)&&(n=t);var i=Wh.isFunction(t)?t:void 0;return function(o){return Hk.multicast(new Gk.ReplaySubject(r,e,n),i)(o)}}Ys.publishReplay=Yk});var $h=d(Ot=>{"use strict";var Jk=Ot&&Ot.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Kk=Ot&&Ot.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.raceWith=void 0;var Xk=nc(),Qk=w(),eq=K();function tq(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length?Qk.operate(function(t,n){Xk.raceInit(Kk([t],Jk(r)))(n)}):eq.identity}Ot.raceWith=tq});var Zh=d(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.repeat=void 0;var rq=ke(),nq=w(),zh=k(),iq=R(),oq=dt();function sq(r){var e,t=1/0,n;return r!=null&&(typeof r=="object"?(e=r.count,t=e===void 0?1/0:e,n=r.delay):t=r),t<=0?function(){return rq.EMPTY}:nq.operate(function(i,o){var s=0,a,c=function(){if(a==null||a.unsubscribe(),a=null,n!=null){var f=typeof n=="number"?oq.timer(n):iq.innerFrom(n(s)),h=zh.createOperatorSubscriber(o,function(){h.unsubscribe(),u()});f.subscribe(h)}else u()},u=function(){var f=!1;a=i.subscribe(zh.createOperatorSubscriber(o,void 0,function(){++s<t?a?c():f=!0:o.complete()})),f&&c()};u()})}Js.repeat=sq});var Hh=d(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.repeatWhen=void 0;var aq=R(),uq=X(),cq=w(),Gh=k();function lq(r){return cq.operate(function(e,t){var n,i=!1,o,s=!1,a=!1,c=function(){return a&&s&&(t.complete(),!0)},u=function(){return o||(o=new uq.Subject,aq.innerFrom(r(o)).subscribe(Gh.createOperatorSubscriber(t,function(){n?f():i=!0},function(){s=!0,c()}))),o},f=function(){a=!1,n=e.subscribe(Gh.createOperatorSubscriber(t,void 0,function(){a=!0,!c()&&u().next()})),i&&(n.unsubscribe(),n=null,i=!1,f())};f()})}Ks.repeatWhen=lq});var Jh=d(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.retry=void 0;var fq=w(),Yh=k(),dq=K(),hq=dt(),pq=R();function vq(r){r===void 0&&(r=1/0);var e;r&&typeof r=="object"?e=r:e={count:r};var t=e.count,n=t===void 0?1/0:t,i=e.delay,o=e.resetOnSuccess,s=o===void 0?!1:o;return n<=0?dq.identity:fq.operate(function(a,c){var u=0,f,h=function(){var p=!1;f=a.subscribe(Yh.createOperatorSubscriber(c,function(_){s&&(u=0),c.next(_)},void 0,function(_){if(u++<n){var y=function(){f?(f.unsubscribe(),f=null,h()):p=!0};if(i!=null){var m=typeof i=="number"?hq.timer(i):pq.innerFrom(i(_,u)),b=Yh.createOperatorSubscriber(c,function(){b.unsubscribe(),y()},function(){c.complete()});m.subscribe(b)}else y()}else c.error(_)})),p&&(f.unsubscribe(),f=null,h())};h()})}Xs.retry=vq});var Xh=d(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.retryWhen=void 0;var mq=R(),_q=X(),yq=w(),Kh=k();function bq(r){return yq.operate(function(e,t){var n,i=!1,o,s=function(){n=e.subscribe(Kh.createOperatorSubscriber(t,void 0,void 0,function(a){o||(o=new _q.Subject,mq.innerFrom(r(o)).subscribe(Kh.createOperatorSubscriber(t,function(){return n?s():i=!0}))),o&&o.next(a)})),i&&(n.unsubscribe(),n=null,i=!1,s())};s()})}Qs.retryWhen=bq});var Oc=d(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.sample=void 0;var gq=R(),Oq=w(),Sq=J(),Qh=k();function wq(r){return Oq.operate(function(e,t){var n=!1,i=null;e.subscribe(Qh.createOperatorSubscriber(t,function(o){n=!0,i=o})),gq.innerFrom(r).subscribe(Qh.createOperatorSubscriber(t,function(){if(n){n=!1;var o=i;i=null,t.next(o)}},Sq.noop))})}ea.sample=wq});var ep=d(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.sampleTime=void 0;var Eq=se(),xq=Oc(),kq=ec();function qq(r,e){return e===void 0&&(e=Eq.asyncScheduler),xq.sample(kq.interval(r,e))}ta.sampleTime=qq});var tp=d(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.scan=void 0;var Tq=w(),Pq=ac();function Cq(r,e){return Tq.operate(Pq.scanInternals(r,e,arguments.length>=2,!0))}ra.scan=Cq});var np=d(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.sequenceEqual=void 0;var Aq=w(),jq=k(),Rq=R();function Mq(r,e){return e===void 0&&(e=function(t,n){return t===n}),Aq.operate(function(t,n){var i=rp(),o=rp(),s=function(c){n.next(c),n.complete()},a=function(c,u){var f=jq.createOperatorSubscriber(n,function(h){var p=u.buffer,_=u.complete;p.length===0?_?s(!1):c.buffer.push(h):!e(h,p.shift())&&s(!1)},function(){c.complete=!0;var h=u.complete,p=u.buffer;h&&s(p.length===0),f==null||f.unsubscribe()});return f};t.subscribe(a(i,o)),Rq.innerFrom(r).subscribe(a(o,i))})}na.sequenceEqual=Mq;function rp(){return{buffer:[],complete:!1}}});var wc=d(St=>{"use strict";var Iq=St&&St.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Nq=St&&St.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(St,"__esModule",{value:!0});St.share=void 0;var ip=R(),Fq=X(),op=Or(),Lq=w();function Dq(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new Fq.Subject}:e,n=r.resetOnError,i=n===void 0?!0:n,o=r.resetOnComplete,s=o===void 0?!0:o,a=r.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var f,h,p,_=0,y=!1,m=!1,b=function(){h==null||h.unsubscribe(),h=void 0},x=function(){b(),f=p=void 0,y=m=!1},j=function(){var O=f;x(),O==null||O.unsubscribe()};return Lq.operate(function(O,P){_++,!m&&!y&&b();var V=p=p!=null?p:t();P.add(function(){_--,_===0&&!m&&!y&&(h=Sc(j,c))}),V.subscribe(P),!f&&_>0&&(f=new op.SafeSubscriber({next:function(B){return V.next(B)},error:function(B){m=!0,b(),h=Sc(x,i,B),V.error(B)},complete:function(){y=!0,b(),h=Sc(x,s),V.complete()}}),ip.innerFrom(O).subscribe(f))})(u)}}St.share=Dq;function Sc(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var i=new op.SafeSubscriber({next:function(){i.unsubscribe(),r()}});return ip.innerFrom(e.apply(void 0,Nq([],Iq(t)))).subscribe(i)}}});var sp=d(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.shareReplay=void 0;var Uq=Ri(),Bq=wc();function Wq(r,e,t){var n,i,o,s,a=!1;return r&&typeof r=="object"?(n=r.bufferSize,s=n===void 0?1/0:n,i=r.windowTime,e=i===void 0?1/0:i,o=r.refCount,a=o===void 0?!1:o,t=r.scheduler):s=r!=null?r:1/0,Bq.share({connector:function(){return new Uq.ReplaySubject(s,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}ia.shareReplay=Wq});var ap=d(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.single=void 0;var Vq=at(),$q=Hu(),zq=Gu(),Zq=w(),Gq=k();function Hq(r){return Zq.operate(function(e,t){var n=!1,i,o=!1,s=0;e.subscribe(Gq.createOperatorSubscriber(t,function(a){o=!0,(!r||r(a,s++,e))&&(n&&t.error(new $q.SequenceError("Too many matching values")),n=!0,i=a)},function(){n?(t.next(i),t.complete()):t.error(o?new zq.NotFoundError("No matching values"):new Vq.EmptyError)}))})}oa.single=Hq});var up=d(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.skip=void 0;var Yq=Gt();function Jq(r){return Yq.filter(function(e,t){return r<=t})}sa.skip=Jq});var cp=d(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.skipLast=void 0;var Kq=K(),Xq=w(),Qq=k();function eT(r){return r<=0?Kq.identity:Xq.operate(function(e,t){var n=new Array(r),i=0;return e.subscribe(Qq.createOperatorSubscriber(t,function(o){var s=i++;if(s<r)n[s]=o;else{var a=s%r,c=n[a];n[a]=o,t.next(c)}})),function(){n=null}})}aa.skipLast=eT});var fp=d(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.skipUntil=void 0;var tT=w(),lp=k(),rT=R(),nT=J();function iT(r){return tT.operate(function(e,t){var n=!1,i=lp.createOperatorSubscriber(t,function(){i==null||i.unsubscribe(),n=!0},nT.noop);rT.innerFrom(r).subscribe(i),e.subscribe(lp.createOperatorSubscriber(t,function(o){return n&&t.next(o)}))})}ua.skipUntil=iT});var dp=d(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.skipWhile=void 0;var oT=w(),sT=k();function aT(r){return oT.operate(function(e,t){var n=!1,i=0;e.subscribe(sT.createOperatorSubscriber(t,function(o){return(n||(n=!r(o,i++)))&&t.next(o)}))})}ca.skipWhile=aT});var pp=d(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.startWith=void 0;var hp=Nn(),uT=ae(),cT=w();function lT(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=uT.popScheduler(r);return cT.operate(function(n,i){(t?hp.concat(r,n,t):hp.concat(r,n)).subscribe(i)})}la.startWith=lT});var Bn=d(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.switchMap=void 0;var fT=R(),dT=w(),vp=k();function hT(r,e){return dT.operate(function(t,n){var i=null,o=0,s=!1,a=function(){return s&&!i&&n.complete()};t.subscribe(vp.createOperatorSubscriber(n,function(c){i==null||i.unsubscribe();var u=0,f=o++;fT.innerFrom(r(c,f)).subscribe(i=vp.createOperatorSubscriber(n,function(h){return n.next(e?e(c,h,f,u++):h)},function(){i=null,a()}))},function(){s=!0,a()}))})}fa.switchMap=hT});var mp=d(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.switchAll=void 0;var pT=Bn(),vT=K();function mT(){return pT.switchMap(vT.identity)}da.switchAll=mT});var yp=d(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.switchMapTo=void 0;var _p=Bn(),_T=D();function yT(r,e){return _T.isFunction(e)?_p.switchMap(function(){return r},e):_p.switchMap(function(){return r})}ha.switchMapTo=yT});var bp=d(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.switchScan=void 0;var bT=Bn(),gT=w();function OT(r,e){return gT.operate(function(t,n){var i=e;return bT.switchMap(function(o,s){return r(i,o,s)},function(o,s){return i=s,s})(t).subscribe(n),function(){i=null}})}pa.switchScan=OT});var gp=d(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.takeUntil=void 0;var ST=w(),wT=k(),ET=R(),xT=J();function kT(r){return ST.operate(function(e,t){ET.innerFrom(r).subscribe(wT.createOperatorSubscriber(t,function(){return t.complete()},xT.noop)),!t.closed&&e.subscribe(t)})}va.takeUntil=kT});var Op=d(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.takeWhile=void 0;var qT=w(),TT=k();function PT(r,e){return e===void 0&&(e=!1),qT.operate(function(t,n){var i=0;t.subscribe(TT.createOperatorSubscriber(n,function(o){var s=r(o,i++);(s||e)&&n.next(o),!s&&n.complete()}))})}ma.takeWhile=PT});var Sp=d(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.tap=void 0;var CT=D(),AT=w(),jT=k(),RT=K();function MT(r,e,t){var n=CT.isFunction(r)||e||t?{next:r,error:e,complete:t}:r;return n?AT.operate(function(i,o){var s;(s=n.subscribe)===null||s===void 0||s.call(n);var a=!0;i.subscribe(jT.createOperatorSubscriber(o,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):RT.identity}_a.tap=MT});var Ec=d(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.throttle=void 0;var IT=w(),wp=k(),NT=R();function FT(r,e){return IT.operate(function(t,n){var i=e!=null?e:{},o=i.leading,s=o===void 0?!0:o,a=i.trailing,c=a===void 0?!1:a,u=!1,f=null,h=null,p=!1,_=function(){h==null||h.unsubscribe(),h=null,c&&(b(),p&&n.complete())},y=function(){h=null,p&&n.complete()},m=function(x){return h=NT.innerFrom(r(x)).subscribe(wp.createOperatorSubscriber(n,_,y))},b=function(){if(u){u=!1;var x=f;f=null,n.next(x),!p&&m(x)}};t.subscribe(wp.createOperatorSubscriber(n,function(x){u=!0,f=x,!(h&&!h.closed)&&(s?b():m(x))},function(){p=!0,!(c&&u&&h&&!h.closed)&&n.complete()}))})}ya.throttle=FT});var Ep=d(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.throttleTime=void 0;var LT=se(),DT=Ec(),UT=dt();function BT(r,e,t){e===void 0&&(e=LT.asyncScheduler);var n=UT.timer(r,e);return DT.throttle(function(){return n},t)}ba.throttleTime=BT});var kp=d(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.TimeInterval=Qr.timeInterval=void 0;var WT=se(),VT=w(),$T=k();function zT(r){return r===void 0&&(r=WT.asyncScheduler),VT.operate(function(e,t){var n=r.now();e.subscribe($T.createOperatorSubscriber(t,function(i){var o=r.now(),s=o-n;n=o,t.next(new xp(i,s))}))})}Qr.timeInterval=zT;var xp=function(){function r(e,t){this.value=e,this.interval=t}return r}();Qr.TimeInterval=xp});var qp=d(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.timeoutWith=void 0;var ZT=se(),GT=mo(),HT=_o();function YT(r,e,t){var n,i,o;if(t=t!=null?t:ZT.async,GT.isValidDate(r)?n=r:typeof r=="number"&&(i=r),e)o=function(){return e};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return HT.timeout({first:n,each:i,scheduler:t,with:o})}ga.timeoutWith=YT});var Tp=d(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.timestamp=void 0;var JT=ji(),KT=ut();function XT(r){return r===void 0&&(r=JT.dateTimestampProvider),KT.map(function(e){return{value:e,timestamp:r.now()}})}Oa.timestamp=XT});var Ap=d(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.window=void 0;var Pp=X(),QT=w(),Cp=k(),eP=J(),tP=R();function rP(r){return QT.operate(function(e,t){var n=new Pp.Subject;t.next(n.asObservable());var i=function(o){n.error(o),t.error(o)};return e.subscribe(Cp.createOperatorSubscriber(t,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),t.complete()},i)),tP.innerFrom(r).subscribe(Cp.createOperatorSubscriber(t,function(){n.complete(),t.next(n=new Pp.Subject)},eP.noop,i)),function(){n==null||n.unsubscribe(),n=null}})}Sa.window=rP});var Rp=d(en=>{"use strict";var nP=en&&en.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(en,"__esModule",{value:!0});en.windowCount=void 0;var jp=X(),iP=w(),oP=k();function sP(r,e){e===void 0&&(e=0);var t=e>0?e:r;return iP.operate(function(n,i){var o=[new jp.Subject],s=[],a=0;i.next(o[0].asObservable()),n.subscribe(oP.createOperatorSubscriber(i,function(c){var u,f;try{for(var h=nP(o),p=h.next();!p.done;p=h.next()){var _=p.value;_.next(c)}}catch(b){u={error:b}}finally{try{p&&!p.done&&(f=h.return)&&f.call(h)}finally{if(u)throw u.error}}var y=a-r+1;if(y>=0&&y%t===0&&o.shift().complete(),++a%t===0){var m=new jp.Subject;o.push(m),i.next(m.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(c){for(;o.length>0;)o.shift().error(c);i.error(c)},function(){s=null,o=null}))})}en.windowCount=sP});var Ip=d(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.windowTime=void 0;var aP=X(),uP=se(),cP=le(),lP=w(),fP=k(),dP=Ve(),hP=ae(),Mp=$e();function pP(r){for(var e,t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=hP.popScheduler(n))!==null&&e!==void 0?e:uP.asyncScheduler,s=(t=n[0])!==null&&t!==void 0?t:null,a=n[1]||1/0;return lP.operate(function(c,u){var f=[],h=!1,p=function(b){var x=b.window,j=b.subs;x.complete(),j.unsubscribe(),dP.arrRemove(f,b),h&&_()},_=function(){if(f){var b=new cP.Subscription;u.add(b);var x=new aP.Subject,j={window:x,subs:b,seen:0};f.push(j),u.next(x.asObservable()),Mp.executeSchedule(b,o,function(){return p(j)},r)}};s!==null&&s>=0?Mp.executeSchedule(u,o,_,s,!0):h=!0,_();var y=function(b){return f.slice().forEach(b)},m=function(b){y(function(x){var j=x.window;return b(j)}),b(u),u.unsubscribe()};return c.subscribe(fP.createOperatorSubscriber(u,function(b){y(function(x){x.window.next(b),a<=++x.seen&&p(x)})},function(){return m(function(b){return b.complete()})},function(b){return m(function(x){return x.error(b)})})),function(){f=null}})}wa.windowTime=pP});var Lp=d(tn=>{"use strict";var vP=tn&&tn.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(tn,"__esModule",{value:!0});tn.windowToggle=void 0;var mP=X(),_P=le(),yP=w(),Np=R(),xc=k(),Fp=J(),bP=Ve();function gP(r,e){return yP.operate(function(t,n){var i=[],o=function(s){for(;0<i.length;)i.shift().error(s);n.error(s)};Np.innerFrom(r).subscribe(xc.createOperatorSubscriber(n,function(s){var a=new mP.Subject;i.push(a);var c=new _P.Subscription,u=function(){bP.arrRemove(i,a),a.complete(),c.unsubscribe()},f;try{f=Np.innerFrom(e(s))}catch(h){o(h);return}n.next(a.asObservable()),c.add(f.subscribe(xc.createOperatorSubscriber(n,u,Fp.noop,o)))},Fp.noop)),t.subscribe(xc.createOperatorSubscriber(n,function(s){var a,c,u=i.slice();try{for(var f=vP(u),h=f.next();!h.done;h=f.next()){var p=h.value;p.next(s)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(a)throw a.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}tn.windowToggle=gP});var Up=d(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.windowWhen=void 0;var OP=X(),SP=w(),Dp=k(),wP=R();function EP(r){return SP.operate(function(e,t){var n,i,o=function(a){n.error(a),t.error(a)},s=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new OP.Subject,t.next(n.asObservable());var a;try{a=wP.innerFrom(r())}catch(c){o(c);return}a.subscribe(i=Dp.createOperatorSubscriber(t,s,s,o))};s(),e.subscribe(Dp.createOperatorSubscriber(t,function(a){return n.next(a)},function(){n.complete(),t.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}Ea.windowWhen=EP});var $p=d(wt=>{"use strict";var Bp=wt&&wt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Wp=wt&&wt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(wt,"__esModule",{value:!0});wt.withLatestFrom=void 0;var xP=w(),Vp=k(),kP=R(),qP=K(),TP=J(),PP=ae();function CP(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=PP.popResultSelector(r);return xP.operate(function(n,i){for(var o=r.length,s=new Array(o),a=r.map(function(){return!1}),c=!1,u=function(h){kP.innerFrom(r[h]).subscribe(Vp.createOperatorSubscriber(i,function(p){s[h]=p,!c&&!a[h]&&(a[h]=!0,(c=a.every(qP.identity))&&(a=null))},TP.noop))},f=0;f<o;f++)u(f);n.subscribe(Vp.createOperatorSubscriber(i,function(h){if(c){var p=Wp([h],Bp(s));i.next(t?t.apply(void 0,Wp([],Bp(p))):p)}}))})}wt.withLatestFrom=CP});var zp=d(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.zipAll=void 0;var AP=Go(),jP=cc();function RP(r){return jP.joinAllInternals(AP.zip,r)}xa.zipAll=RP});var Zp=d(Et=>{"use strict";var MP=Et&&Et.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},IP=Et&&Et.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(Et,"__esModule",{value:!0});Et.zip=void 0;var NP=Go(),FP=w();function LP(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return FP.operate(function(t,n){NP.zip.apply(void 0,IP([t],MP(r))).subscribe(n)})}Et.zip=LP});var Gp=d(xt=>{"use strict";var DP=xt&&xt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},UP=xt&&xt.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(xt,"__esModule",{value:!0});xt.zipWith=void 0;var BP=Zp();function WP(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return BP.zip.apply(void 0,UP([],DP(r)))}xt.zipWith=WP});var ka=d(l=>{"use strict";var VP=l&&l.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$P=l&&l.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&VP(e,r,t)};Object.defineProperty(l,"__esModule",{value:!0});l.interval=l.iif=l.generate=l.fromEventPattern=l.fromEvent=l.from=l.forkJoin=l.empty=l.defer=l.connectable=l.concat=l.combineLatest=l.bindNodeCallback=l.bindCallback=l.UnsubscriptionError=l.TimeoutError=l.SequenceError=l.ObjectUnsubscribedError=l.NotFoundError=l.EmptyError=l.ArgumentOutOfRangeError=l.firstValueFrom=l.lastValueFrom=l.isObservable=l.identity=l.noop=l.pipe=l.NotificationKind=l.Notification=l.Subscriber=l.Subscription=l.Scheduler=l.VirtualAction=l.VirtualTimeScheduler=l.animationFrameScheduler=l.animationFrame=l.queueScheduler=l.queue=l.asyncScheduler=l.async=l.asapScheduler=l.asap=l.AsyncSubject=l.ReplaySubject=l.BehaviorSubject=l.Subject=l.animationFrames=l.observable=l.ConnectableObservable=l.Observable=void 0;l.filter=l.expand=l.exhaustMap=l.exhaustAll=l.exhaust=l.every=l.endWith=l.elementAt=l.distinctUntilKeyChanged=l.distinctUntilChanged=l.distinct=l.dematerialize=l.delayWhen=l.delay=l.defaultIfEmpty=l.debounceTime=l.debounce=l.count=l.connect=l.concatWith=l.concatMapTo=l.concatMap=l.concatAll=l.combineLatestWith=l.combineLatestAll=l.combineAll=l.catchError=l.bufferWhen=l.bufferToggle=l.bufferTime=l.bufferCount=l.buffer=l.auditTime=l.audit=l.config=l.NEVER=l.EMPTY=l.scheduled=l.zip=l.using=l.timer=l.throwError=l.range=l.race=l.partition=l.pairs=l.onErrorResumeNext=l.of=l.never=l.merge=void 0;l.switchMap=l.switchAll=l.subscribeOn=l.startWith=l.skipWhile=l.skipUntil=l.skipLast=l.skip=l.single=l.shareReplay=l.share=l.sequenceEqual=l.scan=l.sampleTime=l.sample=l.refCount=l.retryWhen=l.retry=l.repeatWhen=l.repeat=l.reduce=l.raceWith=l.publishReplay=l.publishLast=l.publishBehavior=l.publish=l.pluck=l.pairwise=l.onErrorResumeNextWith=l.observeOn=l.multicast=l.min=l.mergeWith=l.mergeScan=l.mergeMapTo=l.mergeMap=l.flatMap=l.mergeAll=l.max=l.materialize=l.mapTo=l.map=l.last=l.isEmpty=l.ignoreElements=l.groupBy=l.first=l.findIndex=l.find=l.finalize=void 0;l.zipWith=l.zipAll=l.withLatestFrom=l.windowWhen=l.windowToggle=l.windowTime=l.windowCount=l.window=l.toArray=l.timestamp=l.timeoutWith=l.timeout=l.timeInterval=l.throwIfEmpty=l.throttleTime=l.throttle=l.tap=l.takeWhile=l.takeUntil=l.takeLast=l.take=l.switchScan=l.switchMapTo=void 0;var zP=U();Object.defineProperty(l,"Observable",{enumerable:!0,get:function(){return zP.Observable}});var ZP=Pn();Object.defineProperty(l,"ConnectableObservable",{enumerable:!0,get:function(){return ZP.ConnectableObservable}});var GP=qn();Object.defineProperty(l,"observable",{enumerable:!0,get:function(){return GP.observable}});var HP=Kl();Object.defineProperty(l,"animationFrames",{enumerable:!0,get:function(){return HP.animationFrames}});var YP=X();Object.defineProperty(l,"Subject",{enumerable:!0,get:function(){return YP.Subject}});var JP=Pu();Object.defineProperty(l,"BehaviorSubject",{enumerable:!0,get:function(){return JP.BehaviorSubject}});var KP=Ri();Object.defineProperty(l,"ReplaySubject",{enumerable:!0,get:function(){return KP.ReplaySubject}});var XP=Mi();Object.defineProperty(l,"AsyncSubject",{enumerable:!0,get:function(){return XP.AsyncSubject}});var Hp=vf();Object.defineProperty(l,"asap",{enumerable:!0,get:function(){return Hp.asap}});Object.defineProperty(l,"asapScheduler",{enumerable:!0,get:function(){return Hp.asapScheduler}});var Yp=se();Object.defineProperty(l,"async",{enumerable:!0,get:function(){return Yp.async}});Object.defineProperty(l,"asyncScheduler",{enumerable:!0,get:function(){return Yp.asyncScheduler}});var Jp=yf();Object.defineProperty(l,"queue",{enumerable:!0,get:function(){return Jp.queue}});Object.defineProperty(l,"queueScheduler",{enumerable:!0,get:function(){return Jp.queueScheduler}});var Kp=Sf();Object.defineProperty(l,"animationFrame",{enumerable:!0,get:function(){return Kp.animationFrame}});Object.defineProperty(l,"animationFrameScheduler",{enumerable:!0,get:function(){return Kp.animationFrameScheduler}});var Xp=xf();Object.defineProperty(l,"VirtualTimeScheduler",{enumerable:!0,get:function(){return Xp.VirtualTimeScheduler}});Object.defineProperty(l,"VirtualAction",{enumerable:!0,get:function(){return Xp.VirtualAction}});var QP=Au();Object.defineProperty(l,"Scheduler",{enumerable:!0,get:function(){return QP.Scheduler}});var eC=le();Object.defineProperty(l,"Subscription",{enumerable:!0,get:function(){return eC.Subscription}});var tC=Or();Object.defineProperty(l,"Subscriber",{enumerable:!0,get:function(){return tC.Subscriber}});var Qp=so();Object.defineProperty(l,"Notification",{enumerable:!0,get:function(){return Qp.Notification}});Object.defineProperty(l,"NotificationKind",{enumerable:!0,get:function(){return Qp.NotificationKind}});var rC=Tn();Object.defineProperty(l,"pipe",{enumerable:!0,get:function(){return rC.pipe}});var nC=J();Object.defineProperty(l,"noop",{enumerable:!0,get:function(){return nC.noop}});var iC=K();Object.defineProperty(l,"identity",{enumerable:!0,get:function(){return iC.identity}});var oC=Wf();Object.defineProperty(l,"isObservable",{enumerable:!0,get:function(){return oC.isObservable}});var sC=Vf();Object.defineProperty(l,"lastValueFrom",{enumerable:!0,get:function(){return sC.lastValueFrom}});var aC=$f();Object.defineProperty(l,"firstValueFrom",{enumerable:!0,get:function(){return aC.firstValueFrom}});var uC=Zu();Object.defineProperty(l,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return uC.ArgumentOutOfRangeError}});var cC=at();Object.defineProperty(l,"EmptyError",{enumerable:!0,get:function(){return cC.EmptyError}});var lC=Gu();Object.defineProperty(l,"NotFoundError",{enumerable:!0,get:function(){return lC.NotFoundError}});var fC=xu();Object.defineProperty(l,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return fC.ObjectUnsubscribedError}});var dC=Hu();Object.defineProperty(l,"SequenceError",{enumerable:!0,get:function(){return dC.SequenceError}});var hC=_o();Object.defineProperty(l,"TimeoutError",{enumerable:!0,get:function(){return hC.TimeoutError}});var pC=du();Object.defineProperty(l,"UnsubscriptionError",{enumerable:!0,get:function(){return pC.UnsubscriptionError}});var vC=Zf();Object.defineProperty(l,"bindCallback",{enumerable:!0,get:function(){return vC.bindCallback}});var mC=Gf();Object.defineProperty(l,"bindNodeCallback",{enumerable:!0,get:function(){return mC.bindNodeCallback}});var _C=wo();Object.defineProperty(l,"combineLatest",{enumerable:!0,get:function(){return _C.combineLatest}});var yC=Nn();Object.defineProperty(l,"concat",{enumerable:!0,get:function(){return yC.concat}});var bC=td();Object.defineProperty(l,"connectable",{enumerable:!0,get:function(){return bC.connectable}});var gC=Fn();Object.defineProperty(l,"defer",{enumerable:!0,get:function(){return gC.defer}});var OC=ke();Object.defineProperty(l,"empty",{enumerable:!0,get:function(){return OC.empty}});var SC=rd();Object.defineProperty(l,"forkJoin",{enumerable:!0,get:function(){return SC.forkJoin}});var wC=ze();Object.defineProperty(l,"from",{enumerable:!0,get:function(){return wC.from}});var EC=id();Object.defineProperty(l,"fromEvent",{enumerable:!0,get:function(){return EC.fromEvent}});var xC=sd();Object.defineProperty(l,"fromEventPattern",{enumerable:!0,get:function(){return xC.fromEventPattern}});var kC=ud();Object.defineProperty(l,"generate",{enumerable:!0,get:function(){return kC.generate}});var qC=cd();Object.defineProperty(l,"iif",{enumerable:!0,get:function(){return qC.iif}});var TC=ec();Object.defineProperty(l,"interval",{enumerable:!0,get:function(){return TC.interval}});var PC=fd();Object.defineProperty(l,"merge",{enumerable:!0,get:function(){return PC.merge}});var CC=tc();Object.defineProperty(l,"never",{enumerable:!0,get:function(){return CC.never}});var AC=io();Object.defineProperty(l,"of",{enumerable:!0,get:function(){return AC.of}});var jC=rc();Object.defineProperty(l,"onErrorResumeNext",{enumerable:!0,get:function(){return jC.onErrorResumeNext}});var RC=hd();Object.defineProperty(l,"pairs",{enumerable:!0,get:function(){return RC.pairs}});var MC=_d();Object.defineProperty(l,"partition",{enumerable:!0,get:function(){return MC.partition}});var IC=nc();Object.defineProperty(l,"race",{enumerable:!0,get:function(){return IC.race}});var NC=gd();Object.defineProperty(l,"range",{enumerable:!0,get:function(){return NC.range}});var FC=zu();Object.defineProperty(l,"throwError",{enumerable:!0,get:function(){return FC.throwError}});var LC=dt();Object.defineProperty(l,"timer",{enumerable:!0,get:function(){return LC.timer}});var DC=Od();Object.defineProperty(l,"using",{enumerable:!0,get:function(){return DC.using}});var UC=Go();Object.defineProperty(l,"zip",{enumerable:!0,get:function(){return UC.zip}});var BC=$u();Object.defineProperty(l,"scheduled",{enumerable:!0,get:function(){return BC.scheduled}});var WC=ke();Object.defineProperty(l,"EMPTY",{enumerable:!0,get:function(){return WC.EMPTY}});var VC=tc();Object.defineProperty(l,"NEVER",{enumerable:!0,get:function(){return VC.NEVER}});$P(wd(),l);var $C=br();Object.defineProperty(l,"config",{enumerable:!0,get:function(){return $C.config}});var zC=ic();Object.defineProperty(l,"audit",{enumerable:!0,get:function(){return zC.audit}});var ZC=xd();Object.defineProperty(l,"auditTime",{enumerable:!0,get:function(){return ZC.auditTime}});var GC=qd();Object.defineProperty(l,"buffer",{enumerable:!0,get:function(){return GC.buffer}});var HC=Td();Object.defineProperty(l,"bufferCount",{enumerable:!0,get:function(){return HC.bufferCount}});var YC=Cd();Object.defineProperty(l,"bufferTime",{enumerable:!0,get:function(){return YC.bufferTime}});var JC=Rd();Object.defineProperty(l,"bufferToggle",{enumerable:!0,get:function(){return JC.bufferToggle}});var KC=Id();Object.defineProperty(l,"bufferWhen",{enumerable:!0,get:function(){return KC.bufferWhen}});var XC=Fd();Object.defineProperty(l,"catchError",{enumerable:!0,get:function(){return XC.catchError}});var QC=Ld();Object.defineProperty(l,"combineAll",{enumerable:!0,get:function(){return QC.combineAll}});var eA=lc();Object.defineProperty(l,"combineLatestAll",{enumerable:!0,get:function(){return eA.combineLatestAll}});var tA=Vd();Object.defineProperty(l,"combineLatestWith",{enumerable:!0,get:function(){return tA.combineLatestWith}});var rA=Po();Object.defineProperty(l,"concatAll",{enumerable:!0,get:function(){return rA.concatAll}});var nA=fc();Object.defineProperty(l,"concatMap",{enumerable:!0,get:function(){return nA.concatMap}});var iA=Zd();Object.defineProperty(l,"concatMapTo",{enumerable:!0,get:function(){return iA.concatMapTo}});var oA=Hd();Object.defineProperty(l,"concatWith",{enumerable:!0,get:function(){return oA.concatWith}});var sA=cs();Object.defineProperty(l,"connect",{enumerable:!0,get:function(){return sA.connect}});var aA=Jd();Object.defineProperty(l,"count",{enumerable:!0,get:function(){return aA.count}});var uA=Xd();Object.defineProperty(l,"debounce",{enumerable:!0,get:function(){return uA.debounce}});var cA=Qd();Object.defineProperty(l,"debounceTime",{enumerable:!0,get:function(){return cA.debounceTime}});var lA=Ln();Object.defineProperty(l,"defaultIfEmpty",{enumerable:!0,get:function(){return lA.defaultIfEmpty}});var fA=rh();Object.defineProperty(l,"delay",{enumerable:!0,get:function(){return fA.delay}});var dA=pc();Object.defineProperty(l,"delayWhen",{enumerable:!0,get:function(){return dA.delayWhen}});var hA=nh();Object.defineProperty(l,"dematerialize",{enumerable:!0,get:function(){return hA.dematerialize}});var pA=oh();Object.defineProperty(l,"distinct",{enumerable:!0,get:function(){return pA.distinct}});var vA=vc();Object.defineProperty(l,"distinctUntilChanged",{enumerable:!0,get:function(){return vA.distinctUntilChanged}});var mA=sh();Object.defineProperty(l,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return mA.distinctUntilKeyChanged}});var _A=uh();Object.defineProperty(l,"elementAt",{enumerable:!0,get:function(){return _A.elementAt}});var yA=ch();Object.defineProperty(l,"endWith",{enumerable:!0,get:function(){return yA.endWith}});var bA=lh();Object.defineProperty(l,"every",{enumerable:!0,get:function(){return bA.every}});var gA=ph();Object.defineProperty(l,"exhaust",{enumerable:!0,get:function(){return gA.exhaust}});var OA=_c();Object.defineProperty(l,"exhaustAll",{enumerable:!0,get:function(){return OA.exhaustAll}});var SA=mc();Object.defineProperty(l,"exhaustMap",{enumerable:!0,get:function(){return SA.exhaustMap}});var wA=vh();Object.defineProperty(l,"expand",{enumerable:!0,get:function(){return wA.expand}});var EA=Gt();Object.defineProperty(l,"filter",{enumerable:!0,get:function(){return EA.filter}});var xA=mh();Object.defineProperty(l,"finalize",{enumerable:!0,get:function(){return xA.finalize}});var kA=yc();Object.defineProperty(l,"find",{enumerable:!0,get:function(){return kA.find}});var qA=yh();Object.defineProperty(l,"findIndex",{enumerable:!0,get:function(){return qA.findIndex}});var TA=bh();Object.defineProperty(l,"first",{enumerable:!0,get:function(){return TA.first}});var PA=Oh();Object.defineProperty(l,"groupBy",{enumerable:!0,get:function(){return PA.groupBy}});var CA=dc();Object.defineProperty(l,"ignoreElements",{enumerable:!0,get:function(){return CA.ignoreElements}});var AA=Sh();Object.defineProperty(l,"isEmpty",{enumerable:!0,get:function(){return AA.isEmpty}});var jA=wh();Object.defineProperty(l,"last",{enumerable:!0,get:function(){return jA.last}});var RA=ut();Object.defineProperty(l,"map",{enumerable:!0,get:function(){return RA.map}});var MA=hc();Object.defineProperty(l,"mapTo",{enumerable:!0,get:function(){return MA.mapTo}});var IA=Eh();Object.defineProperty(l,"materialize",{enumerable:!0,get:function(){return IA.materialize}});var NA=xh();Object.defineProperty(l,"max",{enumerable:!0,get:function(){return NA.max}});var FA=In();Object.defineProperty(l,"mergeAll",{enumerable:!0,get:function(){return FA.mergeAll}});var LA=kh();Object.defineProperty(l,"flatMap",{enumerable:!0,get:function(){return LA.flatMap}});var DA=Ge();Object.defineProperty(l,"mergeMap",{enumerable:!0,get:function(){return DA.mergeMap}});var UA=Th();Object.defineProperty(l,"mergeMapTo",{enumerable:!0,get:function(){return UA.mergeMapTo}});var BA=Ph();Object.defineProperty(l,"mergeScan",{enumerable:!0,get:function(){return BA.mergeScan}});var WA=jh();Object.defineProperty(l,"mergeWith",{enumerable:!0,get:function(){return WA.mergeWith}});var VA=Rh();Object.defineProperty(l,"min",{enumerable:!0,get:function(){return VA.min}});var $A=Vs();Object.defineProperty(l,"multicast",{enumerable:!0,get:function(){return $A.multicast}});var zA=Rn();Object.defineProperty(l,"observeOn",{enumerable:!0,get:function(){return zA.observeOn}});var ZA=Nh();Object.defineProperty(l,"onErrorResumeNextWith",{enumerable:!0,get:function(){return ZA.onErrorResumeNextWith}});var GA=Fh();Object.defineProperty(l,"pairwise",{enumerable:!0,get:function(){return GA.pairwise}});var HA=Lh();Object.defineProperty(l,"pluck",{enumerable:!0,get:function(){return HA.pluck}});var YA=Dh();Object.defineProperty(l,"publish",{enumerable:!0,get:function(){return YA.publish}});var JA=Uh();Object.defineProperty(l,"publishBehavior",{enumerable:!0,get:function(){return JA.publishBehavior}});var KA=Bh();Object.defineProperty(l,"publishLast",{enumerable:!0,get:function(){return KA.publishLast}});var XA=Vh();Object.defineProperty(l,"publishReplay",{enumerable:!0,get:function(){return XA.publishReplay}});var QA=$h();Object.defineProperty(l,"raceWith",{enumerable:!0,get:function(){return QA.raceWith}});var ej=Jr();Object.defineProperty(l,"reduce",{enumerable:!0,get:function(){return ej.reduce}});var tj=Zh();Object.defineProperty(l,"repeat",{enumerable:!0,get:function(){return tj.repeat}});var rj=Hh();Object.defineProperty(l,"repeatWhen",{enumerable:!0,get:function(){return rj.repeatWhen}});var nj=Jh();Object.defineProperty(l,"retry",{enumerable:!0,get:function(){return nj.retry}});var ij=Xh();Object.defineProperty(l,"retryWhen",{enumerable:!0,get:function(){return ij.retryWhen}});var oj=wu();Object.defineProperty(l,"refCount",{enumerable:!0,get:function(){return oj.refCount}});var sj=Oc();Object.defineProperty(l,"sample",{enumerable:!0,get:function(){return sj.sample}});var aj=ep();Object.defineProperty(l,"sampleTime",{enumerable:!0,get:function(){return aj.sampleTime}});var uj=tp();Object.defineProperty(l,"scan",{enumerable:!0,get:function(){return uj.scan}});var cj=np();Object.defineProperty(l,"sequenceEqual",{enumerable:!0,get:function(){return cj.sequenceEqual}});var lj=wc();Object.defineProperty(l,"share",{enumerable:!0,get:function(){return lj.share}});var fj=sp();Object.defineProperty(l,"shareReplay",{enumerable:!0,get:function(){return fj.shareReplay}});var dj=ap();Object.defineProperty(l,"single",{enumerable:!0,get:function(){return dj.single}});var hj=up();Object.defineProperty(l,"skip",{enumerable:!0,get:function(){return hj.skip}});var pj=cp();Object.defineProperty(l,"skipLast",{enumerable:!0,get:function(){return pj.skipLast}});var vj=fp();Object.defineProperty(l,"skipUntil",{enumerable:!0,get:function(){return vj.skipUntil}});var mj=dp();Object.defineProperty(l,"skipWhile",{enumerable:!0,get:function(){return mj.skipWhile}});var _j=pp();Object.defineProperty(l,"startWith",{enumerable:!0,get:function(){return _j.startWith}});var yj=Mn();Object.defineProperty(l,"subscribeOn",{enumerable:!0,get:function(){return yj.subscribeOn}});var bj=mp();Object.defineProperty(l,"switchAll",{enumerable:!0,get:function(){return bj.switchAll}});var gj=Bn();Object.defineProperty(l,"switchMap",{enumerable:!0,get:function(){return gj.switchMap}});var Oj=yp();Object.defineProperty(l,"switchMapTo",{enumerable:!0,get:function(){return Oj.switchMapTo}});var Sj=bp();Object.defineProperty(l,"switchScan",{enumerable:!0,get:function(){return Sj.switchScan}});var wj=Dn();Object.defineProperty(l,"take",{enumerable:!0,get:function(){return wj.take}});var Ej=bc();Object.defineProperty(l,"takeLast",{enumerable:!0,get:function(){return Ej.takeLast}});var xj=gp();Object.defineProperty(l,"takeUntil",{enumerable:!0,get:function(){return xj.takeUntil}});var kj=Op();Object.defineProperty(l,"takeWhile",{enumerable:!0,get:function(){return kj.takeWhile}});var qj=Sp();Object.defineProperty(l,"tap",{enumerable:!0,get:function(){return qj.tap}});var Tj=Ec();Object.defineProperty(l,"throttle",{enumerable:!0,get:function(){return Tj.throttle}});var Pj=Ep();Object.defineProperty(l,"throttleTime",{enumerable:!0,get:function(){return Pj.throttleTime}});var Cj=Un();Object.defineProperty(l,"throwIfEmpty",{enumerable:!0,get:function(){return Cj.throwIfEmpty}});var Aj=kp();Object.defineProperty(l,"timeInterval",{enumerable:!0,get:function(){return Aj.timeInterval}});var jj=_o();Object.defineProperty(l,"timeout",{enumerable:!0,get:function(){return jj.timeout}});var Rj=qp();Object.defineProperty(l,"timeoutWith",{enumerable:!0,get:function(){return Rj.timeoutWith}});var Mj=Tp();Object.defineProperty(l,"timestamp",{enumerable:!0,get:function(){return Mj.timestamp}});var Ij=uc();Object.defineProperty(l,"toArray",{enumerable:!0,get:function(){return Ij.toArray}});var Nj=Ap();Object.defineProperty(l,"window",{enumerable:!0,get:function(){return Nj.window}});var Fj=Rp();Object.defineProperty(l,"windowCount",{enumerable:!0,get:function(){return Fj.windowCount}});var Lj=Ip();Object.defineProperty(l,"windowTime",{enumerable:!0,get:function(){return Lj.windowTime}});var Dj=Lp();Object.defineProperty(l,"windowToggle",{enumerable:!0,get:function(){return Dj.windowToggle}});var Uj=Up();Object.defineProperty(l,"windowWhen",{enumerable:!0,get:function(){return Uj.windowWhen}});var Bj=$p();Object.defineProperty(l,"withLatestFrom",{enumerable:!0,get:function(){return Bj.withLatestFrom}});var Wj=zp();Object.defineProperty(l,"zipAll",{enumerable:!0,get:function(){return Wj.zipAll}});var Vj=Gp();Object.defineProperty(l,"zipWith",{enumerable:!0,get:function(){return Vj.zipWith}})});var tv=d((cU,ev)=>{var rn=1e3,nn=rn*60,on=nn*60,Ht=on*24,$j=Ht*7,zj=Ht*365.25;ev.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Zj(r);if(t==="number"&&isFinite(r))return e.long?Hj(r):Gj(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Zj(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*zj;case"weeks":case"week":case"w":return t*$j;case"days":case"day":case"d":return t*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return t*on;case"minutes":case"minute":case"mins":case"min":case"m":return t*nn;case"seconds":case"second":case"secs":case"sec":case"s":return t*rn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Gj(r){var e=Math.abs(r);return e>=Ht?Math.round(r/Ht)+"d":e>=on?Math.round(r/on)+"h":e>=nn?Math.round(r/nn)+"m":e>=rn?Math.round(r/rn)+"s":r+"ms"}function Hj(r){var e=Math.abs(r);return e>=Ht?qa(r,e,Ht,"day"):e>=on?qa(r,e,on,"hour"):e>=nn?qa(r,e,nn,"minute"):e>=rn?qa(r,e,rn,"second"):r+" ms"}function qa(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var kc=d((lU,rv)=>{function Yj(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=tv(),t.destroy=u,Object.keys(r).forEach(f=>{t[f]=r[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let h=0;for(let p=0;p<f.length;p++)h=(h<<5)-h+f.charCodeAt(p),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(f){let h,p=null,_,y;function m(...b){if(!m.enabled)return;let x=m,j=Number(new Date),O=j-(h||j);x.diff=O,x.prev=h,x.curr=j,h=j,b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let P=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(B,re)=>{if(B==="%%")return"%";P++;let Be=t.formatters[re];if(typeof Be=="function"){let Nt=b[P];B=Be.call(x,Nt),b.splice(P,1),P--}return B}),t.formatArgs.call(x,b),(x.log||t.log).apply(x,b)}return m.namespace=f,m.useColors=t.useColors(),m.color=t.selectColor(f),m.extend=n,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(_!==t.namespaces&&(_=t.namespaces,y=t.enabled(f)),y),set:b=>{p=b}}),typeof t.init=="function"&&t.init(m),m}function n(f,h){let p=t(this.namespace+(typeof h=="undefined"?":":h)+f);return p.log=this.log,p}function i(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let h,p=(typeof f=="string"?f:"").split(/[\s,]+/),_=p.length;for(h=0;h<_;h++)p[h]&&(f=p[h].replace(/\*/g,".*?"),f[0]==="-"?t.skips.push(new RegExp("^"+f.slice(1)+"$")):t.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...t.names.map(a),...t.skips.map(a).map(h=>"-"+h)].join(",");return t.enable(""),f}function s(f){if(f[f.length-1]==="*")return!0;let h,p;for(h=0,p=t.skips.length;h<p;h++)if(t.skips[h].test(f))return!1;for(h=0,p=t.names.length;h<p;h++)if(t.names[h].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}rv.exports=Yj});var nv=d((fe,Ta)=>{fe.formatArgs=Kj;fe.save=Xj;fe.load=Qj;fe.useColors=Jj;fe.storage=eR();fe.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();fe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Jj(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Kj(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Ta.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}fe.log=console.debug||console.log||(()=>{});function Xj(r){try{r?fe.storage.setItem("debug",r):fe.storage.removeItem("debug")}catch(e){}}function Qj(){let r;try{r=fe.storage.getItem("debug")}catch(e){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function eR(){try{return localStorage}catch(r){}}Ta.exports=kc()(fe);var{formatters:tR}=Ta.exports;tR.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ov=d((fU,iv)=>{"use strict";iv.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var uv=d((dU,av)=>{"use strict";var rR=L("os"),sv=L("tty"),be=ov(),{env:H}=process,Pa;be("no-color")||be("no-colors")||be("color=false")||be("color=never")?Pa=0:(be("color")||be("colors")||be("color=true")||be("color=always"))&&(Pa=1);function nR(){if("FORCE_COLOR"in H)return H.FORCE_COLOR==="true"?1:H.FORCE_COLOR==="false"?0:H.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(H.FORCE_COLOR,10),3)}function iR(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function oR(r,{streamIsTTY:e,sniffFlags:t=!0}={}){let n=nR();n!==void 0&&(Pa=n);let i=t?Pa:n;if(i===0)return 0;if(t){if(be("color=16m")||be("color=full")||be("color=truecolor"))return 3;if(be("color=256"))return 2}if(r&&!e&&i===void 0)return 0;let o=i||0;if(H.TERM==="dumb")return o;if(process.platform==="win32"){let s=rR.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in H)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in H)||H.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in H)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(H.TEAMCITY_VERSION)?1:0;if(H.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in H){let s=Number.parseInt((H.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(H.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(H.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(H.TERM)||"COLORTERM"in H?1:o}function qc(r,e={}){let t=oR(r,v({streamIsTTY:r&&r.isTTY},e));return iR(t)}av.exports={supportsColor:qc,stdout:qc({isTTY:sv.isatty(1)}),stderr:qc({isTTY:sv.isatty(2)})}});var lv=d((Y,Aa)=>{var sR=L("tty"),Ca=L("util");Y.init=hR;Y.log=lR;Y.formatArgs=uR;Y.save=fR;Y.load=dR;Y.useColors=aR;Y.destroy=Ca.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Y.colors=[6,2,3,4,5,1];try{let r=uv();r&&(r.stderr||r).level>=2&&(Y.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(r){}Y.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function aR(){return"colors"in Y.inspectOpts?!!Y.inspectOpts.colors:sR.isatty(process.stderr.fd)}function uR(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+Aa.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=cR()+e+" "+r[0]}function cR(){return Y.inspectOpts.hideDate?"":new Date().toISOString()+" "}function lR(...r){return process.stderr.write(Ca.formatWithOptions(Y.inspectOpts,...r)+`
`)}function fR(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function dR(){return process.env.DEBUG}function hR(r){r.inspectOpts={};let e=Object.keys(Y.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Y.inspectOpts[e[t]]}Aa.exports=kc()(Y);var{formatters:cv}=Aa.exports;cv.o=function(r){return this.inspectOpts.colors=this.useColors,Ca.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};cv.O=function(r){return this.inspectOpts.colors=this.useColors,Ca.inspect(r,this.inspectOpts)}});var ge=d((pU,Tc)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Tc.exports=nv():Tc.exports=lv()});var Yt=d(bv=>{bv.Emitter=ne;function ne(r){if(r)return pR(r)}function pR(r){for(var e in ne.prototype)r[e]=ne.prototype[e];return r}ne.prototype.on=ne.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};ne.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};ne.prototype.off=ne.prototype.removeListener=ne.prototype.removeAllListeners=ne.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};ne.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};ne.prototype.emitReserved=ne.prototype.emit;ne.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};ne.prototype.hasListeners=function(r){return!!this.listeners(r).length}});var Av=d((WU,Cv)=>{var un=L("fs"),Pv=L("url"),OR=L("child_process").spawn;Cv.exports=Mc;Mc.XMLHttpRequest=Mc;function Mc(r){"use strict";r=r||{};var e=this,t=L("http"),n=L("https"),i,o,s={},a=!1,c={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},u=Object.assign({},c),f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],h=["TRACE","TRACK","CONNECT"],p=!1,_=!1,y=!1,m={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var b=function(O){return a||O&&f.indexOf(O.toLowerCase())===-1},x=function(O){return O&&h.indexOf(O)===-1};this.open=function(O,P,V,B,re){if(this.abort(),_=!1,y=!1,!x(O))throw new Error("SecurityError: Request method not allowed");s={method:O,url:P.toString(),async:typeof V!="boolean"?!0:V,user:B||null,password:re||null},j(this.OPENED)},this.setDisableHeaderCheck=function(O){a=O},this.setRequestHeader=function(O,P){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!b(O))return console.warn('Refused to set unsafe header "'+O+'"'),!1;if(p)throw new Error("INVALID_STATE_ERR: send flag is true");return u[O]=P,!0},this.getResponseHeader=function(O){return typeof O=="string"&&this.readyState>this.OPENED&&o.headers[O.toLowerCase()]&&!_?o.headers[O.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||_)return"";var O="";for(var P in o.headers)P!=="set-cookie"&&P!=="set-cookie2"&&(O+=P+": "+o.headers[P]+`\r
`);return O.substr(0,O.length-2)},this.getRequestHeader=function(O){return typeof O=="string"&&u[O]?u[O]:""},this.send=function(O){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(p)throw new Error("INVALID_STATE_ERR: send has already been called");var P=!1,V=!1,B=Pv.parse(s.url),re;switch(B.protocol){case"https:":P=!0;case"http:":re=B.hostname;break;case"file:":V=!0;break;case void 0:case"":re="localhost";break;default:throw new Error("Protocol not supported.")}if(V){if(s.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(s.async)un.readFile(unescape(B.pathname),"utf8",function(_e,yr){_e?e.handleError(_e,_e.errno||-1):(e.status=200,e.responseText=yr,j(e.DONE))});else try{this.responseText=un.readFileSync(unescape(B.pathname),"utf8"),this.status=200,j(e.DONE)}catch(_e){this.handleError(_e,_e.errno||-1)}return}var Be=B.port||(P?443:80),Nt=B.pathname+(B.search?B.search:"");if(u.Host=re,P&&Be===443||Be===80||(u.Host+=":"+B.port),s.user){typeof s.password=="undefined"&&(s.password="");var cu=new Buffer(s.user+":"+s.password);u.Authorization="Basic "+cu.toString("base64")}s.method==="GET"||s.method==="HEAD"?O=null:O?(u["Content-Length"]=Buffer.isBuffer(O)?O.length:Buffer.byteLength(O),u["Content-Type"]||(u["Content-Type"]="text/plain;charset=UTF-8")):s.method==="POST"&&(u["Content-Length"]=0);var g_=r.agent||!1,We={host:re,port:Be,path:Nt,method:s.method,headers:u,agent:g_};if(P&&(We.pfx=r.pfx,We.key=r.key,We.passphrase=r.passphrase,We.cert=r.cert,We.ca=r.ca,We.ciphers=r.ciphers,We.rejectUnauthorized=r.rejectUnauthorized!==!1),_=!1,s.async){var Ol=P?n.request:t.request;p=!0,e.dispatchEvent("readystatechange");var Sl=function(_e){if(o=_e,o.statusCode===302||o.statusCode===303||o.statusCode===307){s.url=o.headers.location;var yr=Pv.parse(s.url);re=yr.hostname;var rt={hostname:yr.hostname,port:yr.port,path:yr.path,method:o.statusCode===303?"GET":s.method,headers:u};P&&(rt.pfx=r.pfx,rt.key=r.key,rt.passphrase=r.passphrase,rt.cert=r.cert,rt.ca=r.ca,rt.ciphers=r.ciphers,rt.rejectUnauthorized=r.rejectUnauthorized!==!1),i=Ol(rt,Sl).on("error",wl),i.end();return}o&&o.setEncoding&&o.setEncoding("utf8"),j(e.HEADERS_RECEIVED),e.status=o.statusCode,o.on("data",function(hi){hi&&(e.responseText+=hi),p&&j(e.LOADING)}),o.on("end",function(){p&&(p=!1,j(e.DONE))}),o.on("error",function(hi){e.handleError(hi)})},wl=function(_e){e.handleError(_e)};i=Ol(We,Sl).on("error",wl),r.autoUnref&&i.on("socket",_e=>{_e.unref()}),O&&i.write(O),i.end(),e.dispatchEvent("loadstart")}else{var En=".node-xmlhttprequest-content-"+process.pid,xn=".node-xmlhttprequest-sync-"+process.pid;un.writeFileSync(xn,"","utf8");for(var O_="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(P?"s":"")+".request;var options = "+JSON.stringify(We)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+En+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+xn+"');});response.on('error', function(error) {fs.writeFileSync('"+En+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+xn+"');});}).on('error', function(error) {fs.writeFileSync('"+En+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+xn+"');});"+(O?"req.write('"+JSON.stringify(O).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",S_=OR(process.argv[0],["-e",O_]),XI;un.existsSync(xn););if(e.responseText=un.readFileSync(En,"utf8"),S_.stdin.end(),un.unlinkSync(En),e.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var w_=e.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");e.handleError(w_,503)}else e.status=e.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),e.responseText=e.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),j(e.DONE)}},this.handleError=function(O,P){this.status=P||0,this.statusText=O,this.responseText=O.stack,_=!0,j(this.DONE)},this.abort=function(){i&&(i.abort(),i=null),u=Object.assign({},c),this.responseText="",this.responseXML="",_=y=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||p)&&this.readyState!==this.DONE&&(p=!1,j(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(O,P){O in m||(m[O]=[]),m[O].push(P)},this.removeEventListener=function(O,P){O in m&&(m[O]=m[O].filter(function(V){return V!==P}))},this.dispatchEvent=function(O){if(typeof e["on"+O]=="function"&&(this.readyState===this.DONE?setImmediate(function(){e["on"+O]()}):e["on"+O]()),O in m)for(let P=0,V=m[O].length;P<V;P++)this.readyState===this.DONE?setImmediate(function(){m[O][P].call(e)}):m[O][P].call(e)};var j=function(O){if(!(e.readyState===O||e.readyState===e.UNSENT&&y)&&(e.readyState=O,(s.async||e.readyState<e.OPENED||e.readyState===e.DONE)&&e.dispatchEvent("readystatechange"),e.readyState===e.DONE)){let P;y?P="abort":_?P="error":P="load",e.dispatchEvent(P),e.dispatchEvent("loadend")}}}});var Dv=d((KU,Lv)=>{"use strict";var{Duplex:xR}=L("stream");function Nv(r){r.emit("close")}function kR(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Fv(r){this.removeListener("error",Fv),this.destroy(),this.listenerCount("error")===0&&this.emit("error",r)}function qR(r,e){let t=!0,n=new xR(q(v({},e),{autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1}));return r.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||r.pause()}),r.once("error",function(o){n.destroyed||(t=!1,n.destroy(o))}),r.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(r.readyState===r.CLOSED){o(i),process.nextTick(Nv,n);return}let s=!1;r.once("error",function(c){s=!0,o(c)}),r.once("close",function(){s||o(i),process.nextTick(Nv,n)}),t&&r.terminate()},n._final=function(i){if(r.readyState===r.CONNECTING){r.once("open",function(){n._final(i)});return}r._socket!==null&&(r._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(r._socket.once("finish",function(){i()}),r.close()))},n._read=function(){r.isPaused&&r.resume()},n._write=function(i,o,s){if(r.readyState===r.CONNECTING){r.once("open",function(){n._write(i,o,s)});return}r.send(i,s)},n.on("end",kR),n.on("error",Fv),n}Lv.exports=qR});var Tt=d((QU,Uv)=>{"use strict";Uv.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Zn=d((eB,Da)=>{"use strict";var{EMPTY_BUFFER:TR}=Tt(),Lc=Buffer[Symbol.species];function PR(r,e){if(r.length===0)return TR;if(r.length===1)return r[0];let t=Buffer.allocUnsafe(e),n=0;for(let i=0;i<r.length;i++){let o=r[i];t.set(o,n),n+=o.length}return n<e?new Lc(t.buffer,t.byteOffset,n):t}function Bv(r,e,t,n,i){for(let o=0;o<i;o++)t[n+o]=r[o]^e[o&3]}function Wv(r,e){for(let t=0;t<r.length;t++)r[t]^=e[t&3]}function CR(r){return r.length===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.length)}function Dc(r){if(Dc.readOnly=!0,Buffer.isBuffer(r))return r;let e;return r instanceof ArrayBuffer?e=new Lc(r):ArrayBuffer.isView(r)?e=new Lc(r.buffer,r.byteOffset,r.byteLength):(e=Buffer.from(r),Dc.readOnly=!1),e}Da.exports={concat:PR,mask:Bv,toArrayBuffer:CR,toBuffer:Dc,unmask:Wv};if(!process.env.WS_NO_BUFFER_UTIL)try{let r=L("bufferutil");Da.exports.mask=function(e,t,n,i,o){o<48?Bv(e,t,n,i,o):r.mask(e,t,n,i,o)},Da.exports.unmask=function(e,t){e.length<32?Wv(e,t):r.unmask(e,t)}}catch(r){}});var zv=d((tB,$v)=>{"use strict";var Vv=Symbol("kDone"),Uc=Symbol("kRun"),Bc=class{constructor(e){this[Vv]=()=>{this.pending--,this[Uc]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Uc]()}[Uc](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Vv])}}};$v.exports=Bc});var Yn=d((rB,Yv)=>{"use strict";var Gn=L("zlib"),Zv=Zn(),AR=zv(),{kStatusCode:Gv}=Tt(),jR=Buffer[Symbol.species],RR=Buffer.from([0,0,255,255]),Wa=Symbol("permessage-deflate"),Je=Symbol("total-length"),Hn=Symbol("callback"),Pt=Symbol("buffers"),Ba=Symbol("error"),Ua,Wc=class{constructor(e,t,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Ua){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ua=new AR(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Hn];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,n=e.find(i=>!(t.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>i.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(n.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?n.client_max_window_bits=t.clientMaxWindowBits:(n.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(n=>{let i=t[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);t[n]=i})}),e}decompress(e,t,n){Ua.add(i=>{this._decompress(e,t,(o,s)=>{i(),n(o,s)})})}compress(e,t,n){Ua.add(i=>{this._compress(e,t,(o,s)=>{i(),n(o,s)})})}_decompress(e,t,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Gn.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Gn.createInflateRaw(q(v({},this._options.zlibInflateOptions),{windowBits:s})),this._inflate[Wa]=this,this._inflate[Je]=0,this._inflate[Pt]=[],this._inflate.on("error",IR),this._inflate.on("data",Hv)}this._inflate[Hn]=n,this._inflate.write(e),t&&this._inflate.write(RR),this._inflate.flush(()=>{let o=this._inflate[Ba];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=Zv.concat(this._inflate[Pt],this._inflate[Je]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Je]=0,this._inflate[Pt]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,t,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Gn.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Gn.createDeflateRaw(q(v({},this._options.zlibDeflateOptions),{windowBits:s})),this._deflate[Je]=0,this._deflate[Pt]=[],this._deflate.on("data",MR)}this._deflate[Hn]=n,this._deflate.write(e),this._deflate.flush(Gn.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=Zv.concat(this._deflate[Pt],this._deflate[Je]);t&&(o=new jR(o.buffer,o.byteOffset,o.length-4)),this._deflate[Hn]=null,this._deflate[Je]=0,this._deflate[Pt]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};Yv.exports=Wc;function MR(r){this[Pt].push(r),this[Je]+=r.length}function Hv(r){if(this[Je]+=r.length,this[Wa]._maxPayload<1||this[Je]<=this[Wa]._maxPayload){this[Pt].push(r);return}this[Ba]=new RangeError("Max payload size exceeded"),this[Ba].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Ba][Gv]=1009,this.removeListener("data",Hv),this.reset()}function IR(r){this[Wa]._inflate=null,r[Gv]=1007,this[Hn](r)}});var Jn=d((iB,Va)=>{"use strict";var{isUtf8:Jv}=L("buffer"),NR=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function FR(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function Vc(r){let e=r.length,t=0;for(;t<e;)if(!(r[t]&128))t++;else if((r[t]&224)===192){if(t+1===e||(r[t+1]&192)!==128||(r[t]&254)===192)return!1;t+=2}else if((r[t]&240)===224){if(t+2>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||r[t]===224&&(r[t+1]&224)===128||r[t]===237&&(r[t+1]&224)===160)return!1;t+=3}else if((r[t]&248)===240){if(t+3>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||(r[t+3]&192)!==128||r[t]===240&&(r[t+1]&240)===128||r[t]===244&&r[t+1]>143||r[t]>244)return!1;t+=4}else return!1;return!0}Va.exports={isValidStatusCode:FR,isValidUTF8:Vc,tokenChars:NR};if(Jv)Va.exports.isValidUTF8=function(r){return r.length<24?Vc(r):Jv(r)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=L("utf-8-validate");Va.exports.isValidUTF8=function(e){return e.length<32?Vc(e):r(e)}}catch(r){}});var Hc=d((oB,nm)=>{"use strict";var{Writable:LR}=L("stream"),Kv=Yn(),{BINARY_TYPES:DR,EMPTY_BUFFER:Xv,kStatusCode:UR,kWebSocket:BR}=Tt(),{concat:$c,toArrayBuffer:WR,unmask:VR}=Zn(),{isValidStatusCode:$R,isValidUTF8:Qv}=Jn(),$a=Buffer[Symbol.species],Oe=0,em=1,tm=2,rm=3,zc=4,Zc=5,za=6,Gc=class extends LR{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||DR[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[BR]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Oe}_write(e,t,n){if(this._opcode===8&&this._state==Oe)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new $a(n.buffer,n.byteOffset+e,n.length-e),new $a(n.buffer,n.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=t.length-e;e>=n.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new $a(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case Oe:this.getInfo(e);break;case em:this.getPayloadLength16(e);break;case tm:this.getPayloadLength64(e);break;case rm:this.getMask();break;case zc:this.getData(e);break;case Zc:case za:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(t[0]&64)===64;if(n&&!this._extensions[Kv.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=em:this._payloadLength===127?this._state=tm:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),n=t.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let t=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(t);return}this._masked?this._state=rm:this._state=zc}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=zc}getData(e){let t=Xv;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&VR(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=Zc,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[Kv.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return t(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(s);return}this._fragments.push(o)}this.dataMessage(t),this._state===Oe&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=Oe;return}let t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=$c(n,t):this._binaryType==="arraybuffer"?i=WR($c(n,t)):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=Oe):(this._state=za,setImmediate(()=>{this.emit("message",i,!0),this._state=Oe,this.startLoop(e)}))}else{let i=$c(n,t);if(!this._skipUTF8Validation&&!Qv(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===Zc||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=Oe):(this._state=za,setImmediate(()=>{this.emit("message",i,!1),this._state=Oe,this.startLoop(e)}))}}controlMessage(e,t){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,Xv),this.end();else{let n=e.readUInt16BE(0);if(!$R(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");t(o);return}let i=new $a(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!Qv(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=Oe;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Oe):(this._state=za,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Oe,this.startLoop(t)}))}createError(e,t,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=o,s[UR]=i,s}};nm.exports=Gc});var Jc=d((aB,sm)=>{"use strict";var{Duplex:sB}=L("stream"),{randomFillSync:zR}=L("crypto"),im=Yn(),{EMPTY_BUFFER:ZR}=Tt(),{isValidStatusCode:GR}=Jn(),{mask:om,toBuffer:cn}=Zn(),Pe=Symbol("kByteLength"),HR=Buffer.alloc(4),Za=8*1024,Jt,ln=Za,Yc=class r{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,i=!1,o=2,s=!1;t.mask&&(n=t.maskBuffer||HR,t.generateMask?t.generateMask(n):(ln===Za&&(Jt===void 0&&(Jt=Buffer.alloc(Za)),zR(Jt,0,Za),ln=0),n[0]=Jt[ln++],n[1]=Jt[ln++],n[2]=Jt[ln++],n[3]=Jt[ln++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!t.mask||s)&&t[Pe]!==void 0?a=t[Pe]:(e=Buffer.from(e),a=e.length):(a=e.length,i=t.mask&&t.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let u=Buffer.allocUnsafe(i?a+o:o);return u[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(u[0]|=64),u[1]=c,c===126?u.writeUInt16BE(a,2):c===127&&(u[2]=u[3]=0,u.writeUIntBE(a,4,6)),t.mask?(u[1]|=128,u[o-4]=n[0],u[o-3]=n[1],u[o-2]=n[2],u[o-1]=n[3],s?[u,e]:i?(om(e,n,u,o,a),[u]):(om(e,n,e,0,a),[u,e])):[u,e]}close(e,t,n,i){let o;if(e===void 0)o=ZR;else{if(typeof e!="number"||!GR(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof t=="string"?o.write(t,2):o.set(t,2)}}let s={[Pe]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(r.frame(o,s),i)}ping(e,t,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=cn(e),i=e.length,o=cn.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Pe]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(r.frame(e,s),n)}pong(e,t,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=cn(e),i=e.length,o=cn.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Pe]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(r.frame(e,s),n)}send(e,t,n){let i=this._extensions[im.extensionName],o=t.binary?2:1,s=t.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=cn(e),a=e.length,c=cn.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),t.fin&&(this._firstFragment=!0),i){let u={[Pe]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,u,n]):this.dispatch(e,this._compress,u,n)}else this.sendFrame(r.frame(e,{[Pe]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,t,n,i){if(!t){this.sendFrame(r.frame(e,n),i);return}let o=this._extensions[im.extensionName];this._bufferedBytes+=n[Pe],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let u=0;u<this._queue.length;u++){let f=this._queue[u],h=f[f.length-1];typeof h=="function"&&h(c)}return}this._bufferedBytes-=n[Pe],this._deflating=!1,n.readOnly=!1,this.sendFrame(r.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Pe],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Pe],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};sm.exports=Yc});var vm=d((uB,pm)=>{"use strict";var{kForOnEventAttribute:Kn,kListener:Kc}=Tt(),am=Symbol("kCode"),um=Symbol("kData"),cm=Symbol("kError"),lm=Symbol("kMessage"),fm=Symbol("kReason"),fn=Symbol("kTarget"),dm=Symbol("kType"),hm=Symbol("kWasClean"),Ke=class{constructor(e){this[fn]=null,this[dm]=e}get target(){return this[fn]}get type(){return this[dm]}};Object.defineProperty(Ke.prototype,"target",{enumerable:!0});Object.defineProperty(Ke.prototype,"type",{enumerable:!0});var Kt=class extends Ke{constructor(e,t={}){super(e),this[am]=t.code===void 0?0:t.code,this[fm]=t.reason===void 0?"":t.reason,this[hm]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[am]}get reason(){return this[fm]}get wasClean(){return this[hm]}};Object.defineProperty(Kt.prototype,"code",{enumerable:!0});Object.defineProperty(Kt.prototype,"reason",{enumerable:!0});Object.defineProperty(Kt.prototype,"wasClean",{enumerable:!0});var dn=class extends Ke{constructor(e,t={}){super(e),this[cm]=t.error===void 0?null:t.error,this[lm]=t.message===void 0?"":t.message}get error(){return this[cm]}get message(){return this[lm]}};Object.defineProperty(dn.prototype,"error",{enumerable:!0});Object.defineProperty(dn.prototype,"message",{enumerable:!0});var Xn=class extends Ke{constructor(e,t={}){super(e),this[um]=t.data===void 0?null:t.data}get data(){return this[um]}};Object.defineProperty(Xn.prototype,"data",{enumerable:!0});var YR={addEventListener(r,e,t={}){for(let i of this.listeners(r))if(!t[Kn]&&i[Kc]===e&&!i[Kn])return;let n;if(r==="message")n=function(o,s){let a=new Xn("message",{data:s?o:o.toString()});a[fn]=this,Ga(e,this,a)};else if(r==="close")n=function(o,s){let a=new Kt("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[fn]=this,Ga(e,this,a)};else if(r==="error")n=function(o){let s=new dn("error",{error:o,message:o.message});s[fn]=this,Ga(e,this,s)};else if(r==="open")n=function(){let o=new Ke("open");o[fn]=this,Ga(e,this,o)};else return;n[Kn]=!!t[Kn],n[Kc]=e,t.once?this.once(r,n):this.on(r,n)},removeEventListener(r,e){for(let t of this.listeners(r))if(t[Kc]===e&&!t[Kn]){this.removeListener(r,t);break}}};pm.exports={CloseEvent:Kt,ErrorEvent:dn,Event:Ke,EventTarget:YR,MessageEvent:Xn};function Ga(r,e,t){typeof r=="object"&&r.handleEvent?r.handleEvent.call(r,t):r.call(e,t)}});var Xc=d((cB,mm)=>{"use strict";var{tokenChars:Qn}=Jn();function Le(r,e,t){r[e]===void 0?r[e]=[t]:r[e].push(t)}function JR(r){let e=Object.create(null),t=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,u=-1,f=-1,h=0;for(;h<r.length;h++)if(u=r.charCodeAt(h),s===void 0)if(f===-1&&Qn[u]===1)c===-1&&(c=h);else if(h!==0&&(u===32||u===9))f===-1&&c!==-1&&(f=h);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${h}`);f===-1&&(f=h);let _=r.slice(c,f);u===44?(Le(e,_,t),t=Object.create(null)):s=_,c=f=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);else if(a===void 0)if(f===-1&&Qn[u]===1)c===-1&&(c=h);else if(u===32||u===9)f===-1&&c!==-1&&(f=h);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${h}`);f===-1&&(f=h),Le(t,r.slice(c,f),!0),u===44&&(Le(e,s,t),t=Object.create(null),s=void 0),c=f=-1}else if(u===61&&c!==-1&&f===-1)a=r.slice(c,h),c=f=-1;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(i){if(Qn[u]!==1)throw new SyntaxError(`Unexpected character at index ${h}`);c===-1?c=h:n||(n=!0),i=!1}else if(o)if(Qn[u]===1)c===-1&&(c=h);else if(u===34&&c!==-1)o=!1,f=h;else if(u===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(u===34&&r.charCodeAt(h-1)===61)o=!0;else if(f===-1&&Qn[u]===1)c===-1&&(c=h);else if(c!==-1&&(u===32||u===9))f===-1&&(f=h);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${h}`);f===-1&&(f=h);let _=r.slice(c,f);n&&(_=_.replace(/\\/g,""),n=!1),Le(t,a,_),u===44&&(Le(e,s,t),t=Object.create(null),s=void 0),a=void 0,c=f=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);if(c===-1||o||u===32||u===9)throw new SyntaxError("Unexpected end of input");f===-1&&(f=h);let p=r.slice(c,f);return s===void 0?Le(e,p,t):(a===void 0?Le(t,p,!0):n?Le(t,a,p.replace(/\\/g,"")):Le(t,a,p),Le(e,s,t)),e}function KR(r){return Object.keys(r).map(e=>{let t=r[e];return Array.isArray(t)||(t=[t]),t.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}mm.exports={format:KR,parse:JR}});var nl=d((dB,qm)=>{"use strict";var XR=L("events"),QR=L("https"),eM=L("http"),bm=L("net"),tM=L("tls"),{randomBytes:rM,createHash:nM}=L("crypto"),{Duplex:lB,Readable:fB}=L("stream"),{URL:Qc}=L("url"),Ct=Yn(),iM=Hc(),oM=Jc(),{BINARY_TYPES:_m,EMPTY_BUFFER:Ha,GUID:sM,kForOnEventAttribute:el,kListener:aM,kStatusCode:uM,kWebSocket:ee,NOOP:gm}=Tt(),{EventTarget:{addEventListener:cM,removeEventListener:lM}}=vm(),{format:fM,parse:dM}=Xc(),{toBuffer:hM}=Zn(),pM=30*1e3,Om=Symbol("kAborted"),tl=[8,13],Xe=["CONNECTING","OPEN","CLOSING","CLOSED"],vM=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Z=class r extends XR{constructor(e,t,n){super(),this._binaryType=_m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Ha,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(n=t,t=[]):t=[t]),Sm(this,e,t,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){_m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){let i=new iM({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new oM(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[ee]=this,e[ee]=this,i.on("conclude",yM),i.on("drain",bM),i.on("error",gM),i.on("message",OM),i.on("ping",SM),i.on("pong",wM),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Em),e.on("data",Ja),e.on("end",xm),e.on("error",km),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ct.extensionName]&&this._extensions[Ct.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){de(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(e,t,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),pM)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){rl(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Ha,t,n)}pong(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){rl(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Ha,t,n)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(n=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){rl(this,e,n);return}let i=v({binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0},t);this._extensions[Ct.extensionName]||(i.compress=!1),this._sender.send(e||Ha,i,n)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){de(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(Z,"CONNECTING",{enumerable:!0,value:Xe.indexOf("CONNECTING")});Object.defineProperty(Z.prototype,"CONNECTING",{enumerable:!0,value:Xe.indexOf("CONNECTING")});Object.defineProperty(Z,"OPEN",{enumerable:!0,value:Xe.indexOf("OPEN")});Object.defineProperty(Z.prototype,"OPEN",{enumerable:!0,value:Xe.indexOf("OPEN")});Object.defineProperty(Z,"CLOSING",{enumerable:!0,value:Xe.indexOf("CLOSING")});Object.defineProperty(Z.prototype,"CLOSING",{enumerable:!0,value:Xe.indexOf("CLOSING")});Object.defineProperty(Z,"CLOSED",{enumerable:!0,value:Xe.indexOf("CLOSED")});Object.defineProperty(Z.prototype,"CLOSED",{enumerable:!0,value:Xe.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(r=>{Object.defineProperty(Z.prototype,r,{enumerable:!0})});["open","error","close","message"].forEach(r=>{Object.defineProperty(Z.prototype,`on${r}`,{enumerable:!0,get(){for(let e of this.listeners(r))if(e[el])return e[aM];return null},set(e){for(let t of this.listeners(r))if(t[el]){this.removeListener(r,t);break}typeof e=="function"&&this.addEventListener(r,e,{[el]:!0})}})});Z.prototype.addEventListener=cM;Z.prototype.removeEventListener=lM;qm.exports=Z;function Sm(r,e,t,n){let i=q(v({allowSynchronousEvents:!0,autoPong:!0,protocolVersion:tl[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},n),{socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0});if(r._autoPong=i.autoPong,!tl.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${tl.join(", ")})`);let o;if(e instanceof Qc)o=e;else try{o=new Qc(e)}catch(m){throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),r._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(r._redirects===0)throw m;Ya(r,m);return}let u=s?443:80,f=rM(16).toString("base64"),h=s?QR.request:eM.request,p=new Set,_;if(i.createConnection=i.createConnection||(s?_M:mM),i.defaultPort=i.defaultPort||u,i.port=o.port||u,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers=q(v({},i.headers),{"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":f,Connection:"Upgrade",Upgrade:"websocket"}),i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(_=new Ct(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=fM({[Ct.extensionName]:_.offer()})),t.length){for(let m of t){if(typeof m!="string"||!vM.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}i.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let m=i.path.split(":");i.socketPath=m[0],i.path=m[1]}let y;if(i.followRedirects){if(r._redirects===0){r._originalIpc=a,r._originalSecure=s,r._originalHostOrSocketPath=a?i.socketPath:o.host;let m=n&&n.headers;if(n=q(v({},n),{headers:{}}),m)for(let[b,x]of Object.entries(m))n.headers[b.toLowerCase()]=x}else if(r.listenerCount("redirect")===0){let m=a?r._originalIpc?i.socketPath===r._originalHostOrSocketPath:!1:r._originalIpc?!1:o.host===r._originalHostOrSocketPath;(!m||r._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,m||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),y=r._req=h(i),r._redirects&&r.emit("redirect",r.url,y)}else y=r._req=h(i);i.timeout&&y.on("timeout",()=>{de(r,y,"Opening handshake has timed out")}),y.on("error",m=>{y===null||y[Om]||(y=r._req=null,Ya(r,m))}),y.on("response",m=>{let b=m.headers.location,x=m.statusCode;if(b&&i.followRedirects&&x>=300&&x<400){if(++r._redirects>i.maxRedirects){de(r,y,"Maximum redirects exceeded");return}y.abort();let j;try{j=new Qc(b,e)}catch(O){let P=new SyntaxError(`Invalid URL: ${b}`);Ya(r,P);return}Sm(r,j,t,n)}else r.emit("unexpected-response",y,m)||de(r,y,`Unexpected server response: ${m.statusCode}`)}),y.on("upgrade",(m,b,x)=>{if(r.emit("upgrade",m),r.readyState!==Z.CONNECTING)return;y=r._req=null;let j=m.headers.upgrade;if(j===void 0||j.toLowerCase()!=="websocket"){de(r,b,"Invalid Upgrade header");return}let O=nM("sha1").update(f+sM).digest("base64");if(m.headers["sec-websocket-accept"]!==O){de(r,b,"Invalid Sec-WebSocket-Accept header");return}let P=m.headers["sec-websocket-protocol"],V;if(P!==void 0?p.size?p.has(P)||(V="Server sent an invalid subprotocol"):V="Server sent a subprotocol but none was requested":p.size&&(V="Server sent no subprotocol"),V){de(r,b,V);return}P&&(r._protocol=P);let B=m.headers["sec-websocket-extensions"];if(B!==void 0){if(!_){de(r,b,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let re;try{re=dM(B)}catch(Nt){de(r,b,"Invalid Sec-WebSocket-Extensions header");return}let Be=Object.keys(re);if(Be.length!==1||Be[0]!==Ct.extensionName){de(r,b,"Server indicated an extension that was not requested");return}try{_.accept(re[Ct.extensionName])}catch(Nt){de(r,b,"Invalid Sec-WebSocket-Extensions header");return}r._extensions[Ct.extensionName]=_}r.setSocket(b,x,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(y,r):y.end()}function Ya(r,e){r._readyState=Z.CLOSING,r.emit("error",e),r.emitClose()}function mM(r){return r.path=r.socketPath,bm.connect(r)}function _M(r){return r.path=void 0,!r.servername&&r.servername!==""&&(r.servername=bm.isIP(r.host)?"":r.host),tM.connect(r)}function de(r,e,t){r._readyState=Z.CLOSING;let n=new Error(t);Error.captureStackTrace(n,de),e.setHeader?(e[Om]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Ya,r,n)):(e.destroy(n),e.once("error",r.emit.bind(r,"error")),e.once("close",r.emitClose.bind(r)))}function rl(r,e,t){if(e){let n=hM(e).length;r._socket?r._sender._bufferedBytes+=n:r._bufferedAmount+=n}if(t){let n=new Error(`WebSocket is not open: readyState ${r.readyState} (${Xe[r.readyState]})`);process.nextTick(t,n)}}function yM(r,e){let t=this[ee];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=r,t._socket[ee]!==void 0&&(t._socket.removeListener("data",Ja),process.nextTick(wm,t._socket),r===1005?t.close():t.close(r,e))}function bM(){let r=this[ee];r.isPaused||r._socket.resume()}function gM(r){let e=this[ee];e._socket[ee]!==void 0&&(e._socket.removeListener("data",Ja),process.nextTick(wm,e._socket),e.close(r[uM])),e.emit("error",r)}function ym(){this[ee].emitClose()}function OM(r,e){this[ee].emit("message",r,e)}function SM(r){let e=this[ee];e._autoPong&&e.pong(r,!this._isServer,gm),e.emit("ping",r)}function wM(r){this[ee].emit("pong",r)}function wm(r){r.resume()}function Em(){let r=this[ee];this.removeListener("close",Em),this.removeListener("data",Ja),this.removeListener("end",xm),r._readyState=Z.CLOSING;let e;!this._readableState.endEmitted&&!r._closeFrameReceived&&!r._receiver._writableState.errorEmitted&&(e=r._socket.read())!==null&&r._receiver.write(e),r._receiver.end(),this[ee]=void 0,clearTimeout(r._closeTimer),r._receiver._writableState.finished||r._receiver._writableState.errorEmitted?r.emitClose():(r._receiver.on("error",ym),r._receiver.on("finish",ym))}function Ja(r){this[ee]._receiver.write(r)||this.pause()}function xm(){let r=this[ee];r._readyState=Z.CLOSING,r._receiver.end(),this.end()}function km(){let r=this[ee];this.removeListener("error",km),this.on("error",gm),r&&(r._readyState=Z.CLOSING,this.destroy())}});var Pm=d((pB,Tm)=>{"use strict";var{tokenChars:EM}=Jn();function xM(r){let e=new Set,t=-1,n=-1,i=0;for(i;i<r.length;i++){let s=r.charCodeAt(i);if(n===-1&&EM[s]===1)t===-1&&(t=i);else if(i!==0&&(s===32||s===9))n===-1&&t!==-1&&(n=i);else if(s===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=r.slice(t,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),t=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(t===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=r.slice(t,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}Tm.exports={parse:xM}});var Nm=d((mB,Im)=>{"use strict";var kM=L("events"),Ka=L("http"),{Duplex:vB}=L("stream"),{createHash:qM}=L("crypto"),Cm=Xc(),Xt=Yn(),TM=Pm(),PM=nl(),{GUID:CM,kWebSocket:AM}=Tt(),jM=/^[+/0-9A-Za-z]{22}==$/,Am=0,jm=1,Mm=2,il=class extends kM{constructor(e,t){if(super(),e=v({allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:PM},e),e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Ka.createServer((n,i)=>{let o=Ka.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=RM(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Am}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Mm){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(ei,this);return}if(e&&this.once("close",e),this._state!==jm)if(this._state=jm,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(ei,this):process.nextTick(ei,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{ei(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,i){t.on("error",Rm);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Qt(this,e,t,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){Qt(this,e,t,400,"Invalid Upgrade header");return}if(o===void 0||!jM.test(o)){Qt(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){Qt(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){ti(t,400);return}let c=e.headers["sec-websocket-protocol"],u=new Set;if(c!==void 0)try{u=TM.parse(c)}catch(p){Qt(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let f=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&f!==void 0){let p=new Xt(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let _=Cm.parse(f);_[Xt.extensionName]&&(p.accept(_[Xt.extensionName]),h[Xt.extensionName]=p)}catch(_){Qt(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(_,y,m,b)=>{if(!_)return ti(t,y||401,m,b);this.completeUpgrade(h,o,u,e,t,n,i)});return}if(!this.options.verifyClient(p))return ti(t,401)}this.completeUpgrade(h,o,u,e,t,n,i)}completeUpgrade(e,t,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[AM])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Am)return ti(o,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${qM("sha1").update(t+CM).digest("base64")}`],f=new this.options.WebSocket(null,void 0,this.options);if(n.size){let h=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;h&&(u.push(`Sec-WebSocket-Protocol: ${h}`),f._protocol=h)}if(e[Xt.extensionName]){let h=e[Xt.extensionName].params,p=Cm.format({[Xt.extensionName]:[h]});u.push(`Sec-WebSocket-Extensions: ${p}`),f._extensions=e}this.emit("headers",u,i),o.write(u.concat(`\r
`).join(`\r
`)),o.removeListener("error",Rm),f.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(ei,this)})),a(f,i)}};Im.exports=il;function RM(r,e){for(let t of Object.keys(e))r.on(t,e[t]);return function(){for(let n of Object.keys(e))r.removeListener(n,e[n])}}function ei(r){r._state=Mm,r.emit("close")}function Rm(){this.destroy()}function ti(r,e,t,n){t=t||Ka.STATUS_CODES[e],n=v({Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t)},n),r.once("finish",r.destroy),r.end(`HTTP/1.1 ${e} ${Ka.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+t)}function Qt(r,e,t,n,i){if(r.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,Qt),r.emit("wsClientError",o,t,e)}else ti(t,n,i)}});var lu=(o=>(o.JOIN_ROOM="room.join",o.JOINED_ROOM="room.joined",o.LEAVE_ROOM="room.leave",o.UPDATE="room.update",o.ERROR="room.error",o))(lu||{});var fu=(n=>(n.JOINED_ROOM="presence.joined-room",n.LEAVE="presence.leave",n.UPDATE="presence.update",n))(fu||{});var vi=(s=>(s.CONNECTED="CONNECTED",s.CONNECTING="CONNECTING",s.DISCONNECTED="DISCONNECTED",s.CONNECTION_ERROR="CONNECTION_ERROR",s.RECONNECTING="RECONNECTING",s.RECONNECT_ERROR="RECONNECT_ERROR",s))(vi||{});var sn=W(ka());var Pc=W(ge()),kt=class{constructor(e){this.debug=(0,Pc.default)(e),Pc.default.enable("*")}log(e,...t){this.debug(e,...t)}};var an=class r{constructor(e,t,n){this.io=e;this.presence=t;this.roomId=n;this.presences=new Set;this.observers=new Map;this.onPresenceJoin=e=>{(e==null?void 0:e.roomId)===this.roomId&&(this.logger.log("presence room @ presence join",e),this.presences.add(e),this.observers.get("presence.joined-room").next({connectionId:e.connectionId,data:e.data,id:e.id,name:e.name,timestamp:e.timestamp}))};this.onPresenceLeave=e=>{(e==null?void 0:e.roomId)===this.roomId&&(this.logger.log("presence room @ presence leave",e),this.presences.delete(e),this.observers.get("presence.leave").next(e))};this.onPresenceUpdate=e=>{(e==null?void 0:e.roomId)===this.roomId&&(this.logger.log("presence room @ presence update",e),this.observers.get("presence.update").next({connectionId:e.connectionId,data:e.data,id:e.id,name:e.name,roomId:e==null?void 0:e.roomId,timestamp:e.timestamp}))};this.logger=new kt("@superviz/socket-client/presence"),this.registerSubjects(),this.subscribeToPresenceEvents()}static register(e,t,n){return new r(e,t,n)}get(e,t){let n=new sn.Subject;n.subscribe({next:e,error:t});let i=o=>{let s=o.presences.map(a=>({connectionId:a.connectionId,data:a.data,id:a.id,name:a.name,timestamp:a.timestamp}));this.logger.log("presence room @ get",o),this.io.off("presence.get",i),n.next(s),n.complete()};this.io.on("presence.get",i),this.io.emit("presence.get",this.roomId)}update(e){let t={connectionId:this.io.id,data:e,id:this.presence.id,name:this.presence.name,timestamp:Date.now()};this.io.emit("presence.update",this.roomId,t),this.logger.log("presence room @ update",this.roomId,t)}destroy(){this.io.off("presence.joined-room",this.onPresenceJoin),this.io.off("presence.leave",this.onPresenceLeave),this.io.off("presence.update",this.onPresenceUpdate),this.observers.forEach(e=>e.unsubscribe()),this.observers.clear()}registerSubjects(){this.observers.set("presence.joined-room",new sn.Subject),this.observers.set("presence.leave",new sn.Subject),this.observers.set("presence.update",new sn.Subject)}on(e,t,n){this.observers.get(e).subscribe({error:n,next:t})}off(e){this.observers.get(e).unsubscribe(),this.observers.delete(e),this.observers.set(e,new sn.Subject)}subscribeToPresenceEvents(){this.io.on("presence.joined-room",this.onPresenceJoin),this.io.on("presence.leave",this.onPresenceLeave),this.io.on("presence.update",this.onPresenceUpdate)}};var qe=Object.create(null);qe.open="0";qe.close="1";qe.ping="2";qe.pong="3";qe.message="4";qe.upgrade="5";qe.noop="6";var Wn=Object.create(null);Object.keys(qe).forEach(r=>{Wn[qe[r]]=r});var Vn={type:"error",data:"parser error"};var $n=({type:r,data:e},t,n)=>e instanceof ArrayBuffer||ArrayBuffer.isView(e)?n(t?e:"b"+fv(e,!0).toString("base64")):n(qe[r]+(e||"")),fv=(r,e)=>Buffer.isBuffer(r)||r instanceof Uint8Array&&!e?r:r instanceof ArrayBuffer?Buffer.from(r):Buffer.from(r.buffer,r.byteOffset,r.byteLength),Cc;function dv(r,e){if(r.data instanceof ArrayBuffer||ArrayBuffer.isView(r.data))return e(fv(r.data,!1));$n(r,!0,t=>{Cc||(Cc=new TextEncoder),e(Cc.encode(t))})}var zn=(r,e)=>{if(typeof r!="string")return{type:"message",data:hv(r,e)};let t=r.charAt(0);if(t==="b"){let n=Buffer.from(r.substring(1),"base64");return{type:"message",data:hv(n,e)}}return Wn[t]?r.length>1?{type:Wn[t],data:r.substring(1)}:{type:Wn[t]}:Vn},hv=(r,e)=>{switch(e){case"arraybuffer":return r instanceof ArrayBuffer?r:Buffer.isBuffer(r)?r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength):r.buffer;case"nodebuffer":default:return Buffer.isBuffer(r)?r:Buffer.from(r)}};var pv="",vv=(r,e)=>{let t=r.length,n=new Array(t),i=0;r.forEach((o,s)=>{$n(o,!1,a=>{n[s]=a,++i===t&&e(n.join(pv))})})},mv=(r,e)=>{let t=r.split(pv),n=[];for(let i=0;i<t.length;i++){let o=zn(t[i],e);if(n.push(o),o.type==="error")break}return n};function _v(){return new TransformStream({transform(r,e){dv(r,t=>{let n=t.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var Ac;function ja(r){return r.reduce((e,t)=>e+t.length,0)}function Ra(r,e){if(r[0].length===e)return r.shift();let t=new Uint8Array(e),n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function yv(r,e){Ac||(Ac=new TextDecoder);let t=[],n=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(n===0){if(ja(t)<1)break;let c=Ra(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(ja(t)<2)break;let c=Ra(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ja(t)<8)break;let c=Ra(t,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(Vn);break}i=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(ja(t)<i)break;let c=Ra(t,i);a.enqueue(zn(o?c:Ac.decode(c),e)),n=0}if(i===0||i>r){a.enqueue(Vn);break}}}})}var jc=4;var wv=W(Yt(),1);var Te=global;function Ma(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}var vR=Te.setTimeout,mR=Te.clearTimeout;function He(r,e){e.useNativeTimers?(r.setTimeoutFn=vR.bind(Te),r.clearTimeoutFn=mR.bind(Te)):(r.setTimeoutFn=Te.setTimeout.bind(Te),r.clearTimeoutFn=Te.clearTimeout.bind(Te))}var _R=1.33;function gv(r){return typeof r=="string"?yR(r):Math.ceil((r.byteLength||r.size)*_R)}function yR(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}var Ev=W(ge(),1);function Ov(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function Sv(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let o=t[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var bR=(0,Ev.default)("engine.io-client:transport"),Ia=class extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}},Ye=class extends wv.Emitter{constructor(e){super(),this.writable=!1,He(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Ia(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):bR("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=zn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=Ov(e);return t.length?"?"+t:""}};var Mv=W(ge(),1);var Tv="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Rc=64,gR={},xv=0,Na=0,kv;function qv(r){let e="";do e=Tv[r%Rc]+e,r=Math.floor(r/Rc);while(r>0);return e}function Fa(){let r=qv(+new Date);return r!==kv?(xv=0,kv=r):r+"."+qv(xv++)}for(;Na<Rc;Na++)gR[Tv[Na]]=Na;var Nc=W(Av(),1),Fc=Nc.default||Nc;function jv(){return new Ic}function SR(r){let e=r.split("; "),t=e[0].indexOf("=");if(t===-1)return;let n=e[0].substring(0,t).trim();if(!n.length)return;let i=e[0].substring(t+1).trim();i.charCodeAt(0)===34&&(i=i.slice(1,-1));let o={name:n,value:i};for(let s=1;s<e.length;s++){let a=e[s].split("=");if(a.length!==2)continue;let c=a[0].trim(),u=a[1].trim();switch(c){case"Expires":o.expires=new Date(u);break;case"Max-Age":let f=new Date;f.setUTCSeconds(f.getUTCSeconds()+parseInt(u,10)),o.expires=f;break;default:}}return o}var Ic=class{constructor(){this.cookies=new Map}parseCookies(e){let t=e.getResponseHeader("set-cookie");t&&t.forEach(n=>{let i=SR(n);i&&this.cookies.set(i.name,i)})}addCookies(e){let t=[];this.cookies.forEach((n,i)=>{var o;((o=n.expires)===null||o===void 0?void 0:o.getTime())<Date.now()?this.cookies.delete(i):t.push(`${i}=${n.value}`)}),t.length&&(e.setDisableHeaderCheck(!0),e.setRequestHeader("cookie",t.join("; ")))}};var Iv=W(Yt(),1);var ue=(0,Mv.default)("engine.io-client:polling");function wR(){}var ER=function(){return new Fc({xdomain:!1}).responseType!=null}(),La=class extends Ye{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){let n=location.protocol==="https:",i=location.port;i||(i=n?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port}let t=e&&e.forceBase64;this.supportsBinary=ER&&!t,this.opts.withCredentials&&(this.cookieJar=jv())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=()=>{ue("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(ue("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){ue("pre-pause polling complete"),--n||t()})),this.writable||(ue("we are currently writing - waiting to pause"),n++,this.once("drain",function(){ue("pre-pause writing complete"),--n||t()}))}else t()}poll(){ue("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){ue("polling got data %s",e);let t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};mv(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():ue('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{ue("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(ue("transport open - closing"),e()):(ue("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,vv(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Fa()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new qt(this.uri(),e)}doWrite(e,t){let n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){ue("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}},qt=class r extends Iv.Emitter{constructor(e,t){super(),He(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;let t=Ma(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let n=this.xhr=new Fc(t);try{ue("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},ue("xhr data %s",this.data),n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=wR,e)try{this.xhr.abort()}catch(t){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};qt.requestsCount=0;qt.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Rv);else if(typeof addEventListener=="function"){let r="onpagehide"in Te?"pagehide":"unload";addEventListener(r,Rv,!1)}}function Rv(){for(let r in qt.requests)qt.requests.hasOwnProperty(r)&&qt.requests[r].abort()}var MM=W(Dv(),1),IM=W(Hc(),1),NM=W(Jc(),1),Fm=W(nl(),1),FM=W(Nm(),1);var Lm=Fm.default;var ri=Lm,Xa=!1,Dm="nodebuffer",er=process.nextTick;var Bm=W(ge(),1);var LM=(0,Bm.default)("engine.io-client:websocket"),Um=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Qa=class extends Ye{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,n=Um?{}:Ma(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Xa&&!Um?t?new ri(e,t):new ri(e):new ri(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],i=t===e.length-1;$n(n,this.supportsBinary,o=>{let s={};Xa||(n.options&&(s.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof o=="string"?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(s.compress=!1));try{Xa?this.ws.send(o):this.ws.send(o,s)}catch(a){LM("websocket closed before onclose event")}i&&er(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fa()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!ri}};var Wm=W(ge(),1),ni=(0,Wm.default)("engine.io-client:webtransport"),eu=class extends Ye{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{ni("transport closed gracefully"),this.onClose()}).catch(e=>{ni("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=yv(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=_v();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();let o=()=>{n.read().then(({done:a,value:c})=>{if(a){ni("session is closed");return}ni("received chunk: %o",c),this.onPacket(c),o()}).catch(a=>{ni("an error occurred while reading: %s",a)})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],i=t===e.length-1;this.writer.write(n).then(()=>{i&&er(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var ol={websocket:Qa,webtransport:eu,polling:La};var DM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,UM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hn(r){if(r.length>2e3)throw"URI too long";let e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=DM.exec(r||""),o={},s=14;for(;s--;)o[UM[s]]=i[s]||"";return t!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=BM(o,o.path),o.queryKey=WM(o,o.query),o}function BM(r,e){let t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function WM(r,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(t[i]=o)}),t}var Vm=W(ge(),1),$m=W(Yt(),1);var z=(0,Vm.default)("engine.io-client:socket"),tr=class r extends $m.Emitter{constructor(e,t={}){super(),this.binaryType=Dm,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=hn(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=hn(t.host).host),He(this,t),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Sv(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){z('creating transport "%s"',e);let t=Object.assign({},this.opts.query);t.EIO=jc,t.transport=e,this.id&&(t.sid=this.id);let n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return z("options: %j",n),new ol[e](n)}open(){let e;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){z("error while creating transport: %s",t),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){z("setting transport %s",e.name),this.transport&&(z("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){z('probing transport "%s"',e);let t=this.createTransport(e),n=!1;r.priorWebsocketSuccess=!1;let i=()=>{n||(z('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(z('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;r.priorWebsocketSuccess=t.name==="websocket",z('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(z("changing transport and sending upgrade packet"),f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{z('probe transport "%s" failed',e);let p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function o(){n||(n=!0,f(),t.close(),t=null)}let s=h=>{let p=new Error("probe error: "+h);p.transport=t.name,o(),z('probe transport "%s" failed because of error: %s',e,h),this.emitReserved("upgradeError",p)};function a(){s("transport closed")}function c(){s("socket closed")}function u(h){t&&h.name!==t.name&&(z('"%s" works - aborting "%s"',h.name,t.name),o())}let f=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onOpen(){if(z("socket open"),this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){z("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(z('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else z('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();z("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(t+=gv(i)),n>0&&t>this.maxPayload)return z("only send %d out of %d packets",n,this.writeBuffer.length),this.writeBuffer.slice(0,n);t+=2}return z("payload size is %d (max: %d)",t,this.maxPayload),this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),z("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){z("socket error %j",e),r.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(z('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],n=0,i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}};tr.protocol=jc;var $B=tr.protocol;var Zm=W(ge(),1),zm=(0,Zm.default)("socket.io-client:url");function Gm(r,e="",t){let n=r;t=t||typeof location!="undefined"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(zm("protocol-less url %s",r),typeof t!="undefined"?r=t.protocol+"//"+r:r="https://"+r),zm("parse %s",r),n=hn(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}var dl={};A_(dl,{Decoder:()=>ll,Encoder:()=>cl,PacketType:()=>N,protocol:()=>e_});var Xm=W(Yt(),1);var VM=typeof ArrayBuffer=="function",$M=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Hm=Object.prototype.toString,zM=typeof Blob=="function"||typeof Blob!="undefined"&&Hm.call(Blob)==="[object BlobConstructor]",ZM=typeof File=="function"||typeof File!="undefined"&&Hm.call(File)==="[object FileConstructor]";function oi(r){return VM&&(r instanceof ArrayBuffer||$M(r))||zM&&r instanceof Blob||ZM&&r instanceof File}function ii(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(ii(r[t]))return!0;return!1}if(oi(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return ii(r.toJSON(),!0);for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&ii(r[t]))return!0;return!1}function Ym(r){let e=[],t=r.data,n=r;return n.data=sl(t,e),n.attachments=e.length,{packet:n,buffers:e}}function sl(r,e){if(!r)return r;if(oi(r)){let t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){let t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=sl(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){let t={};for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=sl(r[n],e));return t}return r}function Jm(r,e){return r.data=al(r.data,e),delete r.attachments,r}function al(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=al(r[t],e);else if(typeof r=="object")for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=al(r[t],e));return r}var Qm=W(ge(),1),ul=(0,Qm.default)("socket.io-parser"),GM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],e_=5,N;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(N||(N={}));var cl=class{constructor(e){this.replacer=e}encode(e){return ul("encoding packet %j",e),(e.type===N.EVENT||e.type===N.ACK)&&ii(e)?this.encodeAsBinary({type:e.type===N.EVENT?N.BINARY_EVENT:N.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===N.BINARY_EVENT||e.type===N.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),ul("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=Ym(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}};function Km(r){return Object.prototype.toString.call(r)==="[object Object]"}var ll=class r extends Xm.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let n=t.type===N.BINARY_EVENT;n||t.type===N.BINARY_ACK?(t.type=n?N.EVENT:N.ACK,this.reconstructor=new fl(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(oi(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,n={type:Number(e.charAt(0))};if(N[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===N.BINARY_EVENT||n.type===N.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(o,t)}else n.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}n.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(r.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return ul("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case N.CONNECT:return Km(t);case N.DISCONNECT:return t===void 0;case N.CONNECT_ERROR:return typeof t=="string"||Km(t);case N.EVENT:case N.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&GM.indexOf(t[0])===-1);case N.ACK:case N.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},fl=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=Jm(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function he(r,e,t){return r.on(e,t),function(){r.off(e,t)}}var t_=W(Yt(),1),r_=W(ge(),1),G=(0,r_.default)("socket.io-client:socket"),HM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),pn=class extends t_.Emitter{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[he(e,"open",this.onopen.bind(this)),he(e,"packet",this.onpacket.bind(this)),he(e,"error",this.onerror.bind(this)),he(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(HM.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let n={type:N.EVENT,data:t};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let s=this.ids++;G("emitting packet with ack id %d",s);let a=t.pop();this._registerAckCallback(s,a),n.id=s}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?G("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n),this.flags={},this}_registerAckCallback(e,t){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&(G("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(a,1));G("event with ack id %d has timed out after %d ms",e,i),t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((n,i)=>{let o=(s,a)=>s?i(s):n(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(G("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),t&&t(i)):(G("packet [%d] was successfully sent",n.id),this._queue.shift(),t&&t(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(G("draining queue"),!this.connected||this._queue.length===0)return;let t=this._queue[0];if(t.pending&&!e){G("packet [%d] has already been sent and is waiting for an ack",t.id);return}t.pending=!0,t.tryCount++,G("sending packet [%d] (try n\xB0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){G("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:N.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){G("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case N.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case N.EVENT:case N.BINARY_EVENT:this.onevent(e);break;case N.ACK:case N.BINARY_ACK:this.onack(e);break;case N.DISCONNECT:this.ondisconnect();break;case N.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let t=e.data||[];G("emitting event %j",t),e.id!=null&&(G("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,n=!1;return function(...i){n||(n=!0,G("sending ack %j",i),t.packet({type:N.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];if(typeof t!="function"){G("bad ack %s",e.id);return}delete this.acks[e.id],G("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)}onconnect(e,t){G("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){G("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(G("performing disconnect (%s)",this.nsp),this.packet({type:N.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let n of t)n.apply(this,e.data)}}};function rr(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}rr.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};rr.prototype.reset=function(){this.attempts=0};rr.prototype.setMin=function(r){this.ms=r};rr.prototype.setMax=function(r){this.max=r};rr.prototype.setJitter=function(r){this.jitter=r};var n_=W(Yt(),1),i_=W(ge(),1),Q=(0,i_.default)("socket.io-client:manager"),At=class extends n_.Emitter{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,He(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new rr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||dl;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(Q("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Q("opening %s",this.uri),this.engine=new tr(this.uri,this.opts);let t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=he(t,"open",function(){n.onopen(),e&&e()}),o=a=>{Q("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=he(t,"error",o);if(this._timeout!==!1){let a=this._timeout;Q("connect attempt will timeout after %d",a);let c=this.setTimeoutFn(()=>{Q("connect attempt timed out after %d",a),i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){Q("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(he(e,"ping",this.onping.bind(this)),he(e,"data",this.ondata.bind(this)),he(e,"error",this.onerror.bind(this)),he(e,"close",this.onclose.bind(this)),he(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){er(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){Q("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new pn(this,e,t),this.nsps[e]=n),n}_destroy(e){let t=Object.keys(this.nsps);for(let n of t)if(this.nsps[n].active){Q("socket %s is still active, skipping close",n);return}this._close()}_packet(e){Q("writing packet %j",e);let t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){Q("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){Q("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){Q("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Q("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();Q("will wait %dms before reconnect attempt",t),this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(Q("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(Q("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(Q("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var s_=W(ge(),1),o_=(0,s_.default)("socket.io-client"),si={};function hl(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};let t=Gm(r,e.path||"/socket.io"),n=t.source,i=t.id,o=t.path,s=si[i]&&o in si[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?(o_("ignoring socket cache for %s",n),c=new At(n,e)):(si[i]||(o_("new io instance for %s",n),si[i]=new At(n,e)),c=si[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(hl,{Manager:At,Socket:pn,io:hl,connect:hl});var F;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},r.getValidEnumValues=i=>{let o=r.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return r.objectValues(s)},r.objectValues=i=>r.objectKeys(i).map(function(o){return i[o]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},r.find=(i,o)=>{for(let s of i)if(o(s))return s},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}r.joinValues=n,r.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(F||(F={}));var vl;(function(r){r.mergeShapes=(e,t)=>v(v({},e),t)})(vl||(vl={}));var E=F.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jt=r=>{switch(typeof r){case"undefined":return E.undefined;case"string":return E.string;case"number":return isNaN(r)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(r)?E.array:r===null?E.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?E.promise:typeof Map!="undefined"&&r instanceof Map?E.map:typeof Set!="undefined"&&r instanceof Set?E.set:typeof Date!="undefined"&&r instanceof Date?E.date:E.object;default:return E.unknown}},g=F.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),YM=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),pe=class r extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(t(s));else{let a=n,c=0;for(;c<s.path.length;){let u=s.path[c];c===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(s))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,F.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};pe.create=r=>new pe(r);var _n=(r,e)=>{let t;switch(r.code){case g.invalid_type:r.received===E.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case g.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,F.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:t=`Unrecognized key(s) in object: ${F.joinValues(r.keys,", ")}`;break;case g.invalid_union:t="Invalid input";break;case g.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${F.joinValues(r.options)}`;break;case g.invalid_enum_value:t=`Invalid enum value. Expected ${F.joinValues(r.options)}, received '${r.received}'`;break;case g.invalid_arguments:t="Invalid function arguments";break;case g.invalid_return_type:t="Invalid function return type";break;case g.invalid_date:t="Invalid date";break;case g.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:F.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case g.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case g.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case g.custom:t="Invalid input";break;case g.invalid_intersection_types:t="Intersection results could not be merged";break;case g.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case g.not_finite:t="Number must be finite";break;default:t=e.defaultError,F.assertNever(r)}return{message:t}},c_=_n;function JM(r){c_=r}function tu(){return c_}var ru=r=>{let{data:e,path:t,errorMaps:n,issueData:i}=r,o=[...t,...i.path||[]],s=q(v({},i),{path:o});if(i.message!==void 0)return q(v({},i),{path:o,message:i.message});let a="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)a=u(s,{data:e,defaultError:a}).message;return q(v({},i),{path:o,message:a})},KM=[];function S(r,e){let t=tu(),n=ru({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===_n?void 0:_n].filter(i=>!!i)});r.common.issues.push(n)}var te=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let i of t){if(i.status==="aborted")return A;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static mergeObjectAsync(e,t){return Ae(this,null,function*(){let n=[];for(let i of t){let o=yield i.key,s=yield i.value;n.push({key:o,value:s})}return r.mergeObjectSync(e,n)})}static mergeObjectSync(e,t){let n={};for(let i of t){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return A;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value!="undefined"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}},A=Object.freeze({status:"aborted"}),mn=r=>({status:"dirty",value:r}),ie=r=>({status:"valid",value:r}),ml=r=>r.status==="aborted",_l=r=>r.status==="dirty",ci=r=>r.status==="valid",li=r=>typeof Promise!="undefined"&&r instanceof Promise;function nu(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function l_(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t}var T;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(T||(T={}));var ai,ui,we=class{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},a_=(r,e)=>{if(ci(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new pe(r.common.issues);return this._error=t,this._error}}};function M(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var c,u;let{message:f}=r;return s.code==="invalid_enum_value"?{message:f!=null?f:a.defaultError}:typeof a.data=="undefined"?{message:(c=f!=null?f:n)!==null&&c!==void 0?c:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(u=f!=null?f:t)!==null&&u!==void 0?u:a.defaultError}},description:i}}var I=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:jt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new te,ctx:{common:e.parent.common,data:e.data,parsedType:jt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(li(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)},o=this._parseSync({data:e,path:i.path,parent:i});return a_(i,o)}parseAsync(e,t){return Ae(this,null,function*(){let n=yield this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error})}safeParseAsync(e,t){return Ae(this,null,function*(){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)},i=this._parse({data:e,path:n.path,parent:n}),o=yield li(i)?i:Promise.resolve(i);return a_(n,o)})}refine(e,t){let n=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue(v({code:g.custom},n(i)));return typeof Promise!="undefined"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new ve({schema:this,typeName:C.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Se.create(this,this._def)}nullable(){return Ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tt.create(this,this._def)}promise(){return It.create(this,this._def)}or(e){return cr.create([this,e],this._def)}and(e){return lr.create(this,e,this._def)}transform(e){return new ve(q(v({},M(this._def)),{schema:this,typeName:C.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new vr(q(v({},M(this._def)),{innerType:this,defaultValue:t,typeName:C.ZodDefault}))}brand(){return new fi(v({typeName:C.ZodBranded,type:this},M(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new mr(q(v({},M(this._def)),{innerType:this,catchValue:t,typeName:C.ZodCatch}))}describe(e){let t=this.constructor;return new t(q(v({},this._def),{description:e}))}pipe(e){return di.create(this,e)}readonly(){return _r.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},XM=/^c[^\s-]{8,}$/i,QM=/^[0-9a-z]+$/,eI=/^[0-9A-HJKMNP-TV-Z]{26}$/,tI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rI=/^[a-z0-9_-]{21}$/i,nI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",pl,sI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aI=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,f_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cI=new RegExp(`^${f_}$`);function d_(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function lI(r){return new RegExp(`^${d_(r)}$`)}function h_(r){let e=`${f_}T${d_(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function fI(r,e){return!!((e==="v4"||!e)&&sI.test(r)||(e==="v6"||!e)&&aI.test(r))}var Rt=class r extends I{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==E.string){let o=this._getOrReturnCtx(e);return S(o,{code:g.invalid_type,expected:E.string,received:o.parsedType}),A}let n=new te,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),S(i,{code:g.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),S(i,{code:g.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?S(i,{code:g.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&S(i,{code:g.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")iI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"email",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")pl||(pl=new RegExp(oI,"u")),pl.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"emoji",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")tI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"uuid",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")rI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"nanoid",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")XM.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"cuid",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")QM.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"cuid2",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")eI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"ulid",code:g.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch(s){i=this._getOrReturnCtx(e,i),S(i,{validation:"url",code:g.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"regex",code:g.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),S(i,{code:g.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),S(i,{code:g.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),S(i,{code:g.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?h_(o).test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{code:g.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?cI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{code:g.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?lI(o).test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{code:g.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?nI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"duration",code:g.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?fI(e.data,o.version)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"ip",code:g.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?uI.test(e.data)||(i=this._getOrReturnCtx(e,i),S(i,{validation:"base64",code:g.invalid_string,message:o.message}),n.dirty()):F.assertNever(o);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),v({validation:t,code:g.invalid_string},T.errToObj(n)))}_addCheck(e){return new r(q(v({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(v({kind:"email"},T.errToObj(e)))}url(e){return this._addCheck(v({kind:"url"},T.errToObj(e)))}emoji(e){return this._addCheck(v({kind:"emoji"},T.errToObj(e)))}uuid(e){return this._addCheck(v({kind:"uuid"},T.errToObj(e)))}nanoid(e){return this._addCheck(v({kind:"nanoid"},T.errToObj(e)))}cuid(e){return this._addCheck(v({kind:"cuid"},T.errToObj(e)))}cuid2(e){return this._addCheck(v({kind:"cuid2"},T.errToObj(e)))}ulid(e){return this._addCheck(v({kind:"ulid"},T.errToObj(e)))}base64(e){return this._addCheck(v({kind:"base64"},T.errToObj(e)))}ip(e){return this._addCheck(v({kind:"ip"},T.errToObj(e)))}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(v({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1},T.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(v({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},T.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(v({kind:"duration"},T.errToObj(e)))}regex(e,t){return this._addCheck(v({kind:"regex",regex:e},T.errToObj(t)))}includes(e,t){return this._addCheck(v({kind:"includes",value:e,position:t==null?void 0:t.position},T.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(v({kind:"startsWith",value:e},T.errToObj(t)))}endsWith(e,t){return this._addCheck(v({kind:"endsWith",value:e},T.errToObj(t)))}min(e,t){return this._addCheck(v({kind:"min",value:e},T.errToObj(t)))}max(e,t){return this._addCheck(v({kind:"max",value:e},T.errToObj(t)))}length(e,t){return this._addCheck(v({kind:"length",value:e},T.errToObj(t)))}nonempty(e){return this.min(1,T.errToObj(e))}trim(){return new r(q(v({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new r(q(v({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new r(q(v({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Rt.create=r=>{var e;return new Rt(v({checks:[],typeName:C.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1},M(r)))};function dI(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,o=parseInt(r.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}var nr=class r extends I{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==E.number){let o=this._getOrReturnCtx(e);return S(o,{code:g.invalid_type,expected:E.number,received:o.parsedType}),A}let n,i=new te;for(let o of this._def.checks)o.kind==="int"?F.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:g.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:g.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:g.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?dI(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),S(n,{code:g.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:g.not_finite,message:o.message}),i.dirty()):F.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,T.toString(t))}gt(e,t){return this.setLimit("min",e,!1,T.toString(t))}lte(e,t){return this.setLimit("max",e,!0,T.toString(t))}lt(e,t){return this.setLimit("max",e,!1,T.toString(t))}setLimit(e,t,n,i){return new r(q(v({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:T.toString(i)}]}))}_addCheck(e){return new r(q(v({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:T.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:T.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:T.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:T.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:T.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:T.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:T.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:T.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&F.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};nr.create=r=>new nr(v({checks:[],typeName:C.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1},M(r)));var ir=class r extends I{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==E.bigint){let o=this._getOrReturnCtx(e);return S(o,{code:g.invalid_type,expected:E.bigint,received:o.parsedType}),A}let n,i=new te;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:g.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:g.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),S(n,{code:g.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):F.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,T.toString(t))}gt(e,t){return this.setLimit("min",e,!1,T.toString(t))}lte(e,t){return this.setLimit("max",e,!0,T.toString(t))}lt(e,t){return this.setLimit("max",e,!1,T.toString(t))}setLimit(e,t,n,i){return new r(q(v({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:T.toString(i)}]}))}_addCheck(e){return new r(q(v({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:T.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:T.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:T.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:T.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ir.create=r=>{var e;return new ir(v({checks:[],typeName:C.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1},M(r)))};var or=class extends I{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==E.boolean){let n=this._getOrReturnCtx(e);return S(n,{code:g.invalid_type,expected:E.boolean,received:n.parsedType}),A}return ie(e.data)}};or.create=r=>new or(v({typeName:C.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1},M(r)));var sr=class r extends I{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==E.date){let o=this._getOrReturnCtx(e);return S(o,{code:g.invalid_type,expected:E.date,received:o.parsedType}),A}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return S(o,{code:g.invalid_date}),A}let n=new te,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),S(i,{code:g.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),S(i,{code:g.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):F.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r(q(v({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:T.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:T.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};sr.create=r=>new sr(v({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:C.ZodDate},M(r)));var yn=class extends I{_parse(e){if(this._getType(e)!==E.symbol){let n=this._getOrReturnCtx(e);return S(n,{code:g.invalid_type,expected:E.symbol,received:n.parsedType}),A}return ie(e.data)}};yn.create=r=>new yn(v({typeName:C.ZodSymbol},M(r)));var ar=class extends I{_parse(e){if(this._getType(e)!==E.undefined){let n=this._getOrReturnCtx(e);return S(n,{code:g.invalid_type,expected:E.undefined,received:n.parsedType}),A}return ie(e.data)}};ar.create=r=>new ar(v({typeName:C.ZodUndefined},M(r)));var ur=class extends I{_parse(e){if(this._getType(e)!==E.null){let n=this._getOrReturnCtx(e);return S(n,{code:g.invalid_type,expected:E.null,received:n.parsedType}),A}return ie(e.data)}};ur.create=r=>new ur(v({typeName:C.ZodNull},M(r)));var Mt=class extends I{constructor(){super(...arguments),this._any=!0}_parse(e){return ie(e.data)}};Mt.create=r=>new Mt(v({typeName:C.ZodAny},M(r)));var et=class extends I{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ie(e.data)}};et.create=r=>new et(v({typeName:C.ZodUnknown},M(r)));var Ce=class extends I{_parse(e){let t=this._getOrReturnCtx(e);return S(t,{code:g.invalid_type,expected:E.never,received:t.parsedType}),A}};Ce.create=r=>new Ce(v({typeName:C.ZodNever},M(r)));var bn=class extends I{_parse(e){if(this._getType(e)!==E.undefined){let n=this._getOrReturnCtx(e);return S(n,{code:g.invalid_type,expected:E.void,received:n.parsedType}),A}return ie(e.data)}};bn.create=r=>new bn(v({typeName:C.ZodVoid},M(r)));var tt=class r extends I{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==E.array)return S(t,{code:g.invalid_type,expected:E.array,received:t.parsedType}),A;if(i.exactLength!==null){let s=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(s||a)&&(S(t,{code:s?g.too_big:g.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(S(t,{code:g.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(S(t,{code:g.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((s,a)=>i.type._parseAsync(new we(t,s,t.path,a)))).then(s=>te.mergeArray(n,s));let o=[...t.data].map((s,a)=>i.type._parseSync(new we(t,s,t.path,a)));return te.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new r(q(v({},this._def),{minLength:{value:e,message:T.toString(t)}}))}max(e,t){return new r(q(v({},this._def),{maxLength:{value:e,message:T.toString(t)}}))}length(e,t){return new r(q(v({},this._def),{exactLength:{value:e,message:T.toString(t)}}))}nonempty(e){return this.min(1,e)}};tt.create=(r,e)=>new tt(v({type:r,minLength:null,maxLength:null,exactLength:null,typeName:C.ZodArray},M(e)));function vn(r){if(r instanceof ce){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Se.create(vn(n))}return new ce(q(v({},r._def),{shape:()=>e}))}else return r instanceof tt?new tt(q(v({},r._def),{type:vn(r.element)})):r instanceof Se?Se.create(vn(r.unwrap())):r instanceof Ue?Ue.create(vn(r.unwrap())):r instanceof De?De.create(r.items.map(e=>vn(e))):r}var ce=class r extends I{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=F.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==E.object){let u=this._getOrReturnCtx(e);return S(u,{code:g.invalid_type,expected:E.object,received:u.parsedType}),A}let{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ce&&this._def.unknownKeys==="strip"))for(let u in i.data)s.includes(u)||a.push(u);let c=[];for(let u of s){let f=o[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new we(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ce){let u=this._def.unknownKeys;if(u==="passthrough")for(let f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")a.length>0&&(S(i,{code:g.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let f of a){let h=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new we(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(()=>Ae(this,null,function*(){let u=[];for(let f of c){let h=yield f.key,p=yield f.value;u.push({key:h,value:p,alwaysSet:f.alwaysSet})}return u})).then(u=>te.mergeObjectSync(n,u)):te.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return T.errToObj,new r(v(q(v({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,n)=>{var i,o,s,a;let c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,t,n).message)!==null&&s!==void 0?s:n.defaultError;return t.code==="unrecognized_keys"?{message:(a=T.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}))}strip(){return new r(q(v({},this._def),{unknownKeys:"strip"}))}passthrough(){return new r(q(v({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new r(q(v({},this._def),{shape:()=>v(v({},this._def.shape()),e)}))}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>v(v({},this._def.shape()),e._def.shape()),typeName:C.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r(q(v({},this._def),{catchall:e}))}pick(e){let t={};return F.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r(q(v({},this._def),{shape:()=>t}))}omit(e){let t={};return F.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r(q(v({},this._def),{shape:()=>t}))}deepPartial(){return vn(this)}partial(e){let t={};return F.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new r(q(v({},this._def),{shape:()=>t}))}required(e){let t={};return F.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Se;)o=o._def.innerType;t[n]=o}}),new r(q(v({},this._def),{shape:()=>t}))}keyof(){return p_(F.objectKeys(this.shape))}};ce.create=(r,e)=>new ce(v({shape:()=>r,unknownKeys:"strip",catchall:Ce.create(),typeName:C.ZodObject},M(e)));ce.strictCreate=(r,e)=>new ce(v({shape:()=>r,unknownKeys:"strict",catchall:Ce.create(),typeName:C.ZodObject},M(e)));ce.lazycreate=(r,e)=>new ce(v({shape:r,unknownKeys:"strip",catchall:Ce.create(),typeName:C.ZodObject},M(e)));var cr=class extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new pe(a.ctx.common.issues));return S(t,{code:g.invalid_union,unionErrors:s}),A}if(t.common.async)return Promise.all(n.map(o=>Ae(this,null,function*(){let s=q(v({},t),{common:q(v({},t.common),{issues:[]}),parent:null});return{result:yield o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}}))).then(i);{let o,s=[];for(let c of n){let u=q(v({},t),{common:q(v({},t.common),{issues:[]}),parent:null}),f=c._parseSync({data:t.data,path:t.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(c=>new pe(c));return S(t,{code:g.invalid_union,unionErrors:a}),A}}get options(){return this._def.options}};cr.create=(r,e)=>new cr(v({options:r,typeName:C.ZodUnion},M(e)));var Qe=r=>r instanceof fr?Qe(r.schema):r instanceof ve?Qe(r.innerType()):r instanceof dr?[r.value]:r instanceof hr?r.options:r instanceof pr?F.objectValues(r.enum):r instanceof vr?Qe(r._def.innerType):r instanceof ar?[void 0]:r instanceof ur?[null]:r instanceof Se?[void 0,...Qe(r.unwrap())]:r instanceof Ue?[null,...Qe(r.unwrap())]:r instanceof fi||r instanceof _r?Qe(r.unwrap()):r instanceof mr?Qe(r._def.innerType):[],iu=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==E.object)return S(t,{code:g.invalid_type,expected:E.object,received:t.parsedType}),A;let n=this.discriminator,i=t.data[n],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(S(t,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),A)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let i=new Map;for(let o of t){let s=Qe(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new r(v({typeName:C.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i},M(n)))}};function yl(r,e){let t=jt(r),n=jt(e);if(r===e)return{valid:!0,data:r};if(t===E.object&&n===E.object){let i=F.objectKeys(e),o=F.objectKeys(r).filter(a=>i.indexOf(a)!==-1),s=v(v({},r),e);for(let a of o){let c=yl(r[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(t===E.array&&n===E.array){if(r.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<r.length;o++){let s=r[o],a=e[o],c=yl(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===E.date&&n===E.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var lr=class extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(ml(o)||ml(s))return A;let a=yl(o.value,s.value);return a.valid?((_l(o)||_l(s))&&t.dirty(),{status:t.value,value:a.data}):(S(n,{code:g.invalid_intersection_types}),A)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};lr.create=(r,e,t)=>new lr(v({left:r,right:e,typeName:C.ZodIntersection},M(t)));var De=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.array)return S(n,{code:g.invalid_type,expected:E.array,received:n.parsedType}),A;if(n.data.length<this._def.items.length)return S(n,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),A;!this._def.rest&&n.data.length>this._def.items.length&&(S(n,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let o=[...n.data].map((s,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new we(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>te.mergeArray(t,s)):te.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new r(q(v({},this._def),{rest:e}))}};De.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new De(v({items:r,typeName:C.ZodTuple,rest:null},M(e)))};var ou=class r extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.object)return S(n,{code:g.invalid_type,expected:E.object,received:n.parsedType}),A;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new we(n,a,n.path,a)),value:s._parse(new we(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?te.mergeObjectAsync(t,i):te.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof I?new r(v({keyType:e,valueType:t,typeName:C.ZodRecord},M(n))):new r(v({keyType:Rt.create(),valueType:e,typeName:C.ZodRecord},M(t)))}},gn=class extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.map)return S(n,{code:g.invalid_type,expected:E.map,received:n.parsedType}),A;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,c],u)=>({key:i._parse(new we(n,a,n.path,[u,"key"])),value:o._parse(new we(n,c,n.path,[u,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(()=>Ae(this,null,function*(){for(let c of s){let u=yield c.key,f=yield c.value;if(u.status==="aborted"||f.status==="aborted")return A;(u.status==="dirty"||f.status==="dirty")&&t.dirty(),a.set(u.value,f.value)}return{status:t.value,value:a}}))}else{let a=new Map;for(let c of s){let u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return A;(u.status==="dirty"||f.status==="dirty")&&t.dirty(),a.set(u.value,f.value)}return{status:t.value,value:a}}}};gn.create=(r,e,t)=>new gn(v({valueType:e,keyType:r,typeName:C.ZodMap},M(t)));var On=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.set)return S(n,{code:g.invalid_type,expected:E.set,received:n.parsedType}),A;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(S(n,{code:g.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(S(n,{code:g.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let o=this._def.valueType;function s(c){let u=new Set;for(let f of c){if(f.status==="aborted")return A;f.status==="dirty"&&t.dirty(),u.add(f.value)}return{status:t.value,value:u}}let a=[...n.data.values()].map((c,u)=>o._parse(new we(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,t){return new r(q(v({},this._def),{minSize:{value:e,message:T.toString(t)}}))}max(e,t){return new r(q(v({},this._def),{maxSize:{value:e,message:T.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};On.create=(r,e)=>new On(v({valueType:r,minSize:null,maxSize:null,typeName:C.ZodSet},M(e)));var su=class r extends I{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==E.function)return S(t,{code:g.invalid_type,expected:E.function,received:t.parsedType}),A;function n(a,c){return ru({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tu(),_n].filter(u=>!!u),issueData:{code:g.invalid_arguments,argumentsError:c}})}function i(a,c){return ru({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tu(),_n].filter(u=>!!u),issueData:{code:g.invalid_return_type,returnTypeError:c}})}let o={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof It){let a=this;return ie(function(...c){return Ae(this,null,function*(){let u=new pe([]),f=yield a._def.args.parseAsync(c,o).catch(_=>{throw u.addIssue(n(c,_)),u}),h=yield Reflect.apply(s,this,f);return yield a._def.returns._def.type.parseAsync(h,o).catch(_=>{throw u.addIssue(i(h,_)),u})})})}else{let a=this;return ie(function(...c){let u=a._def.args.safeParse(c,o);if(!u.success)throw new pe([n(c,u.error)]);let f=Reflect.apply(s,this,u.data),h=a._def.returns.safeParse(f,o);if(!h.success)throw new pe([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r(q(v({},this._def),{args:De.create(e).rest(et.create())}))}returns(e){return new r(q(v({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r(v({args:e||De.create([]).rest(et.create()),returns:t||et.create(),typeName:C.ZodFunction},M(n)))}},fr=class extends I{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};fr.create=(r,e)=>new fr(v({getter:r,typeName:C.ZodLazy},M(e)));var dr=class extends I{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return S(t,{received:t.data,code:g.invalid_literal,expected:this._def.value}),A}return{status:"valid",value:e.data}}get value(){return this._def.value}};dr.create=(r,e)=>new dr(v({value:r,typeName:C.ZodLiteral},M(e)));function p_(r,e){return new hr(v({values:r,typeName:C.ZodEnum},M(e)))}var hr=class r extends I{constructor(){super(...arguments),ai.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return S(t,{expected:F.joinValues(n),received:t.parsedType,code:g.invalid_type}),A}if(nu(this,ai,"f")||l_(this,ai,new Set(this._def.values),"f"),!nu(this,ai,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return S(t,{received:t.data,code:g.invalid_enum_value,options:n}),A}return ie(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,v(v({},this._def),t))}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),v(v({},this._def),t))}};ai=new WeakMap;hr.create=p_;var pr=class extends I{constructor(){super(...arguments),ui.set(this,void 0)}_parse(e){let t=F.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==E.string&&n.parsedType!==E.number){let i=F.objectValues(t);return S(n,{expected:F.joinValues(i),received:n.parsedType,code:g.invalid_type}),A}if(nu(this,ui,"f")||l_(this,ui,new Set(F.getValidEnumValues(this._def.values)),"f"),!nu(this,ui,"f").has(e.data)){let i=F.objectValues(t);return S(n,{received:n.data,code:g.invalid_enum_value,options:i}),A}return ie(e.data)}get enum(){return this._def.values}};ui=new WeakMap;pr.create=(r,e)=>new pr(v({values:r,typeName:C.ZodNativeEnum},M(e)));var It=class extends I{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==E.promise&&t.common.async===!1)return S(t,{code:g.invalid_type,expected:E.promise,received:t.parsedType}),A;let n=t.parsedType===E.promise?t.data:Promise.resolve(t.data);return ie(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};It.create=(r,e)=>new It(v({type:r,typeName:C.ZodPromise},M(e)));var ve=class extends I{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===C.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{S(n,s),s.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(a=>Ae(this,null,function*(){if(t.value==="aborted")return A;let c=yield this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?A:c.status==="dirty"||t.value==="dirty"?mn(c.value):c}));{if(t.value==="aborted")return A;let a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?A:a.status==="dirty"||t.value==="dirty"?mn(a.value):a}}if(i.type==="refinement"){let s=a=>{let c=i.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?A:(a.status==="dirty"&&t.dirty(),s(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?A:(a.status==="dirty"&&t.dirty(),s(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ci(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>ci(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:t.value,value:a})):s);F.assertNever(i)}};ve.create=(r,e,t)=>new ve(v({schema:r,typeName:C.ZodEffects,effect:e},M(t)));ve.createWithPreprocess=(r,e,t)=>new ve(v({schema:e,effect:{type:"preprocess",transform:r},typeName:C.ZodEffects},M(t)));var Se=class extends I{_parse(e){return this._getType(e)===E.undefined?ie(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Se.create=(r,e)=>new Se(v({innerType:r,typeName:C.ZodOptional},M(e)));var Ue=class extends I{_parse(e){return this._getType(e)===E.null?ie(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ue.create=(r,e)=>new Ue(v({innerType:r,typeName:C.ZodNullable},M(e)));var vr=class extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===E.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};vr.create=(r,e)=>new vr(v({innerType:r,typeName:C.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},M(e)));var mr=class extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=q(v({},t),{common:q(v({},t.common),{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:v({},n)});return li(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new pe(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};mr.create=(r,e)=>new mr(v({innerType:r,typeName:C.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},M(e)));var Sn=class extends I{_parse(e){if(this._getType(e)!==E.nan){let n=this._getOrReturnCtx(e);return S(n,{code:g.invalid_type,expected:E.nan,received:n.parsedType}),A}return{status:"valid",value:e.data}}};Sn.create=r=>new Sn(v({typeName:C.ZodNaN},M(r)));var hI=Symbol("zod_brand"),fi=class extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},di=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return Ae(this,null,function*(){let o=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?A:o.status==="dirty"?(t.dirty(),mn(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})});{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?A:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:C.ZodPipeline})}},_r=class extends I{_parse(e){let t=this._def.innerType._parse(e),n=i=>(ci(i)&&(i.value=Object.freeze(i.value)),i);return li(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}};_r.create=(r,e)=>new _r(v({innerType:r,typeName:C.ZodReadonly},M(e)));function v_(r,e={},t){return r?Mt.create().superRefine((n,i)=>{var o,s;if(!r(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(s=(o=a.fatal)!==null&&o!==void 0?o:t)!==null&&s!==void 0?s:!0,u=typeof a=="string"?{message:a}:a;i.addIssue(q(v({code:"custom"},u),{fatal:c}))}}):Mt.create()}var pI={object:ce.lazycreate},C;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(C||(C={}));var vI=(r,e={message:`Input not instance of ${r.name}`})=>v_(t=>t instanceof r,e),m_=Rt.create,__=nr.create,mI=Sn.create,_I=ir.create,y_=or.create,yI=sr.create,bI=yn.create,gI=ar.create,OI=ur.create,SI=Mt.create,wI=et.create,EI=Ce.create,xI=bn.create,kI=tt.create,qI=ce.create,TI=ce.strictCreate,PI=cr.create,CI=iu.create,AI=lr.create,jI=De.create,RI=ou.create,MI=gn.create,II=On.create,NI=su.create,FI=fr.create,LI=dr.create,DI=hr.create,UI=pr.create,BI=It.create,u_=ve.create,WI=Se.create,VI=Ue.create,$I=ve.createWithPreprocess,zI=di.create,ZI=()=>m_().optional(),GI=()=>__().optional(),HI=()=>y_().optional(),YI={string:r=>Rt.create(q(v({},r),{coerce:!0})),number:r=>nr.create(q(v({},r),{coerce:!0})),boolean:r=>or.create(q(v({},r),{coerce:!0})),bigint:r=>ir.create(q(v({},r),{coerce:!0})),date:r=>sr.create(q(v({},r),{coerce:!0}))},JI=A,me=Object.freeze({__proto__:null,defaultErrorMap:_n,setErrorMap:JM,getErrorMap:tu,makeIssue:ru,EMPTY_PATH:KM,addIssueToContext:S,ParseStatus:te,INVALID:A,DIRTY:mn,OK:ie,isAborted:ml,isDirty:_l,isValid:ci,isAsync:li,get util(){return F},get objectUtil(){return vl},ZodParsedType:E,getParsedType:jt,ZodType:I,datetimeRegex:h_,ZodString:Rt,ZodNumber:nr,ZodBigInt:ir,ZodBoolean:or,ZodDate:sr,ZodSymbol:yn,ZodUndefined:ar,ZodNull:ur,ZodAny:Mt,ZodUnknown:et,ZodNever:Ce,ZodVoid:bn,ZodArray:tt,ZodObject:ce,ZodUnion:cr,ZodDiscriminatedUnion:iu,ZodIntersection:lr,ZodTuple:De,ZodRecord:ou,ZodMap:gn,ZodSet:On,ZodFunction:su,ZodLazy:fr,ZodLiteral:dr,ZodEnum:hr,ZodNativeEnum:pr,ZodPromise:It,ZodEffects:ve,ZodTransformer:ve,ZodOptional:Se,ZodNullable:Ue,ZodDefault:vr,ZodCatch:mr,ZodNaN:Sn,BRAND:hI,ZodBranded:fi,ZodPipeline:di,ZodReadonly:_r,custom:v_,Schema:I,ZodSchema:I,late:pI,get ZodFirstPartyTypeKind(){return C},coerce:YI,any:SI,array:kI,bigint:_I,boolean:y_,date:yI,discriminatedUnion:CI,effect:u_,enum:DI,function:NI,instanceof:vI,intersection:AI,lazy:FI,literal:LI,map:MI,nan:mI,nativeEnum:UI,never:EI,null:OI,nullable:VI,number:__,object:qI,oboolean:HI,onumber:GI,optional:WI,ostring:ZI,pipeline:zI,preprocess:$I,promise:BI,record:RI,set:II,strictObject:TI,string:m_,symbol:bI,transformer:u_,tuple:jI,undefined:gI,union:PI,unknown:wI,void:xI,NEVER:JI,ZodIssueCode:g,quotelessJson:YM,ZodError:pe});var KI=me.object({serverUrl:me.string()}),b_=KI.parse({serverUrl:"https://io.superviz.com"});var bl=W(ka());var au=class{constructor(e){this.socket=e;this.onConnect=()=>{this.logger.log("connection @ on connect","Connected to the socket"),this.changeState("CONNECTED")};this.onDisconnect=e=>{this.logger.log("connection @ on disconnect","Disconnected from the socket"),this.changeState("DISCONNECTED",e)};this.onConnectError=e=>{this.logger.log("connection @ on connect error","Connection error",e),this.changeState("CONNECTION_ERROR",e.message)};this.onConnectionError=e=>{this.logger.log("connection @ on connection error","Connection error",e),this.changeState("CONNECTION_ERROR",e.message)};this.onReconnect=()=>{this.logger.log("connection @ on reconnect","Reconnected to the socket"),this.changeState("CONNECTED")};this.onReconnectError=e=>{this.logger.log("connection @ on reconnect error","Reconnect error",e),this.changeState("RECONNECT_ERROR",e.message)};this.onReconnectFailed=()=>{this.logger.log("connection @ on reconnect failed","Failed to reconnect to the socket"),this.changeState("RECONNECT_ERROR")};this.onReconnecAttempt=e=>{this.logger.log("connection @ on reconnect attempt",`Reconnect attempt #${e}`),this.changeState("RECONNECTING",`Reconnect attempt #${e}`)};this.onCustomError=e=>{e.needsToDisconnect&&(this.socket.disconnect(),this.changeState("DISCONNECTED",e.errorType));let t=`[SuperViz] 
    - Error: ${e.errorType}
    - Message: ${e.message}
    `;if(e.level==="error"){console.error(t);return}console.warn(t)};this.logger=new kt("@superviz/socket-client/connection"),this.subscribeToManagerEvents(),this.stateObserver=new bl.Subject}on(e,t){this.stateObserver.closed&&(this.stateObserver=new bl.Subject),this.stateObserver.subscribe({next:e,error:t})}off(){this.stateObserver.closed||this.stateObserver.unsubscribe()}subscribeToManagerEvents(){this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("connect_error",this.onConnectError),this.socket.io.on("error",this.onConnectionError),this.socket.io.on("reconnect",this.onReconnect),this.socket.io.on("reconnect_attempt",this.onReconnecAttempt),this.socket.io.on("reconnect_error",this.onReconnectError),this.socket.io.on("reconnect_failed",this.onReconnectFailed),this.socket.on("socket-event.error",this.onCustomError)}changeState(e,t){this.state=e,!this.stateObserver.closed&&this.stateObserver.next({state:e,reason:t})}};var gl=W(ka());var wn=class r{constructor(e,t,n,i,o=100){this.io=e;this.user=t;this.roomId=n;this.apiKey=i;this.maxConnections=o;this.isJoined=!1;this.subscriptions=new Map;this.observers=new Map;this.onJoinedRoom=e=>{var t;this.roomId===((t=e==null?void 0:e.data)==null?void 0:t.name)&&(this.isJoined=!0,this.io.emit("room.joined",this.roomId,e.data),this.logger.log("room @ joined",e))};this.onHttpEvent=e=>{this.publishEventToClient(e.name,e)};this.logger=new kt("@superviz/socket-client/room");let s={name:n,user:t,maxConnections:o};this.presence=an.register(e,t,n),this.io.emit("room.join",s),this.subscribeToRoomEvents()}static register(e,t,n,i,o){return new r(e,t,n,i,o)}on(e,t){this.logger.log("room @ on",e);let n=this.observers.get(e);n||(n=new gl.Subject,this.observers.set(e,n),this.io.on(e,i=>{this.publishEventToClient(e,i)})),this.subscriptions.set(t,n.subscribe(t))}off(e,t){var n;if(this.logger.log("room @ off",e),!t){this.observers.delete(e),this.io.off(e);return}(n=this.subscriptions.get(t))==null||n.unsubscribe()}emit(e,t){if(!this.isJoined){this.logger.log("Cannot emit event. Not joined to room");return}let n={name:e,roomId:this.roomId,presence:this.user,connectionId:this.io.id,data:t,timestamp:Date.now()};this.io.emit("room.update",this.roomId,n),this.logger.log("room @ emit",e,t)}history(e,t){let n=new gl.Subject;n.subscribe({next:e,error:t});let i=o=>{this.logger.log("room @ history",o),this.io.off("room.get",i),n.next(o),n.complete(),n.unsubscribe()};this.io.on("room.get",i),this.io.emit("room.get",this.roomId)}disconnect(){this.logger.log("room @ disconnect","Leaving room...",this.roomId),this.io.emit("room.leave",this.roomId),this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions.clear(),this.observers.forEach(e=>e.unsubscribe()),this.observers.clear(),this.presence.destroy()}publishEventToClient(e,t){let n=this.observers.get(e);!n||t.roomId!==this.roomId||n.next(t)}subscribeToRoomEvents(){this.io.on("room.joined",this.onJoinedRoom),this.io.on("room.error",e=>{this.logger.log("Error:",e.data)}),this.io.on(`http:${this.roomId}:${this.apiKey}`,this.onHttpEvent)}};var uu=class{constructor(e,t,n,i,o){this.apiKey=e;this.environment=t;this.presence=n;this.secret=i;this.clientId=o;this.manager=new At(b_.serverUrl,{addTrailingSlash:!1,secure:!0,withCredentials:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,extraHeaders:{"sv-api-key":this.apiKey}});let s;typeof window!="undefined"&&(s=window.location.origin),this.socket=this.manager.socket(`/${t}`,{auth:{apiKey:this.apiKey,origin:s,envirioment:this.environment,secret:this.secret,clientId:this.clientId}}),this.connection=new au(this.socket)}get state(){return this.connection.state}connect(e,t){return wn.register(this.socket,this.presence,e,this.apiKey,t)}destroy(){this.socket.disconnect(),this.connection.off()}};var W2=me.object({name:me.string(),user:me.object({id:me.string(),name:me.string().nullable()}),maxConnections:me.union([me.number(),me.literal("unlimited"),me.undefined()])});export{vi as ClientState,fu as PresenceEvents,an as PresenceRoom,uu as Realtime,wn as Room,lu as RoomEvents};
/*! Bundled license information:

xmlhttprequest-ssl/lib/XMLHttpRequest.js:
  (**
   * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
   *
   * This can be used with JS designed for browsers to improve reuse of code and
   * allow the use of existing libraries.
   *
   * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
   *
   * @author Dan DeFelippi <dan@driverdan.com>
   * @contributor David Ellis <d.f.ellis@ieee.org>
   * @license MIT
   *)
*/
